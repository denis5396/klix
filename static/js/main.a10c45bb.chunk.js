(this.webpackJsonpklix=this.webpackJsonpklix||[]).push([[0],[,,,,,,function(e,t,n){e.exports={editArticles:"EditArticle_editArticles__1N9zU",allArticlesMainBodyContent:"EditArticle_allArticlesMainBodyContent__1M2Oe",articleTitles:"EditArticle_articleTitles__hMYMj",articleItemSm:"EditArticle_articleItemSm__2sym_",articleItemBg:"EditArticle_articleItemBg__23RhP",articleImgCnt:"EditArticle_articleImgCnt__DHec4",articleImageCntBg:"EditArticle_articleImageCntBg__ww2Mv",articleItemFetchTitles:"EditArticle_articleItemFetchTitles__MLGso",editBundler:"EditArticle_editBundler__s9JFl",addingBundler:"EditArticle_addingBundler__37Y6U",articleFooter:"EditArticle_articleFooter__2eIcI",articleItemBgHeader:"EditArticle_articleItemBgHeader__2mpz_",articleItemBgFooter:"EditArticle_articleItemBgFooter__2LR-F",articleItemBgFooterBundle:"EditArticle_articleItemBgFooterBundle__1yrOO",articleSubCnt:"EditArticle_articleSubCnt__mLHo7",subLeft:"EditArticle_subLeft__3si0I",subLeftItem:"EditArticle_subLeftItem__2tKQD",subLeftItemImg:"EditArticle_subLeftItemImg__1Q9JG",subLeftItemText:"EditArticle_subLeftItemText__3AyKF",subLeftItemBundle:"EditArticle_subLeftItemBundle__21Gni",subLeftBundleRight:"EditArticle_subLeftBundleRight__2HeS4",subRightBundleRight:"EditArticle_subRightBundleRight__1Rvvu",subRight:"EditArticle_subRight__YDdyo",subRightItem:"EditArticle_subRightItem__1MF3l",subRightText:"EditArticle_subRightText__20e11",subRightBundle:"EditArticle_subRightBundle__1kibv",allArticlesBody:"EditArticle_allArticlesBody__RLm0F",allArticleItem:"EditArticle_allArticleItem__-Z4Hi",addArticle:"EditArticle_addArticle__3ORhu",addArticleLeft:"EditArticle_addArticleLeft__3hum5",addArticleBg:"EditArticle_addArticleBg__1wLwd",allArticlesHeader:"EditArticle_allArticlesHeader__6vEJs",allArticlesItems:"EditArticle_allArticlesItems__2nsnm",articleFetchItem:"EditArticle_articleFetchItem__2oQcT",articleFetchItemImgCnt:"EditArticle_articleFetchItemImgCnt__20qK7",articleItemFetchFooter:"EditArticle_articleItemFetchFooter__2JYbM",articleItemFetchBundle:"EditArticle_articleItemFetchBundle__YIeDF",fetchBtn:"EditArticle_fetchBtn__18naX",saveChanges:"EditArticle_saveChanges__301Ra",chooseModeCnt:"EditArticle_chooseModeCnt__2nnff",empty:"EditArticle_empty__3w86Y",emptyBg:"EditArticle_emptyBg__1WZcG",emptySub:"EditArticle_emptySub__3aH44"}},,,,function(e,t,n){e.exports={articleParent:"Article_articleParent__1_-Oq",articleHeader:"Article_articleHeader__1tol4",articleBody:"Article_articleBody__1eBLk",articleSidebarLeft:"Article_articleSidebarLeft__i5-X4",bundleDiv:"Article_bundleDiv___XfdY",articleBodyContent:"Article_articleBodyContent__2Nbwn",articleSidebarRight:"Article_articleSidebarRight__2HQau",postedData:"Article_postedData__r36L3",postedDataTwo:"Article_postedDataTwo__3HEvG",commentsShare:"Article_commentsShare__2z0YI",comments:"Article_comments__3xH9D",shareArticle:"Article_shareArticle__3ryig",imageContainer:"Article_imageContainer__fUn54",captionTxt:"Article_captionTxt__xXuMg",articleText:"Article_articleText__2g8tl",tags:"Article_tags__ERLsn",addComment:"Article_addComment__rZDU9",showComments:"Article_showComments__PnNNE",linkedArticlesBody:"Article_linkedArticlesBody__29JER",linkedArticlesHeader:"Article_linkedArticlesHeader__2ZqxO",linkedPromoHeader:"Article_linkedPromoHeader__3eCnl",linkedPromo:"Article_linkedPromo__XaJ-e",artTxt:"Article_artTxt__1_UE6",artTxtBold:"Article_artTxtBold__3oLsM",textBelowImage:"Article_textBelowImage__3kDyE",imageSliderContainer:"Article_imageSliderContainer__1LJV_",mainSliderImage:"Article_mainSliderImage__2OYto",sliderImages:"Article_sliderImages__2_4n4",clickForMore:"Article_clickForMore__2KeRK",clickedSlider:"Article_clickedSlider__2owTV",sliderMainImgContainer:"Article_sliderMainImgContainer__2KwoX",sliderHeaderBar:"Article_sliderHeaderBar__2C_4B",slideZoomExpand:"Article_slideZoomExpand__2WAGB",sliderFooterBar:"Article_sliderFooterBar__1Nhf1",slideNumbers:"Article_slideNumbers__2nEq2",sliderRight:"Article_sliderRight__6PNfh",sliderLeft:"Article_sliderLeft__1alWh",ytConfig:"Article_ytConfig__XpqCg"}},function(e,t,n){e.exports={addArticle:"AddArticle_addArticle__1Pint",addTitle:"AddArticle_addTitle__1Dr-P",addArticleBody:"AddArticle_addArticleBody__18vce",addText:"AddArticle_addText__28Sm9",addImages:"AddArticle_addImages___T9Rc",addTextHeader:"AddArticle_addTextHeader__1zP61",addImagesHeader:"AddArticle_addImagesHeader__2KsVQ",addImagesBundleLeft:"AddArticle_addImagesBundleLeft__3sN90",addImagesBundleRight:"AddArticle_addImagesBundleRight__2Yosg",addTextBody:"AddArticle_addTextBody__1WThD",addTextBodyHeader:"AddArticle_addTextBodyHeader__2nJuv",listOl:"AddArticle_listOl__7k0uz",imageContainer:"AddArticle_imageContainer__2r7am",deletable:"AddArticle_deletable__1g7Vr",imageWrapper:"AddArticle_imageWrapper__GxsmQ",previewImage:"AddArticle_previewImage__1lZ7O",addImagesBody:"AddArticle_addImagesBody__2B1JU",uploadImageContainer:"AddArticle_uploadImageContainer__1CfsS",imageCaptionContainer:"AddArticle_imageCaptionContainer__3r7AA",uploadImageText:"AddArticle_uploadImageText__1vIBB",imageCaptionText:"AddArticle_imageCaptionText__1qKwT",uploadImage:"AddArticle_uploadImage__OoIbw",imageCaption:"AddArticle_imageCaption__3AJGo",author:"AddArticle_author__K6tXR",authorInfo:"AddArticle_authorInfo__3s98h",authorCnt:"AddArticle_authorCnt__1VDqz",category:"AddArticle_category__2_K-v",tag:"AddArticle_tag__2g2XB",tagItem:"AddArticle_tagItem__3ysme",tagContainer:"AddArticle_tagContainer__oX3bd",commentsAllowed:"AddArticle_commentsAllowed__3joov",commentBundle:"AddArticle_commentBundle__3eupi",commentItem:"AddArticle_commentItem__2XRYX",subcategory:"AddArticle_subcategory__2S4x5"}},function(e,t,n){e.exports={border:"EditProfile_border__m7kmD",editProfileContainer:"EditProfile_editProfileContainer__34i5D",editProfileItem:"EditProfile_editProfileItem__1BiBT",bundle:"EditProfile_bundle__2G3_7",username:"EditProfile_username__3ZYc_",colors:"EditProfile_colors__131Ma",radioField:"EditProfile_radioField__RZI5t",password:"EditProfile_password__2DeyI",passwordConfirm:"EditProfile_passwordConfirm__3SN9f",gender:"EditProfile_gender__1pDAi",gender2:"EditProfile_gender2__3DXHi",saveBtn:"EditProfile_saveBtn__1MB0Q",possibleErrors:"EditProfile_possibleErrors__2hIgt"}},,function(e,t,n){e.exports={sub:"HomeSub_sub__2TEoo",itemImg:"HomeSub_itemImg__3o1UV",subBodyHeader:"HomeSub_subBodyHeader__2zZ6U",subBody:"HomeSub_subBody__1fiy_",subBodyLeft:"HomeSub_subBodyLeft__pVzJJ",subBodyItemsBundle:"HomeSub_subBodyItemsBundle__1sh7Q",subBodyItem:"HomeSub_subBodyItem__wh5rw",itemText:"HomeSub_itemText__2VBOk",itemImgFour:"HomeSub_itemImgFour__yAr0E",itemBundle:"HomeSub_itemBundle__2a_XD",itemBundleR:"HomeSub_itemBundleR__i0AJA",subBodyBundleItem:"HomeSub_subBodyBundleItem__2EWGE",itemBundleRight:"HomeSub_itemBundleRight__1YlM2",promoCnt:"HomeSub_promoCnt__PES26",promoHeader:"HomeSub_promoHeader__3ldhJ",promoBody:"HomeSub_promoBody__NsLD5"}},,function(e,t,n){e.exports={commentPageContainer:"Comment_commentPageContainer__3XQE-",commentPageContainerHeader:"Comment_commentPageContainerHeader__69dyh",headerBundle:"Comment_headerBundle__1U8HJ",headerShares:"Comment_headerShares__2Ob5H",commentPageContainerBody:"Comment_commentPageContainerBody__2-fiK",commentSidebarLeft:"Comment_commentSidebarLeft__1vM-s",bundleDiv:"Comment_bundleDiv__4fbiL",postedData:"Comment_postedData__TQyov",postedDataTwo:"Comment_postedDataTwo__3nhNp",commentsShare:"Comment_commentsShare__1_y-s",postCommentTextarea:"Comment_postCommentTextarea__1_zbU",shareArticle:"Comment_shareArticle__3R4YC",commentBodyContent:"Comment_commentBodyContent__1G4QM",commentBodyHeaderInfo:"Comment_commentBodyHeaderInfo__3ou1U",povratakNaClanak:"Comment_povratakNaClanak__26Js3",prijavaKorisnika:"Comment_prijavaKorisnika__2as8H",commentBodyHeaderTypeSignIn:"Comment_commentBodyHeaderTypeSignIn__2rUd6",commentBodyHeaderAlert:"Comment_commentBodyHeaderAlert__oTgfr",postCommentBundle:"Comment_postCommentBundle__30VG4",commentBody:"Comment_commentBody__3qQ5w"}},,function(e,t,n){e.exports={commentContainer:"CommentItem_commentContainer__3ep8C",commentContainerReply:"CommentItem_commentContainerReply__mETek",commentHeader:"CommentItem_commentHeader__lP07n",commentHeaderFirst:"CommentItem_commentHeaderFirst__1DbO6",commentHeaderSecond:"CommentItem_commentHeaderSecond__169IQ",commentBody:"CommentItem_commentBody__13nqz",commentFooter:"CommentItem_commentFooter__LDr2y",like:"CommentItem_like__14jTY",dislike:"CommentItem_dislike__Fh6nx",reportLikeParent:"CommentItem_reportLikeParent__3SThR",divide:"CommentItem_divide__1a9fX",report:"CommentItem_report__16Io5",reply:"CommentItem_reply__1-FUT",topComment:"CommentItem_topComment__3TTwg",negativeComment:"CommentItem_negativeComment__1igMr"}},,function(e,t,n){e.exports={commentLinkContainer:"LinkToComment_commentLinkContainer__1A3Co",commentPageContainerHeader:"LinkToComment_commentPageContainerHeader__22ZWJ",headerBundle:"LinkToComment_headerBundle__2Ia_z",headerShares:"LinkToComment_headerShares__1lcTK",commentPageContainerBody:"LinkToComment_commentPageContainerBody__3xA0o",commentSidebarLeft:"LinkToComment_commentSidebarLeft__29iNi",bundleDiv:"LinkToComment_bundleDiv__3_2W6",postedData:"LinkToComment_postedData__1VBC_",postedDataTwo:"LinkToComment_postedDataTwo__sMY6_",commentsShare:"LinkToComment_commentsShare__1Yl6X",shareArticle:"LinkToComment_shareArticle__3Ki8n",commentBodyContent:"LinkToComment_commentBodyContent__1oHmo",commentBodyContentHeader:"LinkToComment_commentBodyContentHeader__yJb8S",povratakNaClanak:"LinkToComment_povratakNaClanak__1KANv"}},,function(e,t,n){e.exports={reportContainer:"ReportComment_reportContainer__3tPhE",reportRadioBtns:"ReportComment_reportRadioBtns__30UBP",bundleRadios:"ReportComment_bundleRadios__33oUJ",confirm:"ReportComment_confirm__2NMuL",footerNote:"ReportComment_footerNote__1u9sP"}},,,,function(e,t,n){e.exports={logo:"Nav_logo__eGT1n",navHeader:"Nav_navHeader__kz4uz",bundle:"Nav_bundle__2Hi_W",box:"Nav_box__tijUH",headerUl:"Nav_headerUl__FKu_b"}},function(e,t,n){e.exports={homeMain:"HomeMain_homeMain__1c5Dz",main:"HomeMain_main__3xFDk",mainBoxBig:"HomeMain_mainBoxBig__3IM8w",mainBox:"HomeMain_mainBox__3_qEQ",mainBoxHeader:"HomeMain_mainBoxHeader__1b5oQ",mainBoxFooter:"HomeMain_mainBoxFooter__1rZ3k",mainBoxFooterBundle:"HomeMain_mainBoxFooterBundle__1PBgS",mainBoxImg:"HomeMain_mainBoxImg__1DNdc",sideBar:"HomeMain_sideBar__SxZrO",sideBarControls:"HomeMain_sideBarControls__3bR7b",sideBarControlItem:"HomeMain_sideBarControlItem__vB4gs",sideBarContent:"HomeMain_sideBarContent__32bU2",sideBarItem:"HomeMain_sideBarItem__DhiuP",sideBarItemBundle:"HomeMain_sideBarItemBundle__MGyCv",sideBarItemBundleRight:"HomeMain_sideBarItemBundleRight__A-zNX"}},function(e,t,n){e.exports={sideBar:"HomeMainSub_sideBar__3M4dE",sideBarControls:"HomeMainSub_sideBarControls__1ual7",sideBarControlItem:"HomeMainSub_sideBarControlItem__ICqAn",itemActive:"HomeMainSub_itemActive__30TMJ",sideBarContent:"HomeMainSub_sideBarContent__1Yrkz",sideBarItem:"HomeMainSub_sideBarItem__3HxYF",sideBarItemBundle:"HomeMainSub_sideBarItemBundle__KGUjS",sideBarItemBundleRight:"HomeMainSub_sideBarItemBundleRight__IlXpM"}},,function(e,t,n){e.exports={popularCnt:"Popular_popularCnt__21fyL",popularHeader:"Popular_popularHeader__6tLvR",popularItem:"Popular_popularItem__3gtjF",popularItemHeader:"Popular_popularItemHeader__3gZim",popularItemBody:"Popular_popularItemBody__2b0Jp",popularItemFooter:"Popular_popularItemFooter__3-Om5",itemTime:"Popular_itemTime__XpWi6",spanComShare:"Popular_spanComShare__z3Tri",spanShare:"Popular_spanShare__1SnNR",spanComment:"Popular_spanComment__THqgY"}},function(e,t,n){e.exports={commentContainer:"UserComment_commentContainer__mOCVT",commentHeader:"UserComment_commentHeader__26NZj",commentHeaderFirst:"UserComment_commentHeaderFirst__1pa_0",commentHeaderSecond:"UserComment_commentHeaderSecond__29A7i",commentBody:"UserComment_commentBody__380YP",commentFooter:"UserComment_commentFooter__31gc-",like:"UserComment_like__51qDR",dislike:"UserComment_dislike__1s03A",report:"UserComment_report__cKvyb",reply:"UserComment_reply__2wSTA"}},function(e,t,n){e.exports={userInfoContainer:"UserInfo_userInfoContainer__21zAf",userInfo:"UserInfo_userInfo__2V8z1",userInfoF:"UserInfo_userInfoF__U2QYJ",userData:"UserInfo_userData__3-s6a",userDataItem:"UserInfo_userDataItem__1S8zh",commentContainer:"UserInfo_commentContainer__1HMp9",comments:"UserInfo_comments__1MNmM"}},function(e,t,n){e.exports={loginForm:"LoginForm_loginForm__226Wf",fbgoo:"LoginForm_fbgoo__1LKhf",fb:"LoginForm_fb__W6OC_",goo:"LoginForm_goo__32aZq",nastavite:"LoginForm_nastavite__2SsaO",username:"LoginForm_username__gffse",password:"LoginForm_password__1wt-s",remember:"LoginForm_remember__1LbVK",error:"LoginForm_error__1wkod"}},,function(e,t,n){e.exports={article:"Articles_article__2D2dX",textBundle:"Articles_textBundle__-OhVj",articleOptionsBundle:"Articles_articleOptionsBundle__MKj7r",articleOptions:"Articles_articleOptions__3HO9L",editArticle:"Articles_editArticle__nm3bT",editArticleItem:"Articles_editArticleItem__1NfvT"}},,,function(e,t,n){e.exports={progressParent:"ProgressBar_progressParent__pnVaP",progressItem:"ProgressBar_progressItem__eaz92",progressBar:"ProgressBar_progressBar__t3Lzb",currentProgress:"ProgressBar_currentProgress__21z0_",done:"ProgressBar_done__vJLqe",finished:"ProgressBar_finished__3qtOS"}},,,,function(e,t,n){e.exports={promoItem:"LinkedPromo_promoItem__2Lu50",promoImageCnt:"LinkedPromo_promoImageCnt__3v4jF",promoBody:"LinkedPromo_promoBody__2xaj5",promoFooter:"LinkedPromo_promoFooter__2JKSx"}},function(e,t,n){e.exports={header:"ResetPassword_header__3Jilb",parag:"ResetPassword_parag__2h7Ml",form:"ResetPassword_form__JIYaX",inputBundle:"ResetPassword_inputBundle__26Esc"}},,,,function(e,t,n){e.exports={imageContainer:"LinkedArticles_imageContainer__1m5OA",linkedArticle:"LinkedArticles_linkedArticle__5kdV8",linkedArticleSolo:"LinkedArticles_linkedArticleSolo__25yac"}},,,function(e,t,n){e.exports={articleLinkImage:"ArticleLink_articleLinkImage__tKtk6",articleLink:"ArticleLink_articleLink__Jd70I",articleLinkText:"ArticleLink_articleLinkText__3N-iv"}},function(e,t,n){e.exports={postCommentTextarea:"CommentType_postCommentTextarea__2lemm",postCommentBundle:"CommentType_postCommentBundle__O6-fL",postComment:"CommentType_postComment__yasYQ"}},function(e,t,n){e.exports={commentReply:"CommentReply_commentReply__3ty_t",commentReplyFooter:"CommentReply_commentReplyFooter__3jxjT",commentReplyReplies:"CommentReply_commentReplyReplies__1jFXz"}},function(e,t,n){e.exports={showCommentReplies:"CommentShow_showCommentReplies__20HUz",showCommentMore:"CommentShow_showCommentMore__1DBIw",showAll:"CommentShow_showAll__nfhXw"}},function(e,t,n){e.exports={footer:"Footer_footer__25BDU",followUs:"Footer_followUs__1DOPk",cpr:"Footer_cpr__3kN3H"}},,,,,,function(e,t,n){e.exports={modal:"Modal_modal__24H1s",modalBtns:"Modal_modalBtns__36Xur"}},,function(e,t,n){e.exports={border:"Login_border__Avq0k",borderTwo:"Login_borderTwo__2YKuN"}},function(e,t,n){e.exports={commentRulesCnt:"CommentRules_commentRulesCnt__3Z-tf",commentRulesBody:"CommentRules_commentRulesBody__3oqTL"}},,,,,,function(e,t,n){e.exports={overlay:"Overlay_overlay__1urC2"}},,function(e,t,n){e.exports={border:"AdminPanelContainer_border__2RyGz",itemContainer:"AdminPanelContainer_itemContainer__1Z5qq",addArticle:"AdminPanelContainer_addArticle__1v5mA",articles:"AdminPanelContainer_articles__c3vDP"}},,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/gooicon.35bcce80.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/powerplant.e7b7fee7.jpg"},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(7),r=n(48),s=n.n(r),i=(n(76),n(15)),l=(n(77),n(3)),d=n(4),m=n(41);n(107),n(78),n(82);m.a.initializeApp({apiKey:"AIzaSyDDpLMfCuKs4jQJwf_5xsNQ5VuSBPZtIDk",authDomain:"klix-74c29.firebaseapp.com",databaseURL:"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app",projectId:"klix-74c29",storageBucket:"klix-74c29.appspot.com",messagingSenderId:"121815054131",appId:"1:121815054131:web:d4fc6a7fc766feb7897046"});var u=m.a.storage(),j=m.a.database(),b=m.a.auth(),h=n(0),f=Object(a.createContext)({token:"",isLoggedIn:!1,user:{uId:"",displayName:"",gender:"",avatarColor:"",banned:!1,registered:""},overlay:!1,signUp:function(e,t,n){},setUserObj:function(){},login:function(e){},logout:function(){},handleOverlay:function(){}}),p=function(e){var t=(new Date).getTime();return new Date(e).getTime()-t},O=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("expirationTime"),n=p(t);return n<=6e4?(localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),null):{token:e,duration:n}},g=function(e){var t,n=O();n&&(t=n.token);var c={uId:"",displayName:"",gender:"Jo\u0161 niste odabrali",avatarColor:"c1c1c1",banned:"Ne",registered:""},o=Object(a.useState)(JSON.parse(localStorage.getItem("userObj"))||c),r=Object(d.a)(o,2),s=r[0],i=r[1],m=Object(a.useState)(t),u=Object(d.a)(m,2),g=u[0],x=u[1],v=b.currentUser,k=!!g&&s.displayName||localStorage.getItem("rememberMe")&&s.displayName,y=Object(a.useState)(!1),_=Object(d.a)(y,2),C=_[0],I=_[1],D=Object(a.useRef)(null);Object(a.useEffect)((function(){if(!D.current&&n){var e=O();D.current=setTimeout(S,e.duration)}return function(){}}),[]),Object(a.useEffect)((function(){v&&console.log("userhere")}),[v]),Object(a.useEffect)((function(){s&&v&&(console.log(s),localStorage.setItem("userObj",JSON.stringify(s)))}),[s]);var S=Object(a.useCallback)((function(){x(null),localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),localStorage.removeItem("userObj"),localStorage.removeItem("rememberMe"),i(c),D.current&&clearTimeout(D.current),b.signOut()}),[]);Object(a.useEffect)((function(){n&&(console.log(n.duration),D.current=setTimeout(S,n.duration))}),[n,S]);var w={token:g,isLoggedIn:k,user:s,overlay:C,signUp:function(e,t,n){console.log("signupstart");var a=Object(l.a)(Object(l.a)({},s),{},{displayName:t,uId:e});j.ref("/users/".concat(e,"/userData")).get().then((function(t){if(t.exists){console.log("signupsuccess"),console.log(t.val());var c=t.val();c?i(Object(l.a)({},c)):(i(Object(l.a)(Object(l.a)({},a),{},{registered:n})),b.onAuthStateChanged((function(t){t&&t.getIdToken(!0).then((function(t){fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(e,"/userData.json?auth=").concat(t),{method:"PUT",body:JSON.stringify(Object(l.a)(Object(l.a)({},a),{},{registered:n})),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}))})))}})).catch((function(e){return console.log(e)}))},setUserObj:i,login:function(e,t){console.log("signin"),x(e),console.log(e),localStorage.setItem("token",e),localStorage.setItem("expirationTime",t);var n=p(t);D.current=setTimeout(S,n)},logout:S,handleOverlay:function(){I(!C)}};return Object(h.jsx)(f.Provider,{value:w,children:e.children})},x=f,v=n(26),k=n.n(v),y=function(){var e=Object(a.useContext)(x);e.isLoggedIn;return Object(h.jsxs)("header",{id:k.a.navHeader,children:[Object(h.jsx)("div",{id:k.a.logo,children:Object(h.jsx)(o.b,{to:"/",children:Object(h.jsx)("h1",{children:"plus"})})}),Object(h.jsxs)("ul",{id:k.a.headerUl,children:[Object(h.jsx)("li",{children:Object(h.jsxs)(o.b,{to:{pathname:"/Vijesti"},children:[Object(h.jsx)("span",{className:k.a.box}),"Vijesti"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(o.b,{to:{pathname:"/Biznis"},children:[Object(h.jsx)("span",{className:k.a.box}),"Biznis"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(o.b,{to:{pathname:"/Sport"},children:[Object(h.jsx)("span",{className:k.a.box}),"Sport"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(o.b,{to:{pathname:"/Magazin"},children:[Object(h.jsx)("span",{className:k.a.box}),"Magazin"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(o.b,{to:{pathname:"/Lifestyle"},children:[Object(h.jsx)("span",{className:k.a.box}),"Lifestyle"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(o.b,{to:{pathname:"/Scitech"},children:[Object(h.jsx)("span",{className:k.a.box}),"Scitech"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(o.b,{to:{pathname:"/Auto"},children:[Object(h.jsx)("span",{className:k.a.box}),"Auto"]})}),Object(h.jsxs)("li",{children:[Object(h.jsx)("span",{className:k.a.box}),"Forum"]})]}),Object(h.jsxs)("div",{id:k.a.bundle,children:[Object(h.jsx)("i",{class:"fas fa-search"}),Object(h.jsxs)(o.b,{to:e.user.displayName?"/profil/".concat(e.user.displayName):"/login",children:[!e.isLoggedIn&&Object(h.jsx)("i",{class:"far fa-user"}),e.isLoggedIn&&Object(h.jsx)("i",{class:"fas fa-user",style:{backgroundColor:"#".concat(e.user.avatarColor),color:"#fff",padding:".7rem",borderRadius:".3rem",fontSize:"1.3rem"}})]}),Object(h.jsx)("i",{class:"fas fa-bars"})]})]})},_=n(5),C=n(27),I=n.n(C),D=n(6),S=n.n(D),w=n(13),B=n.n(w),N=n(19),T=n(49),A=n(108),L=n(11),P=n.n(L),R=n(69),E=n.n(R),F=function(e,t){var n=Object(a.useContext)(x);return Object(a.useEffect)((function(){}),[]),Object(h.jsx)("div",{id:E.a.overlay,onClick:function(t){var a=t.target.id;n.overlay&&a.includes("overlay")||n.overlay&&"Ne"===t.target.textContent?n.handleOverlay():n.overlay&&"Da"===t.target.textContent&&(e.handleConfirm(),n.handleOverlay())},ref:t,onMouseDown:e.handleCloseOverlay,style:e.navZ&&{zIndex:1},children:e.children})},M=c.a.forwardRef(F),H=n(60),z=n.n(H),J=function(e,t){return Object(h.jsxs)("div",{id:z.a.modal,ref:t,onClick:e.handleClick,children:[Object(h.jsx)("div",{children:"Da li ste sigurni?"}),Object(h.jsxs)("div",{id:z.a.modalBtns,children:[Object(h.jsx)("button",{children:"Da"}),Object(h.jsx)("button",{children:"Ne"})]})]})},U=c.a.forwardRef(J),K=n(38),V=n.n(K),Y=function(e,t){return Object(h.jsxs)("div",{id:V.a.progressParent,ref:t,children:[!e.articleAdded&&e.progress.map((function(e){return Object(h.jsxs)("div",{className:V.a.progressItem,children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:e.imageName})}),Object(h.jsx)("div",{className:V.a.progressBar,children:Object(h.jsx)("div",{className:V.a.currentProgress})}),Object(h.jsx)("div",{className:V.a.done,children:Object(h.jsx)("i",{class:"fas fa-check"})})]},Object(A.a)())})),e.articleAdded&&Object(h.jsxs)("div",{id:V.a.finished,children:[Object(h.jsx)("h3",{children:"\u010clanak je uspje\u0161no postavljen u bazu podataka."}),Object(h.jsx)("button",{children:"Ok"})]})]})},Z=c.a.forwardRef(Y),X=n(61),G={"po\u010detna":["Vijesti","Biznis","Sport","Magazin","Lifestyle","Auto","Scitech"],vijesti:["BiH","Regija","Svijet","Dijaspora","Crna hronika","Humanitarne akcije"],biznis:["Privreda","Finansije","Investicije","Smart Cash","Berza","Startupi","Posao"],sport:["Nogomet","Ko\u0161arka","Tenis","Rukomet","Formula 1","Skijanje","Atletika","Borila\u010dki sportovi","Plivanje"],magazin:["Kultura","Muzika","Film/TV","Showbiz","Zanimljivosti"],lifestyle:["Moda i ljepota","Zdravlje","Veze i seks","Gastro","Ku\u0107a i ured","Putovanja","Bebe","Fitness","Ljubimci"],scitech:["Nauka","Tehnologija"],auto:["Testovi","Noviteti","Koncepti","Tuning"]},q=function(){var e=Object(a.useContext)(x),t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],o=n[1],r=Object(X.useLocation)(),s=Object(X.useHistory)(),i=Object(a.useState)(!1),m=Object(d.a)(i,2),f=(m[0],m[1],Object(a.useState)({enter:!1,num:0})),p=Object(d.a)(f,2),O=(p[0],p[1],Object(a.useState)([])),g=Object(d.a)(O,2),v=g[0],k=g[1],y=Object(a.useState)({}),C=Object(d.a)(y,2),I=C[0],D=C[1],S=Object(a.useState)([]),w=Object(d.a)(S,2),T=w[0],L=w[1],R=Object(a.useState)(!1),E=Object(d.a)(R,2),F=(E[0],E[1]),H=Object(a.useState)([]),z=Object(d.a)(H,2),J=z[0],K=z[1],V=Object(a.useState)([]),Y=Object(d.a)(V,2),q=Y[0],Q=Y[1],W=Object(a.useState)(!1),$=Object(d.a)(W,2),ee=$[0],te=$[1],ne=Object(a.useState)(!1),ce=Object(d.a)(ne,2),oe=ce[0],re=ce[1],se=Object(a.useState)([]),ie=Object(d.a)(se,2),le=ie[0],de=ie[1],me=Object(a.useState)("BiH"),ue=Object(d.a)(me,2),je=ue[0],be=ue[1],he=Object(a.useState)(!1),fe=Object(d.a)(he,2),pe=fe[0],Oe=fe[1],ge=Object(a.useState)("ul"),xe=Object(d.a)(ge,2),ve=xe[0],ke=xe[1],ye=Object(a.useState)([]),_e=Object(d.a)(ye,2),Ce=_e[0],Ie=_e[1],De=Object(a.useState)(!1),Se=Object(d.a)(De,2),we=Se[0],Be=Se[1],Ne=Object(a.useState)(0),Te=Object(d.a)(Ne,2),Ae=(Te[0],Te[1]),Le=Object(a.useState)(0),Pe=Object(d.a)(Le,2),Re=(Pe[0],Pe[1]),Ee=Object(a.useState)(null),Fe=Object(d.a)(Ee,2),Me=(Fe[0],Fe[1],Object(a.useState)(null)),He=Object(d.a)(Me,2),ze=(He[0],He[1],Object(a.useState)(!1)),Je=Object(d.a)(ze,2),Ue=(Je[0],Je[1],Object(a.useRef)(!1)),Ke=Object(a.useRef)(),Ve=Object(a.useRef)(),Ye=Object(a.useRef)(),Ze=Object(a.useRef)(),Xe=(Object(a.useRef)(),Object(a.useRef)()),Ge=Object(a.useRef)(),qe=Object(a.useRef)(),Qe=Object(a.useRef)(),We=Object(a.useRef)(),$e=Object(a.useRef)(),et=Object(a.useRef)(),tt=Object(a.useRef)();Object(a.useRef)();Object(a.useEffect)((function(){console.log(q)}),[q]),Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){we&&(be(r.state.articleData.subCategory),Be(!1)),console.log(le),console.log(Ue.current)}),[le,we]),Object(a.useEffect)((function(){r.state&&function(){alert("locationhere"),console.log(r);var e=r.state.articleData,t=ae(e.date);console.log(t),Ge.current.children[0].value=e.title,Ge.current.children[1].value=e.sponsored&&"PROMO"!==e.subTitle?"PROMO ".concat(e.subTitle):e.sponsored&&"PROMO"===e.subTitle?"PROMO":e.subTitle,e.sponsored&&(et.current.children[0].children[1].disabled=!0,et.current.children[1].children[1].disabled=!0),Ye.current.value=e.articleText,e.tags&&K(Object(_.a)(e.tags)),e.listOrder&&Ie(Object(_.a)(e.listOrder)),"Da"===e.commentsAllowed?et.current.children[0].children[1].checked=!0:et.current.children[1].children[1].checked=!0,console.log(G[e.category.toLowerCase()]),console.log(e.subCategory),Qe.current.value=e.category;var n=new Event("change",{bubbles:!0});if(Qe.current.dispatchEvent(n),Be(!0),"string"===typeof e.imageText)qe.current.value=e.imageText;else{var a="";e.imageText.forEach((function(t,n){a=n!==e.imageText.length-1?a.concat("".concat(t[1]," || ")):a.concat("".concat(t[1]))})),qe.current.value=a}var c=[],o=[];e.imageText.forEach((function(e,t){c.push({url:e[0],checked:"false",name:e[2]?e[2]:"random".concat(t)})}));for(var s=0;s<c.length;s++)!function(){var e=Object(N.a)(B.a.mark((function e(t){var n,a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(c[t].url);case 2:return n=e.sent,e.next=5,n.blob();case 5:a=e.sent,r=new File([a],c[t].name,{type:a.type}),o[t]=r,t===c.length-1&&k(o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s);c.forEach((function(e,t){})),D([].concat(c))}()}),[r]);var nt=function(e){var t=Ye.current.selectionStart,n=(Ye.current.selectionEnd,Ye.current.value),a=0;switch(e){case"bold":for(var c=0;c<n.length;c++)if("<"===n[c]&&"b"===n[c+1]&&">"===n[c+2])a=c;else if("<"===n[c]&&"/"===n[c+1]&&"b"===n[c+2]&&t>=a+1&&t<=c+3)return!0;break;case"list":for(var o=0;o<n.length;o++)if("<"===n[o]&&"l"===n[o+1]&&"i"===n[o+2]&&"s"===n[o+3]&&"t"===n[o+4]&&">"===n[o+5])a=o;else{if("<"===n[o]&&"/"===n[o+1]&&"l"===n[o+2]&&"i"===n[o+3]&&"s"===n[o+4]&&"t"===n[o+5]&&">"===n[o+6]&&t>=a+6&&t<=o){for(var r=0,s=a+6;s<o;s++){if("<"===n[s]&&"b"===n[s+1]&&">"===n[s+2])r=s+1;else if("<"===n[s]&&"/"===n[s+1]&&"b"===n[s+2]&&">"===n[s+3]&&t>=r&&t<=s+3)return"dontAllow";if("<"===n[s]&&"l"===n[s+1]&&"i"===n[s+2]&&"n"===n[s+3]&&"k"===n[s+4]&&">"===n[s+5])r=s+1;else if("<"===n[s]&&"/"===n[s+1]&&"l"===n[s+2]&&"i"===n[s+3]&&"n"===n[s+4]&&"k"===n[s+5]&&">"===n[s+6]&&t>=r&&t<=s+6)return"dontAllow"}return"betweenTags"}if("<"===n[o]&&"/"===n[o+1]&&"l"===n[o+2]&&"i"===n[o+3]&&"s"===n[o+4]&&"t"===n[o+5]&&">"===n[o+6]&&t>=a+1&&t<=o+6)return!0}break;case"embed":for(var i=0;i<n.length;i++)if("<"===n[i]&&"e"===n[i+1]&&"m"===n[i+2]&&"b"===n[i+3])a=i;else if("<"===n[i]&&"/"===n[i+1]&&"e"===n[i+2]&&t>=a+1&&t<=i+7)return!0;break;case"link":for(var l=0;l<n.length;l++)if("<"===n[l]&&"l"===n[l+1]&&"i"===n[l+2]&&"n"===n[l+3])a=l;else if("<"===n[l]&&"/"===n[l+1]&&"l"===n[l+2]&&"i"===n[l+3]&&"n"===n[l+4]&&"k"===n[l+5]&&t>=a+1&&t<=l+6)return!0}},at=function(e){var t=Ye.current.selectionStart,n=Ye.current.selectionEnd,a=Ye.current.value,c=0;switch(e){case"bold":for(var o=0;o<a.length;o++)if("<"===a[o]&&"b"===a[o+1]&&">"===a[o+2])c=o;else if("<"===a[o]&&"/"===a[o+1]&&"b"===a[o+2]&&">"===a[o+3]&&t>=c&&t<=o+3||"<"===a[o]&&"/"===a[o+1]&&"b"===a[o+2]&&">"===a[o+3]&&n>=c+1&&n<=o+4||"<"===a[o]&&"/"===a[o+1]&&"b"===a[o+2]&&">"===a[o+3]&&t<c&&n>o+4)return!0;break;case"list":for(var r=0;r<a.length;r++)if("<"===a[r]&&"l"===a[r+1]&&"i"===a[r+2]&&"s"===a[r+3]&&"t"===a[r+4]&&">"===a[r+5])c=r;else{if("<"===a[r]&&"/"===a[r+1]&&"l"===a[r+2]&&"i"===a[r+3]&&"s"===a[r+4]&&"t"===a[r+5]&&">"===a[r+6]&&t>=c+6&&n<=r){for(var s=0,i=c+7;i<r;i++){if("<"===a[i]&&"b"===a[i+1]&&">"===a[i+2])s=i;else if("<"===a[i]&&"/"===a[i+1]&&"b"===a[i+2]&&">"===a[i+3]&&t>=s&&t<=i+3||"<"===a[i]&&"/"===a[i+1]&&"b"===a[i+2]&&">"===a[i+3]&&n>=s+1&&n<=i+4||"<"===a[i]&&"/"===a[i+1]&&"b"===a[i+2]&&">"===a[i+3]&&t<s&&n>i+4)return"notAllowed";if("<"===a[i]&&"l"===a[i+1]&&"i"===a[i+2]&&"n"===a[i+3]&&"k"===a[i+4]&&">"===a[i+5])s=i;else if("<"===a[i]&&"/"===a[i+1]&&"l"===a[i+2]&&"i"===a[i+3]&&"n"===a[i+4]&&"k"===a[i+5]&&">"===a[i+6]&&t>=s&&t<=i+6||"<"===a[i]&&"/"===a[i+1]&&"l"===a[i+2]&&"i"===a[i+3]&&"n"===a[i+4]&&"k"===a[i+5]&&">"===a[i+6]&&n>=s+1&&n<=i+7||"<"===a[i]&&"/"===a[i+1]&&"l"===a[i+2]&&"i"===a[i+3]&&"n"===a[i+4]&&"k"===a[i+5]&&">"===a[i+6]&&t<s&&n>i+7)return"notAllowed"}return"betweenTagsSelect"}if("<"===a[r]&&"/"===a[r+1]&&"l"===a[r+2]&&"i"===a[r+3]&&"s"===a[r+4]&&"t"===a[r+5]&&">"===a[r+6]&&t>=c&&t<=r+6||"<"===a[r]&&"/"===a[r+1]&&"l"===a[r+2]&&"i"===a[r+3]&&"s"===a[r+4]&&"t"===a[r+5]&&">"===a[r+6]&&n>=c+1&&n<=r+7||"<"===a[r]&&"/"===a[r+1]&&"l"===a[r+2]&&"i"===a[r+3]&&"s"===a[r+4]&&"t"===a[r+5]&&">"===a[r+6]&&t<c&&n>r+7)return!0}break;case"embed":for(var l=0;l<a.length;l++)if("<"===a[l]&&"e"===a[l+1]&&"m"===a[l+2]&&"b"===a[l+3])c=l;else if("<"===a[l]&&"/"===a[l+1]&&"e"===a[l+2]&&"m"===a[l+3]&&"b"===a[l+4]&&t>=c+1&&t<=l+7||"<"===a[l]&&"/"===a[l+1]&&"e"===a[l+2]&&"m"===a[l+3]&&"b"===a[l+4]&&n>=c+1&&n<=l+8||"<"===a[l]&&"/"===a[l+1]&&"e"===a[l+2]&&"m"===a[l+3]&&"b"===a[l+4]&&t<c&&n>l+8)return!0;break;case"link":for(var d=0;d<a.length;d++)if("<"===a[d]&&"l"===a[d+1]&&"i"===a[d+2]&&"n"===a[d+3]&&"k"===a[d+4])c=d;else if("<"===a[d]&&"/"===a[d+1]&&"l"===a[d+2]&&"i"===a[d+3]&&"n"===a[d+4]&&">"===a[d+6]&&t>=c+1&&t<=d+6||"<"===a[d]&&"/"===a[d+1]&&"l"===a[d+2]&&"i"===a[d+3]&&"n"===a[d+4]&&">"===a[d+6]&&n>=c+1&&n<=d+7||"<"===a[d]&&"/"===a[d+1]&&"l"===a[d+2]&&"i"===a[d+3]&&"n"===a[d+4]&&">"===a[d+6]&&t<c&&n>d+7)return!0}};Object(a.useEffect)((function(){Ce&&Ce.length>0&&console.log(Ce)}),[Ce]);Object(a.useEffect)((function(){console.log(I)}),[I]),Object(a.useEffect)((function(){console.log(v)}),[v]);var ct=function(e){for(var t=function(t){Ze.current.children[t].children[0].contains(e.target)&&!Ze.current.children[t].children[1].className?D((function(e){var n=Object(_.a)(e);return e.forEach((function(e,a){a===t&&(n[t].checked="true")})),n})):Ze.current.children[t].children[1].contains(e.target)&&Ze.current.children[t].children[1].className&&D((function(e){var n=Object(_.a)(e);return e.forEach((function(e,a){a===t&&(n[t].checked="false")})),n}))},n=0;n<Ze.current.children.length;n++)t(n)};Object(a.useEffect)((function(){T.length>0&&k((function(e){var t=[],n=!1;return e.forEach((function(e){T.forEach((function(a,c){a===e.name&&(n=!0),c!==T.length-1||n||(t.push(e),n=!1),c===T.length-1&&n&&(n=!1)}))})),console.log(T),console.log(t),t}))}),[T]);var ot=function(e){for(var t=function(t){Xe.current.children[t].contains(e.target)&&K((function(e){var n=Object(_.a)(e);return n.splice(t,1),n}))},n=0;n<Xe.current.children.length;n++)t(n)},rt=function(e){var t=e.toLowerCase();if("promo"===t.trim()||t.trim().includes("promo "))return!0},st=function(e,t,n){var a,c=0;if(console.log(e.length),console.log(n),"deleting"===t){for(var o=0;o<e.length;o++)if("<"===e[o]&&"l"===e[o+1]&&"i"===e[o+2]&&"s"===e[o+3]&&"t"===e[o+4]&&">"===e[o+5])a=o,c++;else if("<"===e[o]&&"/"===e[o+1]&&"l"===e[o+2]&&"i"===e[o+3]&&"s"===e[o+4]&&"t"===e[o+5]&&">"===e[o+6]&&n>a&&n<=o+6)return c}else for(var r=0;r<e.length;r++){if("<"===e[r]&&"l"===e[r+1]&&"i"===e[r+2]&&"s"===e[r+3]&&"t"===e[r+4]&&">"===e[r+5]&&c++,r===n)return c;if(r===e.length-1&&n===e.length)return c}};Object(a.useEffect)((function(){Ue.current?oe||(console.log("starting"),Ge.current.children[0].value="",Ge.current.children[1].value="",Ye.current.value="",qe.current.value="",Qe.current.value="Vijesti",Xe.current.previousSibling.value="",et.current.children[0].children[1].disabled=!1,et.current.children[1].children[1].disabled=!1,et.current.children[0].children[1].checked=!0,de(G.vijesti),k([]),D([]),K([]),te(!1),Q([])):(Ue.current=!0,r.state||de(Object(_.a)(G.vijesti)))}),[oe]);var it=function(e){e.preventDefault()},lt=function(){var e=qe.current.value;"blank"===e.trim()?(e=[],I.forEach((function(t,n){e.push("blank")}))):e=e.split(" || ");var t=[];if(I.length===e.length)return I.forEach((function(n,a){""!==qe.current.value.trim()?t.push({name:n.name,captionText:e[a]}):t.push({name:n.name,captionText:""})})),console.log(t),t};return Object(h.jsxs)(h.Fragment,{children:[e.overlay&&Object(h.jsx)(M,{handleConfirm:function(){var e=[];D((function(t){var n=[];return t.forEach((function(t,a){"true"!==t.checked?n.push(t):"true"===t.checked&&e.push(t.name)})),e.length>0&&L(e),n}))},children:Object(h.jsx)(U,{})}),oe&&Object(h.jsx)(M,{ref:$e,handleCloseOverlay:function(e){($e.current.contains(e.target)&&!We.current.contains(e.target)&&ee||We.current.children[0]&&We.current.children[0].children[1].contains(e.target)&&ee)&&(re(!1),r.state&&(window.history.replaceState(null,""),s.replace("/editarticles")))},children:Object(h.jsx)(Z,{progress:q,ref:We,articleAdded:ee,location:r.state?r.state:null})}),Object(h.jsx)("div",{id:P.a.addArticle,children:Object(h.jsxs)("div",{id:P.a.addArticleBody,children:[Object(h.jsxs)("div",{id:P.a.addArticleContent,children:[Object(h.jsxs)("div",{id:P.a.addTitle,ref:Ge,children:[Object(h.jsx)("input",{type:"text",placeholder:"Naslov \u010dlanka"}),Object(h.jsx)("input",{type:"text",placeholder:"Podnaslov \u010dlanka",onChange:function(e){var t=e.target.value;(0===t.length&&(et.current.children[0].children[1].disabled=!1,et.current.children[1].children[1].disabled=!1,et.current.children[0].children[1].checked=!0),t)&&(rt(t)?(et.current.children[0].children[1].disabled=!0,et.current.children[1].children[1].disabled=!0):(et.current.children[0].children[1].disabled=!1,et.current.children[1].children[1].disabled=!1))}})]}),Object(h.jsxs)("div",{id:P.a.addText,children:[Object(h.jsxs)("div",{id:P.a.addTextHeader,children:[Object(h.jsx)("i",{class:"fas fa-chevron-down"}),"Tekst"]}),Object(h.jsxs)("div",{id:P.a.addTextBody,children:[Object(h.jsx)("div",{id:P.a.addTextBodyHeader,children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{title:"bold",onMouseDown:function(e){if(e.preventDefault(),console.log(Ye.current.selectionStart),console.log(Ye.current.selectionEnd),console.log(Ye.current.focus),document.activeElement===Ye.current&&Ye.current.selectionStart===Ye.current.selectionEnd){var t=nt("bold"),n=nt("embed"),a=nt("link"),c=nt("list");if(console.log(t),console.log(n),console.log(a),console.log(c),!t&&!n&&!a&&!c||"betweenTags"===c){var o=Ye.current.selectionStart,r=Ye.current.value.slice(0,Ye.current.selectionStart);console.log(r),r=r.concat("<b></b>");var s=Ye.current.value.slice(Ye.current.selectionStart);r=r.concat(s),Ye.current.value=r,Ye.current.selectionEnd=o+3}}else if(document.activeElement===Ye.current&&Ye.current.selectionStart!==Ye.current.selectionEnd){var i=at("bold"),l=at("embed"),d=at("link"),m=at("list");if((i||l||d||m)&&"betweenTagsSelect"!==m)(i||l||d||m)&&(Ye.current.selectionEnd=Ye.current.selectionStart);else{var u=Ye.current.selectionStart,j=Ye.current.selectionEnd,b=Ye.current.value,h=b.substring(u,j);h=h.bold(),b=b.slice(0,u)+h+b.slice(j),Ye.current.value=b,Ye.current.selectionEnd=j+3}}},children:"B"}),Object(h.jsxs)("li",{title:"list",onMouseDown:function(e){e.preventDefault();var t="";"I"===e.target.tagName?t=e.target.className.includes("ul")?"ul":"ol":(e.target.id.includes("listOl")||"LI"===e.target.tagName)&&(t=e.target.children[0].className.includes("ul")?"ul":"ol");var n=st(Ye.current.value,"adding",Ye.current.selectionStart);if(document.activeElement===Ye.current&&Ye.current.selectionStart===Ye.current.selectionEnd){var a=nt("bold"),c=nt("embed"),o=nt("link"),r=nt("list");if(!a&&!c&&!o&&!r){var s=Ye.current.selectionStart,i=Ye.current.value.slice(0,Ye.current.selectionStart);console.log(i),i=i.concat("<list></list>");var l=Ye.current.value.slice(Ye.current.selectionStart);i=i.concat(l),Ye.current.value=i,Ye.current.selectionEnd=s+6,Ie((function(a){console.log(e.target);var c=Object(_.a)(a);return console.log(c),c.splice(n,0,t),console.log(c),c}))}}else if(document.activeElement===Ye.current&&Ye.current.selectionStart!==Ye.current.selectionEnd){var d=at("bold"),m=at("embed"),u=at("link"),j=at("list");if(d||m||u||j)(d||m||u||j)&&(Ye.current.selectionEnd=Ye.current.selectionStart);else{var b=Ye.current.selectionStart,h=Ye.current.selectionEnd,f=Ye.current.value,p=f.substring(b,h);p="<list>".concat(p,"</list>"),f=f.slice(0,b)+p+f.slice(h),Ye.current.value=f,Ye.current.selectionEnd=h+6,Ie((function(a){console.log(e.target);var c=Object(_.a)(a);return c.splice(n,0,t),c}))}}},onMouseEnter:function(){Oe(!0)},onMouseLeave:function(){Oe(!1)},children:["ul"===ve?Object(h.jsx)("i",{class:"fas fa-list-ul"}):Object(h.jsx)("i",{class:"fas fa-list-ol"}),pe&&Object(h.jsx)("div",{id:P.a.listOl,onMouseDown:function(){ke((function(e){return"ul"===e?"ol":"ul"}))},children:"ul"===ve?Object(h.jsx)("i",{class:"fas fa-list-ol"}):Object(h.jsx)("i",{class:"fas fa-list-ul"})})]}),Object(h.jsx)("li",{title:"embed",onMouseDown:function(e){if(e.preventDefault(),document.activeElement===Ye.current&&Ye.current.selectionStart===Ye.current.selectionEnd){var t=nt("bold"),n=nt("embed"),a=nt("link"),c=nt("list");if(t||n||a||c)(t||n||a||c)&&(alert("hey"),setTimeout((function(){Ye.current.focus(),Ye.current.selectionEnd=Ye.current.selectionStart}),1));else{var o=Ye.current.selectionStart,r=Ye.current.value.slice(0,Ye.current.selectionStart);console.log(r),r=r.concat("<embed></embed>");var s=Ye.current.value.slice(Ye.current.selectionStart);r=r.concat(s),Ye.current.value=r,Ye.current.selectionEnd=o+7,setTimeout((function(){Ye.current.focus()}),1)}}else if(document.activeElement===Ye.current&&Ye.current.selectionStart!==Ye.current.selectionEnd){var i=Ye.current.selectionStart,l=Ye.current.selectionEnd,d=at("bold"),m=at("embed"),u=at("link"),j=at("list");if(d||m||u||j)(d||m||u||j)&&setTimeout((function(){Ye.current.focus(),Ye.current.selectionEnd=i}),1);else{var b=Ye.current.value,h=b.substring(i,l);h="<embed>".concat(h,"</embed>"),console.log(h),b=b.slice(0,i)+h+b.slice(l),Ye.current.value=b,Ye.current.selectionEnd=l+7,setTimeout((function(){Ye.current.focus()}),1)}}},children:"<>"}),Object(h.jsx)("li",{title:"link",onMouseDown:function(e){if(e.preventDefault(),document.activeElement===Ye.current&&Ye.current.selectionStart===Ye.current.selectionEnd){var t=nt("bold"),n=nt("embed"),a=nt("link"),c=nt("list");if((t||n||a||c)&&"betweenTags"!==c)(t||n||a||c)&&setTimeout((function(){Ye.current.focus(),Ye.current.selectionEnd=Ye.current.selectionStart}),1);else{var o=Ye.current.selectionStart,r=Ye.current.value.slice(0,Ye.current.selectionStart);console.log(r),r=r.concat("<link></link>");var s=Ye.current.value.slice(Ye.current.selectionStart);r=r.concat(s),Ye.current.value=r,Ye.current.selectionEnd=o+6,setTimeout((function(){Ye.current.focus()}),1)}}else if(document.activeElement===Ye.current&&Ye.current.selectionStart!==Ye.current.selectionEnd){var i=at("bold"),l=at("embed"),d=at("link"),m=at("list");if((i||l||d||m)&&"betweenTagsSelect"!==m)(i||l||d||m)&&setTimeout((function(){Ye.current.focus(),Ye.current.selectionEnd=Ye.current.selectionStart}),1);else{var u=Ye.current.selectionStart,j=Ye.current.selectionEnd,b=Ye.current.value,h=b.substring(u,j);h="<link>".concat(h,"</link>"),b=b.slice(0,u)+h+b.slice(j),Ye.current.value=b,Ye.current.selectionEnd=j+6,setTimeout((function(){Ye.current.focus()}),1)}}},children:Object(h.jsx)("i",{class:"fas fa-link"})})]})}),Object(h.jsx)("div",{id:P.a.addTextBodyBody,children:Object(h.jsx)("textarea",{ref:Ye,onKeyDown:function(e){var t=Ye.current.value,n=Ye.current.selectionStart,a=Ye.current.selectionEnd,c=null,o=!1;if(13===e.keyCode)for(var r=0;r<t.length;r++){if("<"!==t[r]||"b"!==t[r+1]||">"!==t[r+2]||o){if("<"===t[r]&&"/"===t[r+1]&&"b"===t[r+2]&&">"===t[r+3]&&n<=r+3&&n>c)return Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100),void(c=0)}else c=r;if("<"===t[r]&&"l"===t[r+1]&&"i"===t[r+2]&&"s"===t[r+3]&&"t"===t[r+4]&&">"===t[r+5])c=r,o=!0;else if("<"===t[r]&&"/"===t[r+1]&&"l"===t[r+2]&&"i"===t[r+3]&&"s"===t[r+4]&&"t"===t[r+5]&&">"===t[r+6]){if(n<=r+6&&n>c)return Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100),void(c=0);o=!1}if("<"===t[r]&&"e"===t[r+1]&&"m"===t[r+2]&&"b"===t[r+3]&&"e"===t[r+4]&&"d"===t[r+5]&&">"===t[r+6])c=r;else if("<"===t[r]&&"/"===t[r+1]&&"e"===t[r+2]&&"m"===t[r+3]&&"b"===t[r+4]&&"e"===t[r+5]&&"d"===t[r+6]&&">"===t[r+7]&&n<=r+7&&n>c)return Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100),void(c=0);if("<"!==t[r]||"l"!==t[r+1]||"i"!==t[r+2]||"n"!==t[r+3]||"k"!==t[r+4]||">"!==t[r+5]||o){if("<"===t[r]&&"/"===t[r+1]&&"l"===t[r+2]&&"i"===t[r+3]&&"n"===t[r+4]&&"k"===t[r+5]&&">"===t[r+6]){if(n<=r+6&&n>c)return Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100),void(c=0);o=!1}}else c=r,o=!0}if(46!==e.keyCode&&37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode&&35!==e.keyCode&&36!==e.keyCode)for(var s=0;s<t.length;s++)("<"===t[s]&&"b"===t[s+1]&&">"===t[s+2]&&n<[s+3]&&n>=[s+1]||"<"===t[s]&&"/"===t[s+1]&&"b"===t[s+2]&&">"===t[s+3]&&n<[s+4]&&n>=[s+1]||"<"===t[s]&&"l"===t[s+1]&&"i"===t[s+2]&&"s"===t[s+3]&&"t"===t[s+4]&&">"===t[s+5]&&n<[s+6]&&n>=[s+1]||"<"===t[s]&&"/"===t[s+1]&&"l"===t[s+2]&&"i"===t[s+3]&&"s"===t[s+4]&&"t"===t[s+5]&&">"===t[s+6]&&n<[s+7]&&n>=[s+1]||"<"===t[s]&&"e"===t[s+1]&&"m"===t[s+2]&&"b"===t[s+3]&&"e"===t[s+4]&&"d"===t[s+5]&&">"===t[s+6]&&n<[s+7]&&n>=[s+1]||"<"===t[s]&&"/"===t[s+1]&&"e"===t[s+2]&&"m"===t[s+3]&&"b"===t[s+4]&&"e"===t[s+5]&&"d"===t[s+6]&&">"===t[s+7]&&n<[s+8]&&n>=[s+1]||"<"===t[s]&&"l"===t[s+1]&&"i"===t[s+2]&&"n"===t[s+3]&&"k"===t[s+4]&&">"===t[s+5]&&n<[s+6]&&n>=[s+1]||"<"===t[s]&&"/"===t[s+1]&&"l"===t[s+2]&&"i"===t[s+3]&&"n"===t[s+4]&&"k"===t[s+5]&&">"===t[s+6]&&n<[s+7]&&n>=[s+1])&&(Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100));else 46===e.keyCode&&function(){var e=0,c=0,o=0,r=st(t,"deleting",n);console.log(r),alert(r);for(var s=0;s<t.length;s++){if("<"===t[s]&&"b"===t[s+1]&&">"===t[s+2]&&n===s&&a===s||"<"===t[s]&&"/"===t[s+1]&&"b"===t[s+2]&&">"===t[s+3]&&n===s&&a===s){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}if("<"===t[s]&&"e"===t[s+1]&&"m"===t[s+2]&&"b"===t[s+3]&&"e"===t[s+4]&&"d"===t[s+5]&&">"===t[s+6]&&n===s&&a===s||"<"===t[s]&&"/"===t[s+1]&&"e"===t[s+2]&&"m"===t[s+3]&&"b"===t[s+4]&&"e"===t[s+5]&&"d"===t[s+6]&&">"===t[s+7]&&n===s&&a===s){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}if("<"===t[s]&&"l"===t[s+1]&&"i"===t[s+2]&&"n"===t[s+3]&&"k"===t[s+4]&&">"===t[s+5]&&n===s&&a===s||"<"===t[s]&&"/"===t[s+1]&&"l"===t[s+2]&&"i"===t[s+3]&&"n"===t[s+4]&&"k"===t[s+5]&&">"===t[s+6]&&n===s&&a===s){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}if("<"===t[s]&&"l"===t[s+1]&&"i"===t[s+2]&&"s"===t[s+3]&&"t"===t[s+4]&&">"===t[s+5]&&n===s&&a===s||"<"===t[s]&&"/"===t[s+1]&&"l"===t[s+2]&&"i"===t[s+3]&&"s"===t[s+4]&&"t"===t[s+5]&&">"===t[s+6]&&n===s&&a===s){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}if("<"===t[s]&&"b"===t[s+1]&&">"===t[s+2]&&n<[s+3]&&n>=[s]){e=s,c=s+3;for(var i=Ye.current.value.split(""),l=Ye.current.value.split(""),d=Ye.current.value.split(""),m=s;m<t.length;m++)if("<"===t[m]&&"/"===t[m+1]&&"b"===t[m+2]&&">"===t[m+3]){var u=i.splice(0,e),j=l.slice(c,m),b=d.splice(m+4);console.log(u),console.log(j),console.log(b);var h=[u.join(""),j.join(""),b.join("")];h=h.join(""),Ye.current.value=h;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}else if("<"===t[s]&&"/"===t[s+1]&&"b"===t[s+2]&&">"===t[s+3]&&n<[s+4]&&n>=[s+1]){e=s,c=s+3;for(var f=Ye.current.value.split(""),p=Ye.current.value.split(""),O=Ye.current.value.split(""),g=s;g>=0;g--)if("<"===t[g]&&"b"===t[g+1]&&">"===t[g+2]){var x=f.splice(0,g),v=p.slice(g+3,e),k=O.splice(e+4);console.log(x),console.log(v),console.log(k);var y=[x.join(""),v.join(""),k.join("")];y=y.join(""),Ye.current.value=y;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}else if("<"===t[s]&&"e"===t[s+1]&&"m"===t[s+2]&&"b"===t[s+3]&&"e"===t[s+4]&&"d"===t[s+5]&&">"===t[s+6]&&n<[s+7]&&n>=[s]){e=s,c=s+7;for(var C=Ye.current.value.split(""),I=Ye.current.value.split(""),D=Ye.current.value.split(""),S=s;S<t.length;S++)if("<"===t[S]&&"/"===t[S+1]&&"e"===t[S+2]&&"m"===t[S+3]&&"b"===t[S+4]&&"e"===t[S+5]&&"d"===t[S+6]&&">"===t[S+7]){var w=C.splice(0,e),B=I.slice(c,S),N=D.splice(S+8),T=[w.join(""),B.join(""),N.join("")];T=T.join(""),Ye.current.value=T;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}else if("<"===t[s]&&"/"===t[s+1]&&"e"===t[s+2]&&"m"===t[s+3]&&"b"===t[s+4]&&"e"===t[s+5]&&"d"===t[s+6]&&">"===t[s+7]&&n<[s+8]&&n>=[s+1]){e=s,c=s+3;for(var A=Ye.current.value.split(""),L=Ye.current.value.split(""),P=Ye.current.value.split(""),R=s;R>=0;R--)if("<"===t[R]&&"e"===t[R+1]&&"m"===t[R+2]&&"b"===t[R+3]&&"e"===t[R+4]&&"d"===t[R+5]&&">"===t[R+6]){var E=A.splice(0,R),F=L.slice(R+7,e),M=P.splice(e+8);console.log(E),console.log(F),console.log(M);var H=[E.join(""),F.join(""),M.join("")];H=H.join(""),Ye.current.value=H;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}else if("<"===t[s]&&"l"===t[s+1]&&"i"===t[s+2]&&"n"===t[s+3]&&"k"===t[s+4]&&">"===t[s+5]&&n<[s+6]&&n>=[s]){e=s,c=s+6;for(var z=Ye.current.value.split(""),J=Ye.current.value.split(""),U=Ye.current.value.split(""),K=s;K<t.length;K++)if("<"===t[K]&&"/"===t[K+1]&&"l"===t[K+2]&&"i"===t[K+3]&&"n"===t[K+4]&&"k"===t[K+5]&&">"===t[K+6]){var V=z.splice(0,e),Y=J.slice(c,K),Z=U.splice(K+7),X=[V.join(""),Y.join(""),Z.join("")];X=X.join(""),Ye.current.value=X;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}else if("<"===t[s]&&"/"===t[s+1]&&"l"===t[s+2]&&"i"===t[s+3]&&"n"===t[s+4]&&"k"===t[s+5]&&">"===t[s+6]&&n<[s+7]&&n>=[s+1]){e=s,c=s+3;for(var G=Ye.current.value.split(""),q=Ye.current.value.split(""),Q=Ye.current.value.split(""),W=s;W>=0;W--)if("<"===t[W]&&"l"===t[W+1]&&"i"===t[W+2]&&"n"===t[W+3]&&"k"===t[W+4]&&">"===t[W+5]){var $=G.splice(0,W),ee=q.slice(W+6,e),te=Q.splice(e+7);console.log($),console.log(ee),console.log(te);var ne=[$.join(""),ee.join(""),te.join("")];ne=ne.join(""),Ye.current.value=ne;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}else if("<"===t[s]&&"l"===t[s+1]&&"i"===t[s+2]&&"s"===t[s+3]&&"t"===t[s+4]&&">"===t[s+5]&&n<[s+6]&&n>=[s]){e=s,c=s+6;for(var ae=Ye.current.value.split(""),ce=Ye.current.value.split(""),oe=Ye.current.value.split(""),re=0;re<s;re++)"<"===t[re]&&"l"===t[re+1]&&"i"===t[re+2]&&"s"===t[re+3]&&"t"===t[re+4]&&">"===t[re+5]&&o++;for(var se=s;se<t.length;se++)if("<"===t[se]&&"/"===t[se+1]&&"l"===t[se+2]&&"i"===t[se+3]&&"s"===t[se+4]&&"t"===t[se+5]&&">"===t[se+6]){var ie=ae.splice(0,e),le=ce.slice(c,se),de=oe.splice(se+7),me=[ie.join(""),le.join(""),de.join("")];me=me.join(""),setTimeout((function(){Ie((function(e){var t=Object(_.a)(e);return t.splice(o,1),t})),o=0}),10),Ye.current.value=me;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}else if("<"===t[s]&&"/"===t[s+1]&&"l"===t[s+2]&&"i"===t[s+3]&&"s"===t[s+4]&&"t"===t[s+5]&&">"===t[s+6]&&n<[s+7]&&n>=[s+1]){e=s,c=s+3;for(var ue=Ye.current.value.split(""),je=Ye.current.value.split(""),be=Ye.current.value.split(""),he=0;he<s;he++)"<"===t[he]&&"/"===t[he+1]&&"l"===t[he+2]&&"i"===t[he+3]&&"s"===t[he+4]&&"t"===t[he+5]&&">"===t[he+6]&&o++;for(var fe=s;fe>=0;fe--)if("<"===t[fe]&&"l"===t[fe+1]&&"i"===t[fe+2]&&"s"===t[fe+3]&&"t"===t[fe+4]&&">"===t[fe+5]){var pe=ue.splice(0,fe),Oe=je.slice(fe+6,e),ge=be.splice(e+7);console.log(pe),console.log(Oe),console.log(ge);var xe=[pe.join(""),Oe.join(""),ge.join("")];xe=xe.join(""),alert(o),setTimeout((function(){Ie((function(e){var t=Object(_.a)(e);return t.splice(o,1),t})),o=0}),10),Ye.current.value=xe;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}}}();if(8===e.keyCode)for(var i=0;i<t.length;i++){if("<"===t[i]&&"b"===t[i+1]&&">"===t[i+2]&&n===i+3&&a===i+3||"<"===t[i]&&"/"===t[i+1]&&"b"===t[i+2]&&">"===t[i+3]&&n===i+4&&a===i+4){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}if("<"===t[i]&&"e"===t[i+1]&&"m"===t[i+2]&&"b"===t[i+3]&&"e"===t[i+4]&&"d"===t[i+5]&&">"===t[i+6]&&n===i+7&&a===i+7||"<"===t[i]&&"/"===t[i+1]&&"e"===t[i+2]&&"m"===t[i+3]&&"b"===t[i+4]&&"e"===t[i+5]&&"d"===t[i+6]&&">"===t[i+7]&&n===i+8&&a===i+8){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}if("<"===t[i]&&"l"===t[i+1]&&"i"===t[i+2]&&"n"===t[i+3]&&"k"===t[i+4]&&">"===t[i+5]&&n===i+6&&a===i+6||"<"===t[i]&&"/"===t[i+1]&&"l"===t[i+2]&&"i"===t[i+3]&&"n"===t[i+4]&&"k"===t[i+5]&&">"===t[i+6]&&n===i+7&&a===i+7){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}if("<"===t[i]&&"l"===t[i+1]&&"i"===t[i+2]&&"s"===t[i+3]&&"t"===t[i+4]&&">"===t[i+5]&&n===i+6&&a===i+6||"<"===t[i]&&"/"===t[i+1]&&"l"===t[i+2]&&"i"===t[i+3]&&"s"===t[i+4]&&"t"===t[i+5]&&">"===t[i+6]&&n===i+7&&a===i+7){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}}if(document.activeElement===Ye.current&&Ye.current.selectionStart!==Ye.current.selectionEnd)for(var l=0;l<t.length;l++)("<"===t[l]&&"b"===t[l+1]&&">"===t[l+2]&&n>l&&n<=l+2||"<"===t[l]&&"b"===t[l+1]&&">"===t[l+2]&&a>l&&a<=l+3||"<"===t[l]&&"b"===t[l+1]&&">"===t[l+2]&&n<=l&&a>=l+3||"<"===t[l]&&"/"===t[l+1]&&"b"===t[l+2]&&">"===t[l+3]&&n>=l&&n<=l+3||"<"===t[l]&&"/"===t[l+1]&&"b"===t[l+2]&&">"===t[l+3]&&a>l&&a<=l+4||"<"===t[l]&&"/"===t[l+1]&&"b"===t[l+2]&&">"===t[l+3]&&n<=l&&a>=l+4||"<"===t[l]&&"e"===t[l+1]&&"m"===t[l+2]&&"b"===t[l+3]&&"e"===t[l+4]&&"d"===t[l+5]&&">"===t[l+6]&&n>l&&n<=l+6||"<"===t[l]&&"e"===t[l+1]&&"m"===t[l+2]&&"b"===t[l+3]&&"e"===t[l+4]&&"d"===t[l+5]&&">"===t[l+6]&&a>l&&a<=l+7||"<"===t[l]&&"e"===t[l+1]&&"m"===t[l+2]&&"b"===t[l+3]&&"e"===t[l+4]&&"d"===t[l+5]&&">"===t[l+6]&&n<=l&&a>=l+7||"<"===t[l]&&"/"===t[l+1]&&"e"===t[l+2]&&"m"===t[l+3]&&"b"===t[l+4]&&"e"===t[l+5]&&"d"===t[l+6]&&">"===t[l+7]&&n>=l&&n<=l+7||"<"===t[l]&&"/"===t[l+1]&&"e"===t[l+2]&&"m"===t[l+3]&&"b"===t[l+4]&&"e"===t[l+5]&&"d"===t[l+6]&&">"===t[l+7]&&a>l&&a<=l+8||"<"===t[l]&&"/"===t[l+1]&&"e"===t[l+2]&&"m"===t[l+3]&&"b"===t[l+4]&&"e"===t[l+5]&&"d"===t[l+6]&&">"===t[l+7]&&n<=l&&a>=l+8||"<"===t[l]&&"l"===t[l+1]&&"i"===t[l+2]&&"n"===t[l+3]&&"k"===t[l+4]&&">"===t[l+5]&&n>l&&n<=l+5||"<"===t[l]&&"l"===t[l+1]&&"i"===t[l+2]&&"n"===t[l+3]&&"k"===t[l+4]&&">"===t[l+5]&&a>l&&a<=l+6||"<"===t[l]&&"l"===t[l+1]&&"i"===t[l+2]&&"n"===t[l+3]&&"k"===t[l+4]&&">"===t[l+5]&&n<=l&&a>=l+6||"<"===t[l]&&"/"===t[l+1]&&"l"===t[l+2]&&"i"===t[l+3]&&"n"===t[l+4]&&"k"===t[l+5]&&">"===t[l+6]&&n>=l&&n<=l+6||"<"===t[l]&&"/"===t[l+1]&&"l"===t[l+2]&&"i"===t[l+3]&&"n"===t[l+4]&&"k"===t[l+5]&&">"===t[l+6]&&a>l&&a<=l+7||"<"===t[l]&&"/"===t[l+1]&&"l"===t[l+2]&&"i"===t[l+3]&&"n"===t[l+4]&&"k"===t[l+5]&&">"===t[l+6]&&n<=l&&a>=l+7||"<"===t[l]&&"l"===t[l+1]&&"i"===t[l+2]&&"s"===t[l+3]&&"t"===t[l+4]&&">"===t[l+5]&&n>l&&n<=l+5||"<"===t[l]&&"l"===t[l+1]&&"i"===t[l+2]&&"s"===t[l+3]&&"t"===t[l+4]&&">"===t[l+5]&&a>l&&a<=l+6||"<"===t[l]&&"l"===t[l+1]&&"i"===t[l+2]&&"s"===t[l+3]&&"t"===t[l+4]&&">"===t[l+5]&&n<=l&&a>=l+6||"<"===t[l]&&"/"===t[l+1]&&"l"===t[l+2]&&"i"===t[l+3]&&"s"===t[l+4]&&"t"===t[l+5]&&">"===t[l+6]&&n>=l&&n<=l+6||"<"===t[l]&&"/"===t[l+1]&&"l"===t[l+2]&&"i"===t[l+3]&&"s"===t[l+4]&&"t"===t[l+5]&&">"===t[l+6]&&a>l&&a<=l+7||"<"===t[l]&&"/"===t[l+1]&&"l"===t[l+2]&&"i"===t[l+3]&&"s"===t[l+4]&&"t"===t[l+5]&&">"===t[l+6]&&n<=l&&a>=l+7)&&(Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1,Ye.current.selectionEnd=n,Ye.current.selectionStart=n}),100));console.log(Ye.current.value[Ye.current.selectionStart])},onPaste:function(e){o(!0)},onChange:function(e){var t=e.target.value.split(""),n=(Ye.current.selectionStart,Object(_.a)(t));if(console.log(Ye.current.value[Ye.current.selectionStart]),c)for(var a=0;a<t.length;a++)"\n"===t[a]&&"\n"!==t[a+1]&&"\n"!==t[a-1]&&n.splice(a,0,"\n");console.log(n),Ye.current.value=n.join(""),console.log(Ye.current.value[Ye.current.selectionStart]),c&&o(!1)}})})]})]}),Object(h.jsxs)("div",{id:P.a.addImages,children:[Object(h.jsxs)("div",{id:P.a.addImagesHeader,children:[Object(h.jsxs)("div",{id:P.a.addImagesBundleLeft,children:[Object(h.jsx)("i",{class:"fas fa-chevron-down"}),"Slike"]}),Object(h.jsx)("div",{id:P.a.addImagesBundleRight,children:Object(h.jsx)("i",{onClick:function(){for(var t=!1,n=0;n<Ze.current.children.length;n++)Ze.current.children[n].children[1].className&&(t=!0);!e.overlay&&t&&(F(!0),e.handleOverlay())},class:"far fa-trash-alt"})})]}),Object(h.jsxs)("div",{id:P.a.addImagesBody,children:[Object(h.jsxs)("div",{className:P.a.uploadImageContainer,children:[Object(h.jsx)("div",{id:P.a.uploadImageText,children:"Postavi slike"}),Object(h.jsxs)("div",{id:P.a.uploadImage,ref:Ve,children:[Object(h.jsx)("input",{type:"file",id:"file",accept:"image/*",multiple:!0,onChange:function(e){var t=e.target.files;if(console.log(t),console.log(v),t.length>0){var n=Array.from(t),a=[];console.log(n),n.forEach((function(e,t){e.type.includes("image")||n.splice(t,1)}));var c=[];if(v.length>0){c=Object(_.a)(v);var o=!1;n.forEach((function(e){v.forEach((function(t,n){e.name===t.name&&(o=!0),o||n!==v.length-1||(c.push(e),o=!1),o&&n===v.length-1&&(o=!1)}))}))}else c=Object(_.a)(n);c.forEach((function(e){a.push({url:URL.createObjectURL(e),checked:"false",name:e.name})})),console.log(a),console.log(c),D([].concat(a)),k(c),e.target.value=""}}}),Object(h.jsxs)("label",{htmlFor:"file",onMouseEnter:function(){Ve.current.style.borderColor="#3f87e5"},onMouseLeave:function(){Ve.current.style.borderColor="#d8dee4"},children:[Object(h.jsx)("i",{class:"fas fa-images"}),Object(h.jsx)("span",{ref:Ke,children:"Postavi slike"})]}),Object(h.jsx)("div",{id:P.a.imageContainer,ref:Ze,children:I&&I.length>0&&I.map((function(e,t){return Object(h.jsxs)("div",{className:P.a.imageWrapper,onClick:ct,draggable:!0,onDragStart:function(e){return function(e,t){e.dataTransfer.setData("text",t),console.log(e.target.src)}(e,t)},onDrop:function(e){return function(e,t){e.preventDefault();var n,a,c=e.dataTransfer.getData("text");+c!==t&&(Ae(+c),n=+c,a=t,Re(t),console.log(I),D((function(e){var t=Object(_.a)(e);return t[n]=Object(l.a)({},e[a]),t[a]=Object(l.a)({},e[n]),console.log(t),t})))}(e,t)},onDragOver:it,children:[Object(h.jsx)("img",{className:P.a.previewImage,src:e.url}),Object(h.jsx)("div",{className:"true"===e.checked?P.a.deletable:null})]},Object(A.a)())}))})]})]}),Object(h.jsxs)("div",{className:P.a.imageCaptionContainer,children:[Object(h.jsx)("div",{id:P.a.imageCaptionText,children:"Natpis"}),Object(h.jsx)("div",{id:P.a.imageCaption,children:Object(h.jsx)("textarea",{ref:qe,type:"text"})})]})]})]})]}),Object(h.jsxs)("div",{id:P.a.addArticleInfo,children:[Object(h.jsxs)("div",{id:P.a.author,children:[Object(h.jsx)("h3",{children:"Autor"}),Object(h.jsxs)("div",{id:P.a.authorCnt,children:[Object(h.jsxs)("div",{id:P.a.authorInfo,children:[Object(h.jsx)("i",{class:"fas fa-user"})," ",Object(h.jsx)("span",{style:{textTransform:"capitalize"},children:e.user.displayName})]}),Object(h.jsx)("button",{onClick:function(){var t=Ge.current.children[0].value,n=Ge.current.children[1].value.toUpperCase();console.log(t),console.log(n);var a,c=Ye.current.value.trim(),o=qe.current.value.trim(),s=Qe.current.value,i=tt.current.value,l=rt(n);l&&n.trim().length>5&&((a=n.trim().split("PROMO ")).splice(0,1),a=a.join("").trim(),console.log(a));var d=et.current.children[0].children[1].checked&&!et.current.children[0].children[1].disabled?"Da":"Ne";console.log(v),console.log(r.state),console.log(J);var m=[];if(r.state&&r.state.articleData.tags&&(m=r.state.articleData.tags.reduce((function(e,t){return J.some((function(e){return e.value?e.value===t.value:e===t.value}))?e:[].concat(Object(_.a)(e),[t])}),[]),console.log(m)),t&&n&&c&&v.length>0&&o){var h={author:e.user.displayName,title:t,subTitle:a||n,articleText:c,category:s,subCategory:i,images:v,imageText:lt(),tags:J,commentsAllowed:d,shares:[""],visited:r.state&&r.state.articleData.visited||0},f=[];Ce.length>0&&(h.listOrder=Object(_.a)(Ce)),l&&(h.sponsored=!0),r.state&&l&&r.state.articleData.promoId&&(h.promoId=r.state.articleData.promoId),console.log(h.tags),console.log(h),re(!0);var p=l?2:1;console.log(p),b.onAuthStateChanged((function(e){e&&e.getIdToken(!0).then((function(e){var t=r.state&&s===r.state.articleData.category&&i===r.state.articleData.subCategory;fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(s,"/").concat(i).concat(t?"/-"+r.state.articleData.id:"",".json?auth=").concat(e),{method:"".concat(r.state&&t?"PATCH":"POST"),body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){var a;console.log(n);var c=[];if(r.state)a=t?r.state.articleData.id:n.name.slice(1);else{a=n.name.slice(1);var o=new Date,l=o.getFullYear(),d=o.getMonth()+1,b=o.getDate();fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/dates/".concat(l,"/").concat(d,"/").concat(b,".json?auth=").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n.name,path:"".concat(h.category,"/").concat(h.subCategory)})})}console.log(a),h.id||(h.id=a),console.log(h);var O=[];v.forEach((function(t,n){O.push({imageName:t.name,percent:""}),console.log("images/".concat(s,"/").concat(i,"/-").concat(a,"/").concat(t.name)),u.ref("images/".concat(s,"/").concat(i,"/-").concat(a,"/").concat(t.name)).put(t).on("state_changed",(function(e){console.log(e),console.log("bytesTransfered: ".concat(e.bytesTransferred,", percent: ").concat(Math.floor(e.bytesTransferred/e.totalBytes*100),"% fileName: ").concat(t.name)),O.forEach((function(n,a){n.imageName===t.name&&We.current.children[0]&&(console.log(We.current.children[a].children[1].children[0]),We.current.children[a].children[1].children[0].style.width="".concat(Math.floor(e.bytesTransferred/e.totalBytes*100),"%"),0!==Math.floor(e.bytesTransferred/e.totalBytes*100)&&(We.current.children[a].children[1].children[0].textContent="".concat(Math.floor(e.bytesTransferred/e.totalBytes*100),"%")),100===Math.floor(e.bytesTransferred/e.totalBytes*100)&&setTimeout((function(){We.current.children[a].children[2].children[0].style.display="inline-block"}),200))})),Q(O),console.log(e.totalBytes),console.log("images/".concat(s,"/").concat(i,"/-").concat(a))}),(function(e){console.log(e)}),(function(){u.ref("images/".concat(s,"/").concat(i,"/-").concat(a)).child(t.name).getDownloadURL().then((function(n){if(console.log(n),c.push(n),h.imageText.forEach((function(e,a){e.name===t.name&&(f[a]=[n,e.captionText,t.name])})),c.length===v.length){if(h.images=[].concat(c),h.imageText=Object(_.a)(f),r.state)h.date=r.state.articleData.date;else{var o=new Date,l="".concat(o.getFullYear(),"-").concat(o.getMonth()+1,"-").concat(o.getDate()," ").concat(o.getHours(),":").concat(o.getMinutes(),":").concat(o.getSeconds());h.date=l,console.log(h)}f=[];var d=j.ref("articles/".concat(s,"/").concat(i,"/-").concat(a)),u=[];if(r.state){var b,O,g=[],x=[];if(r.state.articleData.tags&&h.tags.length)for(var k=function(e){r.state.articleData.tags.some((function(t){return t.value===(h.tags[e].value?h.tags[e].value:h.tags[e])}))?x.push(r.state.articleData.tags.find((function(t){return t.value===h.tags[e].value}))):g.push(h.tags[e])},y=0;y<h.tags.length;y++)k(y);else h.tags.length&&g.push.apply(g,Object(_.a)(h.tags));h.category!==r.state.articleData.category&&(b=!0),h.subCategory!==r.state.articleData.subCategory&&(O=!0);var C=!1;if((h.title!==r.state.articleData.title||h.subTitle!==r.state.articleData.subTitle||h.imageText[0][0]===r.state.articleData.imageText[0][0]||b||O)&&(C=!0),g.length){console.log("butwhyman"),console.log(g),console.log(x);for(var I=0;I<g.length;I++)u.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/related/".concat(h.category,"/").concat(g[I],".json"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({articlePath:"".concat(h.category,"/").concat(h.subCategory,"/-").concat(a),thumbnail:h.imageText[0][0],title:h.title,subTitle:h.subTitle,date:h.date})}).then((function(e){return e.json()})))}if(C&&x.length){console.log("does this run"),console.log(x);for(var D=0;D<x.length;D++)b&&m.push({id:x[D].id,value:x[D].value}),u.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/related/".concat(h.category,"/").concat(x[D].value).concat(b?"":"/"+x[D].id,".json"),{method:"".concat(b?"POST":"PATCH"),headers:{"Content-Type":"application/json"},body:JSON.stringify({articlePath:"".concat(h.category,"/").concat(h.subCategory,"/-").concat(a),thumbnail:h.imageText[0][0],title:h.title,subTitle:h.subTitle,date:h.date,id:x[D].id})}).then((function(e){return e.json()})))}if(m.length)for(var S=0;S<m.length;S++)u.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/related/".concat(b?r.state.articleData.category:h.category,"/").concat(m[S].value,"/").concat(m[S].id,".json"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})));Promise.all(u).then((function(t){var n=[],c=[];if(g.length)for(var o=0;o<g.length;o++)n.push({id:t[o].name,value:g[o]}),c.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/related/".concat(h.category,"/").concat(g[o],"/").concat(t[o].name,".json"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({articlePath:"".concat(h.category,"/").concat(h.subCategory,"/-").concat(a),thumbnail:h.imageText[0][0],title:h.title,subTitle:h.subTitle,date:h.date,id:t[o].name})}).then((function(e){return e.json()})));if(x.length)if(b)for(var i=g.length,l=0,u=i;u<i+x.length;u++)n.push({id:t[u].name,value:x[l].value}),c.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/related/".concat(h.category,"/").concat(x[l].value,"/").concat(t[u].name,".json"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({articlePath:"".concat(h.category,"/").concat(h.subCategory,"/-").concat(a),thumbnail:h.imageText[0][0],title:h.title,subTitle:h.subTitle,date:h.date,id:t[u].name})}).then((function(e){return e.json()}))),l++;else n=[].concat(Object(_.a)(n),x);((b||O)&&(console.log("zasto"),c.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(r.state.articleData.category,"/").concat(r.state.articleData.subCategory,"/-").concat(r.state.articleData.id,".json"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})))),!m.length||g.length||x.length?h.tags=Object(_.a)(n):delete h.tags,c.length)?Promise.all(c).then((function(t){d.update(h).then((function(t){d.once("value").then((function(t){if(1===p)r.state.articleData.sponsored&&!h.sponsored?fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(r.state.articleData.category,"/").concat(r.state.articleData.promoId,".json?auth=").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){delete h.promoId,delete h.sponsored,d.set(h).then((function(e){d.once("value").then((function(e){te(!0)}))}))})):te(!0);else if(!r.state.articleData.sponsored&&h.sponsored)fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,".json?auth=").concat(e),{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){h.promoId=e.name,d.update(h).then((function(e){d.once("value").then((function(e){te(!0)}))}))}));else if(b){var n=[];n.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,".json?auth=").concat(e),{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(r.state.articleData.category,"/").concat(r.state.articleData.promoId,".json?auth=").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))),Promise.all(n).then((function(e){h.promoId=e[0].name,d.update(h).then((function(e){d.once("value").then((function(e){te(!0)}))}))}))}else fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,"/").concat(r.state.articleData.promoId,".json?auth=").concat(e),{method:"PUT",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return te(!0)}))}))}))})):d.update(h).then((function(t){d.once("value").then((function(t){if(1===p)r.state.articleData.sponsored&&!h.sponsored?fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(r.state.articleData.category,"/").concat(r.state.articleData.promoId,".json?auth=").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){delete h.promoId,delete h.sponsored,d.set(h).then((function(e){d.once("value").then((function(e){te(!0)}))}))})):te(!0);else if(console.log(h),!r.state.articleData.sponsored&&h.sponsored)fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,".json?auth=").concat(e),{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){h.promoId=e.name,d.update(h).then((function(e){d.once("value").then((function(e){te(!0)}))}))}));else if(b){var n=[];n.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,".json?auth=").concat(e),{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(r.state.articleData.category,"/").concat(r.state.articleData.promoId,".json?auth=").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))),Promise.all(n).then((function(e){h.promoId=e[0].name,d.update(h).then((function(e){d.once("value").then((function(e){te(!0)}))}))}))}else fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,"/").concat(r.state.articleData.promoId,".json?auth=").concat(e),{method:"PUT",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return te(!0)}))}))}))}))}else if(h.tags.length){for(var w=0;w<h.tags.length;w++)u.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/related/".concat(h.category,"/").concat(h.tags[w],".json"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({articlePath:"".concat(h.category,"/").concat(h.subCategory,"/-").concat(a),thumbnail:h.imageText[0][0],title:h.title,subTitle:h.subTitle,date:h.date})}).then((function(e){return e.json()})));Promise.all(u).then((function(t){console.log(t);for(var n=[],c=[],o=0;o<h.tags.length;o++)n.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/related/".concat(h.category,"/").concat(h.tags[o],"/").concat(t[o].name,".json"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({articlePath:"".concat(h.category,"/").concat(h.subCategory,"/-").concat(a),thumbnail:h.imageText[0][0],title:h.title,subTitle:h.subTitle,date:h.date,id:t[o].name})}).then((function(e){return e.json()}))),c.push({id:t[o].name,value:h.tags[o]});h.tags=[].concat(c),Promise.all(n).then((function(t){1===p?d.update(h).then((function(e){d.once("value").then((function(e){te(!0)}))})):fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,".json?auth=").concat(e),{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){h.promoId=e.name,d.update(h).then((function(e){d.once("value").then((function(e){te(!0)}))}))}))}))}))}else 1===p?d.update(h).then((function(e){d.once("value").then((function(e){te(!0)}))})):fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,".json?auth=").concat(e),{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){h.promoId=e.name,d.update(h).then((function(e){d.once("value").then((function(e){te(!0)}))}))}))}})).catch((function(e){return console.log(e)}))}))}))}))}))}))}},disabled:!!oe,children:"Spasi"})]})]}),Object(h.jsxs)("div",{id:P.a.category,children:[Object(h.jsx)("label",{htmlFor:"category",children:"Kategorija"}),Object(h.jsxs)("select",{id:"category",ref:Qe,onChange:function(e){switch(e.target.value){case"Vijesti":de(Object(_.a)(G.vijesti));break;case"Biznis":de(Object(_.a)(G.biznis));break;case"Sport":de(Object(_.a)(G.sport));break;case"Magazin":de(Object(_.a)(G.magazin));break;case"Lifestyle":de(Object(_.a)(G.lifestyle));break;case"Scitech":de(Object(_.a)(G.scitech));break;case"Auto":de(Object(_.a)(G.auto))}},children:[Object(h.jsx)("option",{children:"Vijesti"}),Object(h.jsx)("option",{children:"Biznis"}),Object(h.jsx)("option",{children:"Sport"}),Object(h.jsx)("option",{children:"Magazin"}),Object(h.jsx)("option",{children:"Lifestyle"}),Object(h.jsx)("option",{children:"Scitech"}),Object(h.jsx)("option",{children:"Auto"})]}),Object(h.jsx)("label",{id:P.a.subcategory,children:"Podkategorija"}),Object(h.jsx)("select",{ref:tt,value:je,onChange:function(e){be(e.target.value)},children:le.map((function(e){return Object(h.jsx)("option",{children:e},Object(A.a)())}))})]}),Object(h.jsxs)("div",{id:P.a.tag,children:[Object(h.jsx)("h4",{children:"Tagovi"}),Object(h.jsx)("input",{type:"text",onKeyDown:function(e){if(13===e.keyCode){var t=e.target.value;t&&(e.target.value="",t.includes(".")&&(t=(t=t.split(".")).join("_")),K((function(e){var n=Object(_.a)(e);return n.push(t),console.log(n),n})))}}}),Object(h.jsx)("div",{id:P.a.tagContainer,ref:Xe,children:J.map((function(e){return Object(h.jsxs)("div",{className:P.a.tagItem,children:[Object(h.jsx)("span",{children:e.value?e.value:e}),Object(h.jsx)("i",{onClick:ot,class:"fas fa-times"})]},Object(A.a)())}))})]}),Object(h.jsxs)("div",{id:P.a.commentsAllowed,children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:"Dozvoli komentare:"})}),Object(h.jsxs)("div",{id:P.a.commentBundle,ref:et,children:[Object(h.jsxs)("div",{className:P.a.commentItem,children:[Object(h.jsx)("label",{htmlFor:"komentda",children:"Da"}),Object(h.jsx)("input",{type:"radio",id:"komentda",name:"koment",defaultChecked:!0})]}),Object(h.jsxs)("div",{className:P.a.commentItem,children:[Object(h.jsx)("label",{htmlFor:"komentne",children:"Ne"}),Object(h.jsx)("input",{type:"radio",id:"komentne",name:"koment"})]})]})]})]})]})})]})},Q=n(50),W=n.n(Q),$={vijesti:"#d33d3d",biznis:"#ef6f3e",sport:"#55ac53",magazin:"#a45091",lifestyle:"#e2a600",scitech:"#40afee",auto:"#487baf"},ee=function(e){return Object(a.useEffect)((function(){console.log(e)}),[]),Object(h.jsx)("div",{id:W.a.articleLink,children:Object(h.jsxs)(o.b,{to:{pathname:encodeURI("/".concat(e.category,"/").concat(e.subCategory,"/").concat(Ge(e.title),"/").concat(e.id)),state:void 0},children:[Object(h.jsx)("div",{id:W.a.articleLinkImage,children:Object(h.jsx)("img",{src:e.imageUrl})}),Object(h.jsxs)("div",{id:W.a.articleLinkText,children:[Object(h.jsx)("h3",{style:{color:$[e.category.toLowerCase()]},children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]})]})})},te={vijesti:"#d33d3d",biznis:"#ef6f3e",sport:"#55ac53",magazin:"#a45091",lifestyle:"#e2a600",scitech:"#40afee",auto:"#487baf"};function ne(e,t){return new Date(t,e,0).getDate()}var ae=function(e){var t,n,a=new Date,c=[a.getFullYear(),a.getMonth()+1,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()];if(e){n=e.split(/-|:| /);for(var o=0;o<n.length;o++)n[o]=+n[o];var r,s,i,l,d,m;r=c[0]-n[0];var u=!1,j=!1,b=!1,h=!1,f=!1;(s=c[1]-n[1])<0&&(u=!0),(i=c[2]-n[2])<0&&(j=!0),(l=c[3]-n[3])<0&&(b=!0),(d=c[4]-n[4])<0&&(h=!0),(m=c[5]-n[5])<0&&(f=!0),t=(t="".concat(u&&r>0||0===s&&j&&r>0?r-1:s>=0&&r>0?r:r-1," ").concat(j&&s>0?s-1:j&&s<0||0===i&&b&&s<0?12-Math.abs(s-1):0===i&&b&&s>0?12-Math.abs(s-1===0?-12:s-1):!j&&s<0?12-Math.abs(s):s," ").concat(b&&i>0?i-1:l>=0&&l<=1&&h&&i<0?ne(a.getMonth()+1,a.getFullYear())-Math.abs(i-(ne(n[2],n[0])>ne(a.getMonth()+1,a.getFullYear())&&a.getMonth()+1===2&&28===ne(2,a.getFullYear())?-1:ne(n[2],n[0])>ne(a.getMonth()+1,a.getFullYear())&&a.getMonth()+1===2&&29===ne(2,a.getFullYear())||ne(n[2],n[0])>ne(a.getMonth()+1,a.getFullYear())?0:ne(n[2],n[0])<ne(a.getMonth()+1,a.getFullYear())?2:1)):b&&i<0?ne(a.getMonth()+1,c[0])-Math.abs(i-(ne(n[2],n[0])>ne(a.getMonth()+1,c[0])?0:ne(n[2],n[0])<ne(a.getMonth()+1,a.getFullYear())?2:1)):!b&&i<0?ne(a.getMonth()+1,c[0])-Math.abs(i+(ne(n[2],n[0])>ne(a.getMonth()+1,c[0])?1:ne(n[2],n[0])<ne(a.getMonth()+1,a.getFullYear())?-1:0)):b&&0===i&&s-1===0?c[2]-1:i," ").concat(h&&l>0?l-1:h&&l<0||d>=0&&d<=1&&f&&l<0?24-Math.abs(l-1):0===i&&s-1===0&&h&&l<0?l-1:0===i&&s-1===0&&!h&&l<0?l:!h&&l<0?24-Math.abs(l):d>=0&&d<=1&&f&&l>0?l-1:l," ").concat(f&&d>0?d-1:f&&d<0?60-Math.abs(d-1):!f&&d<0?60-Math.abs(d):d," ").concat(f?60-Math.abs(m):m)).split(" ");var p=!1,O="";return t.forEach((function(e,t){if(0!==+e&&e>0&&!p)switch(p=!0,t){case 0:O="".concat(e," god");break;case 1:O="".concat(e," mje");break;case 2:if(1==e[e.length-1]&&11!=e){O="".concat(e," dan");break}O="".concat(e," dana");break;case 3:var n=e;(n=n.split("")).forEach((function(t,a){a===n.length-1&&(1==t&&11!=e?O="".concat(e," sat"):2!=t&&3!=t&&4!=t||!(e<=4||e>=22)?0!=t&&5!=t&&6!=t&&7!=t&&8!=t&&9!=t&&11!=e&&12!=e&&13!=e&&14!=e||(O="".concat(e," sati")):O="".concat(e," sata"))}));break;case 4:O="".concat(e," min");break;case 5:O="".concat(e," sek")}})),O}},ce=function(){var e=Object(a.useState)(Object(_.a)(G.vijesti)),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)("BiH"),s=Object(d.a)(r,2),m=s[0],u=s[1],b=Object(a.useState)(Object(_.a)(G.po\u010detna)),f=Object(d.a)(b,2),p=f[0],O=f[1],g=Object(a.useState)("Vijesti"),x=Object(d.a)(g,2),v=x[0],k=x[1],y=Object(a.useState)(!0),C=Object(d.a)(y,2),I=C[0],D=C[1],w=Object(a.useState)(!1),B=Object(d.a)(w,2),N=B[0],T=B[1],L=Object(a.useState)(!1),P=Object(d.a)(L,2),R=P[0],E=P[1],F=Object(a.useState)(!1),H=Object(d.a)(F,2),z=H[0],J=H[1],K=Object(a.useState)(!1),V=Object(d.a)(K,2),Y=V[0],Z=V[1],X=Object(a.useState)(!1),q=Object(d.a)(X,2),Q=(q[0],q[1]),W=Object(a.useState)(!1),ee=Object(d.a)(W,2),te=ee[0],ne=(ee[1],Object(a.useState)(!1)),ce=Object(d.a)(ne,2),oe=ce[0],re=ce[1],se=Object(a.useState)([{},{},{},{},{},{},{}]),ie=Object(d.a)(se,2),le=ie[0],de=ie[1],me=Object(a.useState)(null),ue=Object(d.a)(me,2),je=ue[0],be=ue[1],he=Object(a.useState)(null),fe=Object(d.a)(he,2),pe=fe[0],Oe=fe[1],ge=Object(a.useState)(!1),xe=Object(d.a)(ge,2),ve=(xe[0],xe[1],Object(a.useState)(!1)),ke=Object(d.a)(ve,2),ye=ke[0],_e=ke[1],Ce=Object(a.useRef)(),Ie=Object(a.useRef)(),De=Object(a.useRef)(),Se=Object(a.useRef)(),we=Object(a.useRef)(),Be=Object(a.useRef)(),Ne=Object(a.useRef)(),Te=Object(a.useRef)(),Ae=Object(a.useRef)(),Le=Object(a.useRef)(),Pe=Object(a.useRef)(),Re=(Object(i.useHistory)(),Object(a.useState)([])),Ee=Object(d.a)(Re,2),Fe=Ee[0],Me=Ee[1],He=Object(a.useState)(!1),ze=Object(d.a)(He,2),Je=ze[0],Ue=ze[1];Object(a.useEffect)((function(){console.log(G),le&&console.log(le[0]),console.log(le)})),Object(a.useEffect)((function(){console.log(Ce.current.value),Ze("init")}),[]),Object(a.useEffect)((function(){Fe&&console.log(Fe)}),[Fe]);var Ke=function(e,t){"dva"===t?k(e.target.value):"jedan"===t&&u(e.target.value)},Ve=function(e,t){Me([]);var n=(e&&e.target||Pe.current).value;switch("two"===t&&"Po\u010detna"===Pe.current.value?Z(!1):Z(!0),"two"===t&&"Po\u010detna"!==Pe.current.value&&u(G[n.toLowerCase()][0]),c(Object(_.a)(G[n.toLowerCase()])),n){case"Po\u010detna":if("two"===t){O(Object(_.a)(G.po\u010detna)),k(G.po\u010detna[0]),I&&Ze("init");break}case"Vijesti":if("jedan"===t){c(Object(_.a)(G.vijesti)),u(G.vijesti[0]);break}if("two"===t){O(Object(_.a)(G.vijesti)),k(G.vijesti[0]),I&&Ze("init");break}case"Biznis":if("jedan"===t){c(Object(_.a)(G.biznis)),u(G.biznis[0]);break}if("two"===t){O(Object(_.a)(G.biznis)),k(G.biznis[0]),I&&Ze("init");break}case"Sport":if("jedan"===t){c(Object(_.a)(G.sport)),u(G.sport[0]);break}if("two"===t){O(Object(_.a)(G.sport)),k(G.sport[0]),I&&Ze("init");break}case"Magazin":if("jedan"===t){c(Object(_.a)(G.magazin)),u(G.magazin[0]);break}if("two"===t){O(Object(_.a)(G.magazin)),k(G.magazin[0]),I&&Ze("init");break}case"Lifestyle":if("jedan"===t){c(Object(_.a)(G.lifestyle)),u(G.lifestyle[0]);break}if("two"===t){O(Object(_.a)(G.lifestyle)),k(G.lifestyle[0]),I&&Ze("init");break}case"Scitech":if("jedan"===t){c(Object(_.a)(G.scitech)),u(G.scitech[0]);break}if("two"===t){O(Object(_.a)(G.scitech)),k(G.scitech[0]),I&&Ze("init");break}case"Auto":if("jedan"===t){c(Object(_.a)(G.auto)),u(G.auto[0]);break}if("two"===t){O(Object(_.a)(G.auto)),k(G.auto[0]),I&&Ze("init");break}}};Object(a.useEffect)((function(){!I&&v&&ye?(Ve(null,"two"),_e(!1)):!I&&v?Ze("init"):I&&ye&&(Ve(null,"two"),_e(!1))}),[I,v,ye]);var Ye=function(e){e.target.id.includes("overlay")&&!Je&&(T(!1),"Po\u010detna"===Pe.current.value&&Z(!1),Me([]),be(null),oe&&re(!1))},Ze=function(e){Q(!0);var t=void 0;if(console.log(e),"init"===e)"Glavni sadr\u017eaj"===Ce.current.value?t=j.ref("viewContent/".concat(Ce.current.value,"/").concat(Pe.current.value)):"Sporedni sadr\u017eaj"===Ce.current.value&&(t=j.ref("viewContent/".concat(Ce.current.value,"/").concat(Pe.current.value,"/").concat(v)),console.log("viewContent/".concat(Ce.current.value,"/").concat(Pe.current.value,"/").concat(v))),t.get().then((function(e){if(e.exists){var t=e.val();if(console.log(t),!t)return void("Sporedni sadr\u017eaj"!==Ce.current.value||"Auto"===v&&"Scitech"===v?"Sporedni sadr\u017eaj"===Ce.current.value&&Pe.current.value==="Po\u010detna"("Auto"===v||"Scitech"===v)||"Sporedni sadr\u017eaj"===Ce.current.value&&"Po\u010detna"!==Pe.current.value?de([{},{},{},{}]):de([{},{},{},{},{},{},{}]):de([{},{},{},{},{},{}]));var n=[];for(var a in t)n.push(t[a]),console.log(t[a]);console.log(n[0]);var c=[];n[0].forEach((function(e,t){console.log(e[1]),console.log(e[0]),Array.isArray(e)&&c.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e[1],"/-").concat(e[0],".json")).then((function(e){return e.json()})))})),Promise.all(c).then((function(e){console.log(e);for(var t=[],a=0;a<e.length;a++)e[a].timeDiff=ae(e[a].date);if(e.length<7){var c=0;n[0].forEach((function(n){n?(t.push(e[c]),c++):t.push({})})),console.log(t),t.forEach((function(e){console.log(Object.keys(e).length)})),de(t)}else de(e)}))}}));else{var n=Ie.current.value;t=j.ref("articles/".concat(n,"/").concat(m)),console.log(m),t.get().then((function(e){if(e.exists){var t=e.val(),n=[],a=0;for(var c in t)n.push(t[c]),n[a].timeDiff=ae(n[a].date),a++;n.reverse(),Me(n)}}))}},Xe=function(e){if(De.current)for(var t=0;t<De.current.children.length;t++)De.current.children[t].contains(e.target)&&(console.log(Fe[t]),Oe(t),Ue(!0))};Object(a.useEffect)((function(){}),[]);var Ge=function(e){te||(be(e),console.log(e))},qe=function(){be(null)},Qe=function(e){"Da"===e.target.textContent?(de((function(e){var t=Object(_.a)(e);return t[je]=Fe[pe],t})),Ue(!1),T(!1),Z(!1),Me([]),be(null),Oe(null)):"Ne"===e.target.textContent&&(Ue(!1),Oe(null))},We=function(e,t){e.target.value;"dodaj"===t?(E(!R),oe?re(!1):z&&J(!1)):"zamjeni"===t?(J(!z),R?E(!1):oe&&re(!1)):"edituj"===t&&(re(!0),R?E(!1):z&&J(!1))},$e=function(e){var t;if(z)if(I){if(I&&Se.current.contains(e.target))for(var n=0;n<Se.current.children.length;n++)if(Se.current.children[n].contains(e.target)){var a={dragPos:+(t=n)};e.dataTransfer.setData("text",JSON.stringify(a))}}else if(Be.current.contains(e.target)){for(var c=0;c<Be.current.children.length;c++)Be.current.children[c].contains(e.target)&&(t=0===c?4:5);var o={dragPos:+t,place:"right"};e.dataTransfer.setData("text",JSON.stringify(o))}else if(we.current.contains(e.target))for(var r=0;r<we.current.children.length;r++)if(we.current.children[r].contains(e.target)){var s={dragPos:+(t=r),place:"left"};e.dataTransfer.setData("text",JSON.stringify(s))}},et=function(e){z&&e.preventDefault()},tt=function(e){e.preventDefault();var t=0;if(z)if(I){if(I&&Se.current.contains(e.target))for(var n=0;n<Se.current.children.length;n++)Se.current.children[n].contains(e.target)&&function(){t=n;var a=e.dataTransfer.getData("text");a=JSON.parse(a),de((function(e){var n=Object(_.a)(e),c=Object(_.a)(e);return n[a.dragPos]=Object(l.a)({},c[t]),n[t]=Object(l.a)({},c[a.dragPos]),n}))}()}else{if(Be.current.contains(e.target))for(var a=0;a<Be.current.children.length;a++)Be.current.children[a].contains(e.target)&&function(){0===a?t=4:1===a&&(t=5);var n=e.dataTransfer.getData("text");n=JSON.parse(n),de((function(e){var a=Object(_.a)(e),c=Object(_.a)(e);return a[n.dragPos]=Object(l.a)({},c[t]),a[t]=Object(l.a)({},c[n.dragPos]),a}))}();if(we.current.contains(e.target)){for(var c=0;c<we.current.children.length;c++)we.current.children[c].contains(e.target)&&(t=c);var o=e.dataTransfer.getData("text");o=JSON.parse(o),console.log(o),"right"===o.place?de((function(e){var n=Object(_.a)(e),a=Object(_.a)(e);return n[o.dragPos]=Object(l.a)({},a[t]),n[t]=Object(l.a)({},a[o.dragPos]),n})):"left"===o.place&&de((function(e){var n=Object(_.a)(e),a=Object(_.a)(e);return n[je]=Object(l.a)({},a[t]),n[t]=Object(l.a)({},a[je]),n}))}}};return Object(a.useEffect)((function(){console.log(Fe)}),[Fe]),Object(h.jsxs)(h.Fragment,{children:[N&&Object(h.jsxs)(M,{handleCloseOverlay:Ye,children:[Object(h.jsxs)("div",{id:S.a.allArticlesHeader,children:[Object(h.jsxs)("select",{onChange:function(e){return Ve(e,"jedan")},defaultValue:"",ref:Ie,disabled:!(!Y||"Po\u010detna"===Pe.current.value),value:Y&&"Po\u010detna"!==Pe.current.value?Pe.current.value:null,children:[Object(h.jsx)("option",{disabled:!0,label:" -- Izaberi opciju -- "}),Object(h.jsx)("option",{children:"Vijesti"}),Object(h.jsx)("option",{children:"Biznis"}),Object(h.jsx)("option",{children:"Sport"}),Object(h.jsx)("option",{children:"Magazin"}),Object(h.jsx)("option",{children:"Lifestyle"}),Object(h.jsx)("option",{children:"Scitech"}),Object(h.jsx)("option",{children:"Auto"})]}),Y&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("select",{value:m,onChange:function(e){return Ke(e,"jedan")},children:n.map((function(e){return Object(h.jsx)("option",{children:e},Object(A.a)())}))}),Object(h.jsx)("button",{id:S.a.fetchBtn,onClick:Ze,children:"Prika\u017ei sadr\u017eaj"})]}),Object(h.jsx)("div",{id:S.a.allArticlesItems,ref:De,children:Fe&&Fe.map((function(e){return Object(h.jsxs)("div",{className:S.a.articleFetchItem,onClick:Xe,style:{flexDirection:"column"},children:[Object(h.jsxs)("div",{className:S.a.addingBundler,children:[Object(h.jsx)("div",{className:S.a.articleFetchItemImgCnt,children:Object(h.jsx)("img",{src:e.images[0]})}),Object(h.jsxs)("div",{className:S.a.articleItemFetchTitles,children:[Object(h.jsx)("h3",{style:{color:"".concat($[e.category.toLowerCase()])},children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]})]}),Object(h.jsxs)("div",{className:S.a.articleItemFetchFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:S.a.articleItemFetchBundle,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]},Object(A.a)())}))})]}),Je&&Object(h.jsx)(U,{ref:Ne,handleClick:Qe})]}),oe&&Object(h.jsxs)(M,{handleCloseOverlay:Ye,children:[Object(h.jsxs)("div",{id:S.a.allArticlesHeader,children:[Object(h.jsxs)("select",{onChange:function(e){return Ve(e,"jedan")},defaultValue:"",ref:Ie,children:[Object(h.jsx)("option",{disabled:!0,label:" -- Izaberi opciju -- "}),Object(h.jsx)("option",{children:"Vijesti"}),Object(h.jsx)("option",{children:"Biznis"}),Object(h.jsx)("option",{children:"Sport"}),Object(h.jsx)("option",{children:"Magazin"}),Object(h.jsx)("option",{children:"Lifestyle"}),Object(h.jsx)("option",{children:"Scitech"}),Object(h.jsx)("option",{children:"Auto"})]}),Y&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("select",{value:m,onChange:function(e){return Ke(e,"jedan")},children:n.map((function(e){return Object(h.jsx)("option",{children:e},Object(A.a)())}))}),Object(h.jsx)("button",{id:S.a.fetchBtn,onClick:Ze,children:"Prika\u017ei sadr\u017eaj"})]}),Object(h.jsx)("div",{id:S.a.allArticlesItems,ref:De,children:Fe&&Fe.map((function(e){return Object(h.jsx)("div",{className:S.a.articleFetchItem,onMouseDown:function(t){return function(e,t){console.log(t),1!=e.button&&4!=e.buttons||alert("ne moze se koristiti srednji klik")}(t,e)},children:Object(h.jsxs)(o.b,{to:{pathname:"/adminpanel",state:{articleData:e}},children:[Object(h.jsxs)("div",{className:S.a.editBundler,children:[Object(h.jsx)("div",{className:S.a.articleFetchItemImgCnt,children:Object(h.jsx)("img",{src:e.images[0]})}),Object(h.jsxs)("div",{className:S.a.articleItemFetchTitles,children:[Object(h.jsx)("h3",{style:{color:"".concat($[e.category.toLowerCase()])},children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]})]}),Object(h.jsxs)("div",{className:S.a.articleItemFetchFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:S.a.articleItemFetchBundle,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]})},Object(A.a)())}))})]}),Je&&Object(h.jsx)(U,{ref:Ne,handleClick:Qe})]}),Object(h.jsxs)("div",{id:S.a.editArticles,children:[Object(h.jsx)("div",{id:S.a.allArticles}),Object(h.jsx)("div",{id:S.a.allArticlesMain,children:Object(h.jsxs)("div",{id:S.a.allArticlesMainBody,children:[Object(h.jsxs)("div",{id:S.a.allArticlesMainBodyHeader,children:[Object(h.jsxs)("select",{onChange:function(e){"Glavni sadr\u017eaj"===e.target.value?(D(!0),Pe.current.value="Po\u010detna",_e(!0)):(D(!1),Pe.current.value="Po\u010detna",O(Object(_.a)(G["po\u010detna"])),k("Vijesti"),_e(!0))},ref:Ce,value:I?"Glavni sadr\u017eaj":"Sporedni sadr\u017eaj",children:[Object(h.jsx)("option",{children:"Glavni sadr\u017eaj"}),Object(h.jsx)("option",{children:"Sporedni sadr\u017eaj"})]}),Object(h.jsxs)("select",{onChange:function(e){return Ve(e,"two")},defaultValue:"Po\u010detna",ref:Pe,children:[Object(h.jsx)("option",{children:"Po\u010detna"}),Object(h.jsx)("option",{children:"Vijesti"}),Object(h.jsx)("option",{children:"Biznis"}),Object(h.jsx)("option",{children:"Sport"}),Object(h.jsx)("option",{children:"Magazin"}),Object(h.jsx)("option",{children:"Lifestyle"}),Object(h.jsx)("option",{children:"Scitech"}),Object(h.jsx)("option",{children:"Auto"})]}),!I&&Object(h.jsx)("select",{onChange:function(e){return Ke(e,"dva")},value:v,defaultValue:"Vijesti",children:p.map((function(e){return Object(h.jsx)("option",{children:e},Object(A.a)())}))}),Object(h.jsxs)("div",{id:S.a.chooseModeCnt,children:[Object(h.jsx)("input",{type:"checkbox",id:"adding",name:"dodajswitch",value:"Dodaj clanak",onClick:function(e){We(e,"dodaj")},disabled:!le.length,checked:R,ref:Te}),Object(h.jsx)("label",{htmlFor:"adding",children:"Dodaj \u010dlanak"}),Object(h.jsx)("input",{type:"checkbox",id:"switching",name:"dodajswitch",value:"Zamjeni clanak",onClick:function(e){We(e,"zamjeni")},disabled:!le.length,checked:z,ref:Ae}),Object(h.jsx)("label",{htmlFor:"switching",children:"Zamjeni poziciju"}),Object(h.jsx)("input",{type:"checkbox",id:"editing",name:"dodajswitch",value:"Edituj clanak",onClick:function(e){We(e,"edituj")},disabled:!le.length,checked:oe,ref:Le}),Object(h.jsx)("label",{htmlFor:"editing",children:"Edituj \u010dlanak"})]}),Object(h.jsx)("div",{id:S.a.saveChanges,children:Object(h.jsx)("button",{onClick:function(){var e=Ce.current.value,t=Ce.current.nextSibling.value,n=j.ref("viewContent/".concat(e,"/").concat(t).concat("Sporedni sadr\u017eaj"===e?"/"+v:""));console.log(v),console.log("viewContent/".concat(e,"/").concat(t).concat("Sporedni sadr\u017eaj"===e?"/"+v:"")),console.log(le);var a,c={},o=0;if(Be.current||I||(a=!0),le.forEach((function(e,t){a?t<4&&(e.id?(c[o]=[],c[o][0]=e.id,c[o][1]="".concat(e.category,"/").concat(e.subCategory),o++):(c[o]="",o++)):e.id?(c[o]=[],c[o][0]=e.id,c[o][1]="".concat(e.category,"/").concat(e.subCategory),o++):(c[o]="",o++)})),console.log(c),n.get().then((function(n){if(n.exists){var a=n.val();if(console.log(a),a){var o=Object.keys(a);console.log(o),alert("does exist"),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/viewContent/".concat(e,"/").concat(t).concat("Sporedni sadr\u017eaj"===e?"/"+v:"","/").concat(o[0],".json"),{method:"PATCH",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}else alert("does not exist"),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/viewContent/".concat(e,"/").concat(t).concat("Sporedni sadr\u017eaj"===e?"/"+v:"",".json"),{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}})),!I)Ce.current.nextSibling.nextSibling.value},children:"Spasi izmjene"})})]}),!I&&Object(h.jsxs)("div",{className:S.a.articleSubCnt,style:"Po\u010detna"!==Pe.current.value&&"Scitech"!==v||"Po\u010detna"!==Pe.current.value&&"Auto"!==v||"Po\u010detna"===Pe.current.value&&("Auto"===v||"Scitech"===v)?{gridTemplateColumns:"1fr"}:null,children:[Object(h.jsx)("div",{className:S.a.subLeft,ref:we,children:le.map((function(e,t){return 0!==Object.keys(e).length&&t<4?R?Object(h.jsxs)("div",{className:S.a.subLeftItem,onMouseEnter:function(){return Ge(t)},onMouseLeave:qe,children:[je!==t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:S.a.subLeftItemImg,children:Object(h.jsx)("img",{src:e.images[0]})}),Object(h.jsxs)("div",{className:S.a.subLeftItemText,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:S.a.subLeftItemBundle,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:S.a.subLeftBundleRight,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]})," ",je===t&&Object(h.jsx)("div",{className:S.a.addArticleLeft,children:Object(h.jsx)("i",{class:"fas fa-plus",onClick:function(){return T(!0)}})})]},Object(A.a)()):Object(h.jsx)("div",{className:S.a.subLeftItem,onMouseEnter:function(){return Ge(t)},onMouseLeave:qe,draggable:!0,onDragStart:function(e){return $e(e)},onDrop:function(e){return tt(e)},onDragOver:function(e){return et(e)},children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:S.a.subLeftItemImg,children:Object(h.jsx)("img",{src:e.images[0]})}),Object(h.jsxs)("div",{className:S.a.subLeftItemText,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:S.a.subLeftItemBundle,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:S.a.subLeftBundleRight,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]})},Object(A.a)()):t<=3&&R?Object(h.jsx)("div",{className:1!==t?S.a.addArticle:"".concat(S.a.addArticle),onMouseEnter:function(){return Ge(t)},children:Object(h.jsx)("i",{class:"fas fa-plus",onClick:function(){return T(!0)}})},Object(A.a)()):t<=3&&!R?Object(h.jsx)("div",{className:S.a.emptySub},Object(A.a)()):void 0}))}),"Po\u010detna"===Pe.current.value&&"Scitech"!==v&&"Auto"!==v&&Object(h.jsx)("div",{className:S.a.subRight,ref:Be,children:le.map((function(e,t){if(0!==Object.keys(e).length){if(t>=4&&t<=5)return R?Object(h.jsxs)("div",{className:S.a.subRightItem,onMouseEnter:function(){return Ge(t)},onMouseLeave:qe,children:[je!==t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:S.a.subRightText,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:S.a.subRightBundle,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:S.a.subRightBundleRight,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]}),je===t&&Object(h.jsx)("div",{className:S.a.addArticle,onMouseEnter:function(){return Ge(t)},style:{borderTop:"0.1rem solid #e5e7eb"},children:Object(h.jsx)("i",{class:"fas fa-plus",onClick:function(){return T(!0)}})},Object(A.a)())]},Object(A.a)()):Object(h.jsxs)("div",{className:S.a.subRightItem,onMouseEnter:function(){return Ge(t)},onMouseLeave:qe,draggable:!0,onDragStart:function(e){return $e(e)},onDrop:function(e){return tt(e)},onDragOver:function(e){return et(e)},children:[Object(h.jsxs)("div",{className:S.a.subRightText,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:S.a.subRightBundle,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:S.a.subRightBundleRight,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]},Object(A.a)())}else{if(t>=4&&t<6&&R)return Object(h.jsx)("div",{className:S.a.addArticle,onMouseEnter:function(){return Ge(t)},children:Object(h.jsx)("i",{class:"fas fa-plus",onClick:function(){return T(!0)}})},Object(A.a)());if(t>=4&&t<6&&!R)return Object(h.jsx)("div",{className:S.a.emptySub},Object(A.a)())}}))})]}),I&&Object(h.jsx)("div",{id:S.a.allArticlesMainBodyContent,ref:Se,children:le&&le.map((function(e,t){return R?0!==Object.keys(e).length?1!==t?Object(h.jsxs)("div",{className:S.a.articleItemSm,onMouseEnter:function(){return Ge(t)},onMouseLeave:qe,children:[je!==t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:S.a.articleImgCnt,children:[Object(h.jsx)("img",{src:e.images[0]}),e.images.length>1&&Object(h.jsx)("i",{class:"far fa-images"})]}),Object(h.jsxs)("div",{className:S.a.articleTitles,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:S.a.articleFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0,Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})," ",je===t&&Object(h.jsx)("div",{className:S.a.addArticle,style:{borderTop:"0.1rem solid #e5e7eb",borderBottom:"0.1rem solid #e5e7eb"},children:Object(h.jsx)("i",{class:"fas fa-plus",onClick:function(){return T(!0)}})})]},Object(A.a)()):Object(h.jsxs)("div",{className:S.a.articleItemBg,onMouseEnter:function(){return Ge(t)},onMouseLeave:qe,children:[je!==t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:S.a.articleImageCntBg,children:Object(h.jsx)("img",{src:e.images[0]})}),Object(h.jsxs)("div",{className:S.a.articleItemBgHeader,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:S.a.articleItemBgFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:S.a.articleItemBgFooterBundle,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]}),je===t&&Object(h.jsx)("div",{className:S.a.addArticle,style:{borderTop:"0.1rem solid #e5e7eb",borderBottom:"0.1rem solid #e5e7eb"},children:Object(h.jsx)("i",{class:"fas fa-plus",onClick:function(){return T(!0)}})})]},Object(A.a)()):Object(h.jsx)("div",{className:1!==t?S.a.addArticle:"".concat(S.a.addArticle," ").concat(S.a.addArticleBg),style:{borderTop:"0.1rem solid #e5e7eb",borderBottom:"0.1rem solid #e5e7eb"},onMouseEnter:function(){return Ge(t)},children:Object(h.jsx)("i",{class:"fas fa-plus",onClick:function(){return T(!0)}})},Object(A.a)()):0!==Object.keys(e).length?1!==t?Object(h.jsxs)("div",{className:S.a.articleItemSm,onMouseEnter:function(){return Ge(t)},onMouseLeave:qe,draggable:!0,onDragStart:function(e){return $e(e)},onDrop:function(e){return tt(e)},onDragOver:function(e){return et(e)},children:[Object(h.jsxs)("div",{className:S.a.articleImgCnt,children:[Object(h.jsx)("img",{src:e.images&&e.images[0]}),e.images&&e.images.length>1&&Object(h.jsx)("i",{class:"far fa-images"})]}),Object(h.jsxs)("div",{className:S.a.articleTitles,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:S.a.articleFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0,Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]},Object(A.a)()):Object(h.jsxs)("div",{className:S.a.articleItemBg,onMouseEnter:function(){return Ge(t)},onMouseLeave:qe,draggable:!0,onDragStart:function(e){return $e(e)},onDrop:function(e){return tt(e)},onDragOver:function(e){return et(e)},children:[Object(h.jsx)("div",{className:S.a.articleImageCntBg,children:Object(h.jsx)("img",{src:e.images[0]})}),Object(h.jsxs)("div",{className:S.a.articleItemBgHeader,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:S.a.articleItemBgFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:S.a.articleItemBgFooterBundle,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?e.comments.length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]},Object(A.a)()):Object(h.jsx)("div",{className:1!==t?S.a.empty:S.a.emptyBg},Object(A.a)())}))})]})})]})]})},oe=n(16),re=n.n(oe),se=n(51),ie=n.n(se),le=function(e){var t=Object(a.useRef)();Object(a.useEffect)((function(){console.log(e)}),[e]);return Object(h.jsx)("div",{className:ie.a.postComment,children:Object(h.jsxs)("div",{className:ie.a.postCommentBundle,children:[Object(h.jsx)("textarea",{name:"komentar",className:ie.a.postCommentTextarea,placeholder:"upi\u0161i komentar",ref:t}),Object(h.jsx)("button",{children:Object(h.jsxs)("span",{onClick:function(){if(t.current.value.length>0){var n=JSON.parse(localStorage.getItem("userObj")),a=n.displayName,c=n.avatarColor,o=new Date,r={userName:a,avatarColor:c,date:"".concat(o.getFullYear(),"-").concat(o.getMonth()+1,"-").concat(o.getDate()," ").concat(o.getHours(),":").concat(o.getMinutes(),":").concat(o.getSeconds()),comment:t.current.value},s=b.currentUser.uid;fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e.path.category,"/").concat(e.path.subCategory,"/-").concat(e.path.id,"/comments.json"),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){t.current.value="",e.getComments&&(console.log(e),console.log(e.getComments),e.getComments(!0)),console.log(n);var a={articlePath:"".concat(e.path.category,"/").concat(e.path.subCategory,"/-").concat(e.path.id),commentId:n.name};fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(s,"/comments/comLength.json")).then((function(e){return e.json()})).then((function(e){console.log(e);var t=e+1;console.log(t);var n=[fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(s,"/comments/").concat(null===e?0:e,"/").concat(a.commentId,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(s,"/comments/comLength.json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:t}).then((function(e){return e.json()}))];Promise.all(n).then((function(e){console.log(e)}))}))}))}},children:[Object(h.jsx)("i",{class:"fas fa-pen"})," Objavi komentar"]})})]})})},de=n(34),me=n(18),ue=n.n(me),je=function(e){var t=Object(i.useHistory)(),n=Object(i.useLocation)(),c=Object(a.useRef)(),r=Object(a.useRef)(),s=Object(a.useState)(n.state.articleData?Array.isArray(e.commentIndex)?0===n.state.articleData.comments[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes?0:n.state.articleData.comments[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes:0===n.state.articleData.comments[e.commentIndex].commentLikes?0:n.state.articleData.comments[e.commentIndex].commentLikes:e.commentLikes?e.commentLikes:0),m=Object(d.a)(s,2),u=m[0],j=m[1],b=Object(a.useState)(n.state.articleData?Array.isArray(e.commentIndex)?0===n.state.articleData.comments[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes?0:n.state.articleData.comments[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes:0===n.state.articleData.comments[e.commentIndex].commentDislikes?0:n.state.articleData.comments[e.commentIndex].commentDislikes:e.commentDislikes?e.commentDislikes:0),f=Object(d.a)(b,2),p=f[0],O=f[1],g=Object(a.useState)(null),x=Object(d.a)(g,2),v=x[0],k=x[1],y=Object(a.useState)(!1),C=Object(d.a)(y,2),I=C[0],D=C[1],S=Object(a.useState)(!1),w=Object(d.a)(S,2);w[0],w[1];Object(a.useEffect)((function(){console.log(e.commentIndex),console.log(e.topComment,e.commentIndex),console.log(e.negativeComment,e.commentIndex),console.log(e)}),[]);var B=function(e,t){if(console.log(e),e)for(var n in e)if(t===e[n])return n.split("-").join(".")},N=function(t){if(D(!0),!I){var a=localStorage.getItem("userIp"),c=n.state.articleData?"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(n.state.articleData.category,"/").concat(n.state.articleData.subCategory,"/-").concat(n.state.articleData.id,"/comments/").concat(Array.isArray(e.commentIndex)?e.commentIndexDB[0]:e.commentIndexDB).concat(Array.isArray(e.commentIndexDB)?"/replies/"+e.commentIndexDB[1]:"",".json"):"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e.path,".json");console.log(c),fetch(c).then((function(e){return e.json()})).then((function(n){console.log(n),console.log(e.commentIndex);var c=!1,o=void 0;if("like"===t){if(n.commentDislikes&&(o=B(n.commentDislikes,a)),console.log(o),n.commentLikes)for(var r in n.commentLikes)a===n.commentLikes[r]&&(c=!0);if(o||c){if(!o||c)return void D(!1);j((function(e){if(n.commentLikes){var t=Object(l.a)({},n.commentLikes);return t[a.split(".").join("-")]=a,t}return Object(de.a)({},a.split(".").join("-"),a)})),O((function(e){if(n.commentDislikes){var t=Object(l.a)({},n.commentDislikes);return void 0!==Object.keys(t).find((function(e){return e===o.split(".").join("-")}))&&delete t[o.split(".").join("-")],0===Object.keys(t).length?0:t}}))}else j((function(e){if(console.log(n.commentLikes),n.commentLikes){var t=Object(l.a)({},n.commentLikes);return t[a.split(".").join("-")]=a,t}return Object(de.a)({},a.split(".").join("-"),a)}))}else{if(n.commentLikes&&(o=B(n.commentLikes,a)),n.commentDislikes)for(var s in n.commentDislikes)a===n.commentDislikes[s]&&(c=!0);if(o||c){if(!o||c)return void D(!1);O((function(e){if(n.commentDislikes){var t=Object(l.a)({},n.commentDislikes);return t[a.split(".").join("-")]=a,t}return Object(de.a)({},a.split(".").join("-"),a)})),j((function(e){if(n.commentLikes){var t=Object(l.a)({},n.commentLikes);return void 0!==Object.keys(t).find((function(e){return e===o.split(".").join("-")}))&&delete t[o.split(".").join("-")],console.log(t),0===Object.keys(t).length?0:t}}))}else O((function(e){if(n.commentDislikes){var t=Object(l.a)({},n.commentDislikes);return t[a.split(".").join("-")]=a,t}return Object(de.a)({},a.split(".").join("-"),a)}))}console.log(!1),console.log(Object.keys(n).length),console.log(n),k((function(e){return"like"!==t||c?"dislike"!==t||c?void 0:o?["/commentDislikes/",a,"/commentLikes/"]:["/commentDislikes/",a]:o?["/commentLikes/",a,"/commentDislikes/"]:["/commentLikes/",a]}))}))}};Object(a.useEffect)((function(){if(v){console.log(u),console.log(p),v.commentLikes=u,v.commentDislikes=p,console.log(v);var a=v[1].split(".").join("-"),c=n.state.articleData?"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(n.state.articleData.category,"/").concat(n.state.articleData.subCategory,"/-").concat(n.state.articleData.id,"/comments/").concat(Array.isArray(e.commentIndexDB)?e.commentIndexDB[0]:e.commentIndexDB+v[0]+a).concat(Array.isArray(e.commentIndexDB)?"/replies/"+e.commentIndexDB[1]+v[0]+a:"",".json"):"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e.path).concat(v[0]).concat(a,".json");if(console.log(c),2===v.length)fetch("".concat(c),{method:"PUT",body:JSON.stringify(v[1]),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){if(console.log(a),n.state.articleData){var c=Object(_.a)(JSON.parse(JSON.stringify(n.state.articleData.comments)));console.log(n.state.articleData.comments),console.log(c),console.log(e.commentIndex),Array.isArray(e.commentIndex)?"/commentLikes/"===v[0]?c[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes=Object(l.a)({},u):"/commentDislikes/"===v[0]&&(c[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes=Object(l.a)({},p)):"/commentLikes/"===v[0]?c[e.commentIndex].commentLikes=Object(l.a)({},u):"/commentDislikes/"===v[0]&&(c[e.commentIndex].commentDislikes=Object(l.a)({},p)),console.log(c),console.log(c[e.commentIndex]),console.log(e),t.replace({state:{articleData:Object(l.a)(Object(l.a)({},n.state.articleData),{},{comments:Object(_.a)(c)})}}),D(!1)}else{var o=JSON.parse(JSON.stringify(e.commentData));Array.isArray(e.commentIndex)?"/commentLikes/"===v[0]?o[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes=Object(l.a)({},u):"/commentDislikes/"===v[0]&&(o[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes=Object(l.a)({},p)):"/commentLikes/"===v[0]?o[e.commentIndex].commentLikes=Object(l.a)({},u):"/commentDislikes/"===v[0]&&(o[e.commentIndex].commentDislikes=Object(l.a)({},p)),e.setCommentData(Object(_.a)(o)),D(!1)}})),k(null);else{var o=n.state.articleData?"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(n.state.articleData.category,"/").concat(n.state.articleData.subCategory,"/-").concat(n.state.articleData.id,"/comments/").concat(Array.isArray(e.commentIndexDB)?e.commentIndexDB[0]:e.commentIndexDB+v[2]+a).concat(Array.isArray(e.commentIndexDB)?"/replies/"+e.commentIndexDB[1]+v[2]+a:"",".json"):"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e.path).concat(v[2]).concat(a,".json"),r=[fetch("".concat(c),{method:"PUT",body:JSON.stringify(v[1]),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})),fetch("".concat(o),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))];Promise.all(r).then((function(a){if(console.log(a),n.state.articleData){var c=Object(_.a)(JSON.parse(JSON.stringify(n.state.articleData.comments)));console.log(c),console.log(e.commentIndex),Array.isArray(e.commentIndex)?"/commentLikes/"===v[0]?(c[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes=Object(l.a)({},u),c[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes=p?Object(l.a)({},p):0):"/commentDislikes/"===v[0]&&(c[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes=u?Object(l.a)({},u):0,c[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes=Object(l.a)({},p)):"/commentLikes/"===v[0]?(c[e.commentIndex].commentLikes=Object(l.a)({},u),c[e.commentIndex].commentDislikes=p?Object(l.a)({},p):0):"/commentDislikes/"===v[0]&&(c[e.commentIndex].commentLikes=u?Object(l.a)({},u):0,c[e.commentIndex].commentDislikes=Object(l.a)({},p)),console.log(c),console.log(c[e.commentIndex]),console.log(e),t.replace({state:{articleData:Object(l.a)(Object(l.a)({},n.state.articleData),{},{comments:Object(_.a)(c)})}}),D(!1)}else{var o=JSON.parse(JSON.stringify(e.commentData));Array.isArray(e.commentIndex)?"/commentLikes/"===v[0]?(o[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes=Object(l.a)({},u),o[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes=p?Object(l.a)({},p):0):"/commentDislikes/"===v[0]&&(o[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes=u?Object(l.a)({},u):0,o[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes=Object(l.a)({},p)):"/commentLikes/"===v[0]?(o[e.commentIndex].commentLikes=Object(l.a)({},u),o[e.commentIndex].commentDislikes=p?Object(l.a)({},p):0):"/commentDislikes/"===v[0]&&(o[e.commentIndex].commentLikes=u?Object(l.a)({},u):0,o[e.commentIndex].commentDislikes=Object(l.a)({},p)),e.setCommentData(Object(_.a)(o)),D(!1)}})),k(null)}}}),[v,u,p]),Object(a.useEffect)((function(){console.log(u);var e=localStorage.getItem("userIp");u&&Object.keys(u).length&&e&&Object.keys(u).find((function(t){return t===e.split(".").join("-")}))?c.current.style.opacity="0.5":c.current.style.opacity="1"}),[u]),Object(a.useEffect)((function(){if(console.log(p),p&&Object.keys(p).length){var e=localStorage.getItem("userIp");Object.keys(p).find((function(t){return t===e.split(".").join("-")}))?r.current.style.opacity="0.5":r.current.style.opacity="1"}else r.current.style.opacity="1"}),[p]),Object(a.useEffect)((function(){n&&console.log(n.state.articleData)}),[n]);return Object(h.jsxs)("div",{className:"Array"===e.commentIndex.constructor.name?"".concat(ue.a.commentContainerReply).concat(e.negativeComment?" "+ue.a.negativeComment:""):"".concat(ue.a.commentContainer).concat(e.topComment?" "+ue.a.topComment:"").concat(e.negativeComment?" "+ue.a.negativeComment:""),onClick:function(){},children:[Object(h.jsxs)("div",{className:ue.a.commentHeader,children:[Object(h.jsx)("div",{className:ue.a.commentHeaderFirst,children:Object(h.jsx)("i",{class:"fas fa-user",style:{backgroundColor:"#".concat(e.avatarColor),color:"rgb(255, 255, 255)",padding:"1.5rem",borderRadius:"0.3rem"}})}),Object(h.jsxs)("div",{className:ue.a.commentHeaderSecond,children:[Object(h.jsx)("h4",{children:Object(h.jsx)(o.b,{to:"/profil/".concat(e.displayName),children:e.displayName})}),Object(h.jsx)("p",{children:e.path?"prije ".concat(e.date?e.date:"1 sekund"):Object(h.jsx)(o.b,{to:n.state.articleData&&{pathname:"/komentar/".concat(Array.isArray(e.commentIndexDB)?e.commentIndexDB[1]:e.commentIndexDB),search:"?".concat(JSON.stringify({articleLink:"".concat(n.state.articleData.category,"/").concat(n.state.articleData.subCategory,"/-").concat(n.state.articleData.id),commentId:Array.isArray(e.commentIndexDB)?e.commentIndexDB[1]:e.commentIndexDB,parentCommentId:Array.isArray(e.commentIndexDB)?e.commentIndexDB[0]:void 0}))},children:"prije ".concat(e.date?e.date:"1 sekund")})})]})]}),Object(h.jsx)("div",{className:ue.a.commentBody,children:Object(h.jsx)("p",{children:e.comment})}),Object(h.jsxs)("div",{className:ue.a.commentFooter,children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("span",{className:ue.a.like,onClick:function(){N("like")},ref:c,children:[Object(h.jsx)("i",{class:"fas fa-long-arrow-alt-up"})," ",u&&Object.keys(u).length?Object.keys(u).length:0]}),Object(h.jsxs)("span",{className:ue.a.dislike,onClick:function(){N("dislike")},ref:r,children:[Object(h.jsx)("i",{class:"fas fa-long-arrow-alt-down"})," ",p&&Object.keys(p).length?Object.keys(p).length:0]})]}),Object(h.jsxs)("div",{className:ue.a.reportLikeParent,children:[Object(h.jsxs)("span",{className:ue.a.report,onClick:function(){return e.handleReport({commentId:Array.isArray(e.commentIndexDB)?e.commentIndexDB[1]:e.commentIndexDB,user:e.displayName,comment:e.comment,search:"?".concat(JSON.stringify({comLink:e.path,commentId:Array.isArray(e.commentIndexDB)?e.commentIndexDB[1]:e.commentIndexDB,parentCommentId:Array.isArray(e.commentIndexDB)?e.commentIndexDB[0]:void 0}))})},children:[Object(h.jsx)("i",{class:"far fa-flag"})," ",Object(h.jsx)("p",{children:"Prijavi"})]}),Object(h.jsx)("span",{className:ue.a.divide}),Object(h.jsxs)("span",{className:ue.a.reply,onClick:function(){return e.handleReply(e.commentIndex)},children:[Object(h.jsx)("i",{class:"fas fa-pen"}),Object(h.jsx)("p",{children:"Odgovori"})]})]})]})]})},be=n(52),he=n.n(be),fe=Object(a.forwardRef)((function(e,t){var n=Object(i.useLocation)(),c=Object(a.useRef)();return Object(h.jsxs)("div",{id:Array.isArray(e.commentIndex)?he.a.commentReplyReplies:he.a.commentReply,children:[Object(h.jsx)("textarea",{ref:c,placeholder:"upi\u0161i odgovor"}),Object(h.jsx)("div",{id:he.a.commentReplyFooter,children:Object(h.jsxs)("span",{onClick:function(){console.log(n.state);var a=JSON.parse(localStorage.getItem("userObj"));if(a&&c.current.value.length>2){var o=a.displayName,r=a.avatarColor,s=new Date,i={userName:o,avatarColor:r,date:"".concat(s.getFullYear(),"-").concat(s.getMonth()+1,"-").concat(s.getDate()," ").concat(s.getHours(),":").concat(s.getMinutes(),":").concat(s.getSeconds()),comment:c.current.value},d=b.currentUser.uid,m=e&&e.path?e.path.split("/"):n.state.articleData.linkPath.split("/");m.splice(3),m=m.join("/"),console.log(e.path);var u=e.path?"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e.path,"/replies.json"):"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(n.state.articleData.category,"/").concat(n.state.articleData.subCategory,"/-").concat(n.state.articleData.id,"/comments/").concat(Array.isArray(e.commentIndexDB)?e.commentIndexDB[0]:e.commentIndexDB,"/replies.json");fetch("".concat(u),{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){console.log(a),c.current.value="",e.getComments?e.getComments(!0):(t.current=t.current+1,e.setCommentData((function(t){var n=Object(_.a)(JSON.parse(JSON.stringify(t))),c=Array.isArray(e.commentIndex)?e.commentIndex[0]:e.commentIndex;return i.id=a.name,i.path="".concat(e.path,"/replies/").concat(a.name),n[c].replies=n[c].replies?[].concat(Object(_.a)(n[c].replies),[Object(l.a)({},i)]):[Object(l.a)({},i)],console.log(n),n})),e.setReplyIndex(null));var o={articlePath:e.path?m:"".concat(n.state.articleData.category,"/").concat(n.state.articleData.subCategory,"/-").concat(n.state.articleData.id),commentId:a.name,parentCommentId:Array.isArray(e.commentIndexDB)?e.commentIndexDB[0]:e.commentIndexDB};console.log(e.commentIndexDB),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(d,"/comments/comLength.json")).then((function(e){return e.json()})).then((function(e){console.log(e);var t=e+1;console.log(t);var n=[fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(d,"/comments/").concat(e,"/").concat(o.commentId,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(d,"/comments/comLength.json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:t}).then((function(e){return e.json()}))];Promise.all(n).then((function(e){console.log(e)}))}))}))}},children:[Object(h.jsx)("i",{class:"fas fa-pen"}),"\xa0 Odgovori"]})})]})})),pe=n(53),Oe=n.n(pe),ge=function(e){return Object(h.jsx)("div",{className:"".concat(Oe.a.showCommentReplies).concat(e.showAll?" "+Oe.a.showAll:e.showReply?"":" "+Oe.a.showCommentMore),onClick:e.onClick,children:e.showAll?"PRIKA\u017dI SVE KOMENTARE (".concat(e.showAll,")"):e.showReply?"PRIKA\u017dI ODGOVORE (".concat(e.showReply,")"):e.loading?"U\u010ditavam...":!e.loading&&"PRIKA\u017dI JO\u0160 KOMENTARA"})},xe=n(22),ve=n.n(xe),ke=function(e){var t=Object(a.useRef)();return Object(h.jsxs)("div",{id:ve.a.reportContainer,children:[Object(h.jsx)("div",{id:ve.a.reportHeader,children:Object(h.jsx)("h3",{children:"Navedite razlog zbog kojeg \u017eelite prijaviti ovaj komentar?"})}),Object(h.jsxs)("div",{id:ve.a.reportBody,children:[Object(h.jsxs)("div",{id:ve.a.reportRadioBtns,ref:t,children:[Object(h.jsxs)("div",{className:ve.a.bundleRadios,children:[Object(h.jsx)("input",{type:"radio",id:"reportChoice1",name:"report",value:"govor mr\u017enje",readonly:"readonly"}),Object(h.jsx)("label",{htmlFor:"reportChoice1",children:"Govor mr\u017enje"})]}),Object(h.jsxs)("div",{className:ve.a.bundleRadios,children:[Object(h.jsx)("input",{type:"radio",id:"reportChoice2",name:"report",value:"negiranje genocida",readonly:"readonly"}),Object(h.jsx)("label",{htmlFor:"reportChoice2",children:"Negiranje genocida"})]}),Object(h.jsxs)("div",{className:ve.a.bundleRadios,children:[Object(h.jsx)("input",{type:"radio",id:"reportChoice3",name:"report",value:"neprikladan rje\u010dnik",readonly:"readonly"}),Object(h.jsx)("label",{htmlFor:"reportChoice3",children:"Neprikladan rje\u010dnik"})]}),Object(h.jsxs)("div",{className:ve.a.bundleRadios,children:[Object(h.jsx)("input",{type:"radio",id:"reportChoice4",name:"report",value:"off topic",readonly:"readonly"}),Object(h.jsx)("label",{htmlFor:"reportChoice4",children:"Off topic"})]}),Object(h.jsxs)("div",{className:ve.a.bundleRadios,children:[Object(h.jsx)("input",{type:"radio",id:"reportChoice5",name:"report",value:"vrije\u0111anje",readonly:"readonly"}),Object(h.jsx)("label",{htmlFor:"reportChoice5",children:"Vrije\u0111anje"})]}),Object(h.jsxs)("div",{className:ve.a.bundleRadios,children:[Object(h.jsx)("input",{type:"radio",id:"reportChoice6",name:"report",value:"spam"}),Object(h.jsx)("label",{htmlFor:"reportChoice6",children:"Spam"})]}),Object(h.jsxs)("div",{className:ve.a.bundleRadios,children:[Object(h.jsx)("input",{type:"radio",id:"reportChoice7",name:"report",value:"reklama",readonly:"readonly"}),Object(h.jsx)("label",{htmlFor:"reportChoice7",children:"Reklama"})]})]}),Object(h.jsxs)("div",{id:ve.a.confirm,children:[Object(h.jsx)("button",{onClick:function(){e.closeModal(null)},children:"Odustani"}),Object(h.jsx)("button",{onClick:function(){var n=new Date,a=n.getFullYear(),c=n.getMonth()+1,o=n.getDate();console.log(c),console.log(o),console.log(e.reportData),console.log(t.current.style);for(var r=[],s=e.reportData,i=0;i<t.current.children.length;i++)t.current.children[i].children[0].checked&&r.push(t.current.children[i].children[0]);r.length?(s.reason=r[0].value,fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/reports/".concat(a,"/").concat(c,"/").concat(o,".json"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),e.closeModal(null)):alert("Molimo, odaberite razlog prijave.")},children:"Prijavi komentar"})]}),Object(h.jsx)("p",{id:ve.a.footerNote,children:"Ukoliko \u017eelite dopuniti va\u0161u prijavu ili prijaviti odre\u0111enog korisnika molimo da nas kontaktirate na poseban e-mail: komentari@klix.ba."})]})]})},ye=n(70),_e=n(10),Ce=n.n(_e),Ie=n(47),De=n.n(Ie),Se=function(e){var t=e.data,n=e.indL;return Object(a.useState)((function(){console.log(t),console.log(n),console.log(3===n[1]&&1===n[0])}),[]),Object(h.jsxs)("div",{className:"".concat(De.a.linkedArticle).concat(1===n[1]?" ".concat(De.a.linkedArticleSolo):""),style:2===n[1]&&1===n[0]?{position:"static"}:null,children:[Object(h.jsx)("div",{className:De.a.imageContainer,children:Object(h.jsx)(o.b,{to:{pathname:encodeURI("/".concat(t.articlePath)),state:void 0},children:Object(h.jsx)("img",{src:t.thumbnail.replace("https://firebasestorage.googleapis.com","https://ik.imagekit.io/1cryg5xvxsq/tr:w-300")})})}),Object(h.jsxs)("div",{className:De.a.titles,children:[Object(h.jsx)("h3",{style:{color:"".concat($[t.articlePath.split("/")[0].toLowerCase()])},children:t.subTitle}),Object(h.jsx)("h3",{children:Object(h.jsx)(o.b,{to:{pathname:encodeURI("/".concat(t.articlePath)),state:void 0},children:t.title})})]})]})},we=n(42),Be=n.n(we),Ne=function(e){var t=e.data;return Object(h.jsxs)("div",{className:Be.a.promoItem,children:[Object(h.jsx)("div",{className:Be.a.promoImageCnt,children:Object(h.jsx)(o.b,{to:{pathname:encodeURI("/".concat(t.category,"/").concat(t.subCategory,"/").concat(Ge(t.title),"/").concat(t.id)),state:{articleData:t}},children:Object(h.jsx)("img",{src:t.imageText[0][0]})})}),Object(h.jsxs)("div",{className:Be.a.promoBody,children:[Object(h.jsxs)("div",{className:Be.a.promoTitles,children:[Object(h.jsx)("h3",{style:{color:te[t.category.toLowerCase()]},children:t.subTitle}),Object(h.jsx)("h3",{children:Object(h.jsx)(o.b,{to:{pathname:encodeURI("/".concat(t.category,"/").concat(t.subCategory,"/").concat(Ge(t.title),"/").concat(t.id)),state:{articleData:t}},children:t.title})})]}),Object(h.jsxs)("div",{className:Be.a.promoFooter,children:[Object(h.jsx)("span",{children:t.date?ae(t.date):""}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comments"})," 0",Object(h.jsx)("i",{class:"fas fa-share-alt"})," 0"]})]})]})]})},Te=n(30),Ae=n.n(Te),Le=function(e){console.log(e);var t=0;if(e.comments){for(var n=0;n<Object.keys(e.comments).length;n++)e.comments[Object.keys(e.comments)[n]].replies&&(t+=Object.keys(e.comments[Object.keys(e.comments)[n]].replies).length);return t+Object.keys(e.comments).length}return 0},Pe=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){j.ref("dates/2022/3/8").once("value",function(){var e=Object(N.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],a=t.val(),console.log(a),!Object.keys(a).length){e.next=10;break}return n=r(a),e.next=7,n.then((function(e){return n=Object(_.a)(e)}));case 7:n.sort((function(e,t){return e.len-t.len>0?-1:e.len-t.len<0?1:0})),n.splice(2),n.length>=5?(n.splice(5),c(Object(_.a)(n))):j.ref("dates/2022/3/7").once("value",function(){var e=Object(N.a)(B.a.mark((function e(t){var a,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.val(),console.log(a),o=r(a),e.next=5,o.then((function(e){return o=Object(_.a)(e)}));case 5:o.sort((function(e,t){return e.len-t.len>0?-1:e.len-t.len<0?1:0})),o.splice(5-n.length),(o=o.concat(n)).sort((function(e,t){return e.len-t.len>0?-1:e.len-t.len<0?1:0})),c(Object(_.a)(o));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var r=function(e){return new Promise((function(t){for(var n=[],a=[],c=0;c<Object.keys(e).length;c++)a.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(Object.values(e)[c].path,"/").concat(Object.values(e)[c].id,".json")).then((function(e){return e.json()})));Promise.all(a).then((function(e){console.log(e);for(var a=0;a<e.length;a++)if(e[a].comments){var c=Le(e[a]);c?c+Object.keys(e[a].comments).length+(e[a].shares.constructor===Object?Object.keys(e[a].shares).length:0)>=10&&(e[a].len=c+Object.keys(e[a].comments).length+(e[a].shares.constructor===Object?Object.keys(e[a].shares).length:0),n.push(e[a])):Object.keys(e[a].comments).length+(e[a].shares.constructor===Object?Object.keys(e[a].shares).length:0)>=10&&(e[a].len=Object.keys(e[a].comments).length+(e[a].shares.constructor===Object?Object.keys(e[a].shares).length:0),n.push(e[a]))}else e[a].shares.constructor===Object&&Object.keys(e[a].shares).length>=10&&(e[a].len=Object.keys(e[a].shares).length,n.push(e[a]));return console.log(n),t(n)}))}))};return Object(h.jsxs)("div",{id:Ae.a.popularCnt,children:[Object(h.jsxs)("div",{id:Ae.a.popularHeader,children:[Object(h.jsx)("h3",{children:"Popularno"}),Object(h.jsx)("span",{children:Object(h.jsx)("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),Object(h.jsx)("div",{id:Ae.a.popularBody,children:n&&n.map((function(e){return Object(h.jsxs)("div",{className:Ae.a.popularItem,children:[Object(h.jsx)("div",{className:Ae.a.popularItemHeader,children:Object(h.jsx)("h3",{style:{color:"".concat($[e.category.toLowerCase()])},children:e.subTitle})}),Object(h.jsx)("div",{className:Ae.a.popularItemBody,children:Object(h.jsx)("p",{children:Object(h.jsx)(o.b,{to:{pathname:encodeURI("/".concat(e.category,"/").concat(e.subCategory,"/").concat(Ge(e.title),"/").concat(e.id)),state:{articleData:Object(l.a)(Object(l.a)({},e),{},{linkPath:"/".concat(e.category,"/").concat(e.subCategory,"/").concat(Ge(e.title),"/").concat(e.id)})}},children:e.title})})}),Object(h.jsxs)("div",{className:Ae.a.popularItemFooter,children:[Object(h.jsx)("span",{className:Ae.a.itemTime,children:ae(e.date)}),Object(h.jsxs)("span",{className:Ae.a.spanComShare,children:[Object(h.jsxs)("span",{className:Ae.a.spanComment,children:[Object(h.jsxs)("svg",{class:"inline h-3 w-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[Object(h.jsx)("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),Object(h.jsx)("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]}),Le(e)]}),Object(h.jsxs)("span",{className:Ae.a.spanShare,children:[Object(h.jsx)("svg",{class:"ml-1 inline h-3 w-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(h.jsx)("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})})," ",e.shares.constructor===Object?Object.keys(e.shares).length:0]})]})]})]},Object(A.a)())}))})]})},Re={Vijesti:["BiH","Regija","Svijet","Dijaspora","Crna hronika","Humanitarne akcije"],Biznis:["Privreda","Finansije","Investicije","Smart Cash","Berza","Startupi","Posao"],Sport:["Nogomet","Ko\u0161arka","Tenis","Rukomet","Formula 1","Skijanje","Atletika","Borila\u010dki sportovi","Plivanje"],Magazin:["Kultura","Muzika","Film/TV","Showbiz","Zanimljivosti"],Lifestyle:["Moda i ljepota","Zdravlje","Veze i seks","Gastro","Ku\u0107a i ured","Putovanja","Bebe","Fitness","Ljubimci"],Scitech:["Nauka","Tehnologija"],Auto:["Testovi","Noviteti","Koncepti","Tuning"]},Ee=function(e){if(e.current){console.log(document.getElementsByTagName("header")[0]);var t=+window.getComputedStyle(document.getElementsByTagName("header")[0]).getPropertyValue("height").split("px")[0],n=+window.getComputedStyle(e.current.parentElement).getPropertyValue("margin-top").split("px")[0];e.current&&e.current.parentElement.getBoundingClientRect().top-t-n<=0&&(e.current.children[0].style.position="sticky",e.current.children[0].style.top="".concat(t+n,"px"))}},Fe=function(){var e=Object(a.useContext)(x),t=Object(i.useLocation)(),n=Object(i.useHistory)(),r=Object(a.useState)(null),s=Object(d.a)(r,2),m=s[0],u=s[1],b=Object(a.useState)([]),f=Object(d.a)(b,2),p=f[0],O=f[1],g=Object(a.useState)({}),v=Object(d.a)(g,2),k=v[0],y=v[1],C=Object(a.useState)([]),I=Object(d.a)(C,2),D=I[0],S=I[1],w=Object(a.useState)(!1),B=Object(d.a)(w,2),N=B[0],L=B[1],P=Object(a.useState)(!1),R=Object(d.a)(P,2),E=R[0],F=R[1],M=Object(a.useState)(!1),H=Object(d.a)(M,2),z=H[0],J=H[1],U=Object(a.useState)(null),K=Object(d.a)(U,2),V=K[0],Y=K[1],Z=Object(a.useState)(null),X=Object(d.a)(Z,2),G=X[0],q=X[1],Q=Object(a.useState)(null),W=Object(d.a)(Q,2),te=W[0],ne=W[1],ce=Object(a.useState)(""),oe=Object(d.a)(ce,2),re=oe[0],se=oe[1],ie=Object(a.useState)(0),me=Object(d.a)(ie,2),ue=me[0],je=me[1],be=Object(a.useState)([]),he=Object(d.a)(be,2),fe=he[0],pe=he[1],Oe=Object(a.useState)([]),ge=Object(d.a)(Oe,2),xe=ge[0],ve=ge[1],ke=Object(a.useRef)(),_e=Object(a.useRef)(),Ie=Object(a.useRef)(null),De=Object(a.useRef)(),we=Object(a.useRef)(),Be=Object(a.useRef)(0);Object(a.useEffect)((function(){function e(){Ee(De),Ee(we)}return window.scrollTo(0,0),console.log(m),window.twttr&&window.twttr.widgets.load(),console.log(window),window.instgrm&&(console.log(window.instgrm),window.instgrm.Embeds.process()),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),Object(a.useEffect)((function(){if(t.state){window.scrollTo(0,0),console.log(t.state),console.log(t.pathname),u(Object(l.a)({},t.state.articleData)),t.state.articleData.tags&&$e(t.state.articleData.tags,t.state.articleData.category,"-".concat(t.state.articleData.id)),console.log(t.state.articleData),fetch("https://api.ipify.org/?format=json").then((function(e){return e.json()})).then((function(e){var n=j.ref("articles/".concat(t.state.articleData.category,"/").concat(t.state.articleData.subCategory,"/-").concat(t.state.articleData.id,"/visited/").concat(e.ip.split(".").join("_")));n.once("value",(function(a){var c=a.val();console.log(c),console.log("s"),console.log("articles/".concat(t.state.articleData.category,"/").concat(t.state.articleData.subCategory,"/-").concat(t.state.articleData.id,"/visited/").concat(e.ip.split(".").join("_"))),n.set(e.ip)}))})),j.ref("articles/Promo/".concat(t.state.articleData.category)).orderByKey().limitToLast(9).once("value",(function(e){console.log(e.val());var t=e.val(),n=[];if(t&&!(Object.keys(t).length<9)){!function e(t,n,a){console.log(t),console.log(n),console.log(a),t.length<3&&(t.some((function(e){return e===n}))||t.push(n),e(t,Math.floor(Math.random()*a),a))}(n,Math.floor(Math.random()*Object.keys(t).length),Object.keys(t).length),console.log(n);for(var a=[],c=0;c<n.length;c++)a.push(t[Object.keys(t)[n[c]]]);console.log(a),ve([].concat(a))}}));var e=0;if(t.state.articleData.comments){for(var a in t.state.articleData.comments)t.state.articleData.comments[a].replies&&(e+=Object.keys(t.state.articleData.comments[a].replies).length);Be.current=e+Object.keys(t.state.articleData.comments).length}for(var c=t.state.articleData.articleText,o=[],r="",s=[],i=0,d=0;d<c.length;d++)"\n"===c[d]&&"\n"===c[d+1]&&(o.push({text:c.slice(i,d)}),i=d),d===c.length-1&&o.push({text:c.slice(i)});console.log(o);var m=[],b=null,h=!1,f=0,p=[];o.forEach((function(e){console.log(e);for(var t=0;t<e.text.length;t++)if("<"!==e.text[t]||"b"!==e.text[t+1]||">"!==e.text[t+2]||e.text.includes("<list>")||e.text.includes("</list>")?"<"!==e.text[t]||"/"!==e.text[t+1]||"b"!==e.text[t+2]||">"!==e.text[t+3]||e.text.includes("<list>")||e.text.includes("</list>")?"\n"===e.text[t]||h||(r=r.concat(e.text[t])):(p.push({bold:e.text.slice(b+3,t)}),t+=3,b=null,h=!1):(b=t,h=!0,r&&(p.push({text:r}),r="")),t===e.text.length-1||t>=e.text.length){console.log(f);var n=!1;if(""!==r){for(var a=0;a<r.length;a++)if("<"===r[a]&&"l"===r[a+1]&&"i"===r[a+2]&&"s"===r[a+3]&&"t"===r[a+4]&&">"===r[a+5])n=a+6;else if("<"===r[a]&&"/"===r[a+1]&&"l"===r[a+2]&&"i"===r[a+3]&&"s"===r[a+4]&&"t"===r[a+5]&&">"===r[a+6]){var c=r.slice(n,a);p.push({list:c})}n||p.push({text:r})}m.push(Object(_.a)(p)),f++,s.push({text:r}),r="",p=[]}})),console.log(o),console.log(s),console.log(m);var g=[],x=[],v=[],k="",C=!1,I=0,D=0,w="",B=!1,N=0,T=0,A=0,L=!1;m.forEach((function(e,t){console.log(e),e.forEach((function(e){for(var n in console.log(t),e){"list"===n&&(L=!0),console.log(e[n]);for(var a=0;a<e[n].length;a++){if("<"!==e[n][a]||"l"!==e[n][a+1]||"i"!==e[n][a+2]||"n"!==e[n][a+3]||"k"!==e[n][a+4]||">"!==e[n][a+5]||L)"<"!==e[n][a]||"/"!==e[n][a+1]||"l"!==e[n][a+2]||"i"!==e[n][a+3]||"n"!==e[n][a+4]||"k"!==e[n][a+5]||">"!==e[n][a+6]||L||(k=e[n].slice(I,a+7),D=a+7,x.push(k),console.log("s"),k.includes(" external")?(v.push({externalLink:k}),console.log(v)):(g[A]=[{link:k}],A++));else{if(k){for(var c=a+6;c<e[n].length;c++)if("<"===e[n][c]&&"/"===e[n][c+1]&&"l"===e[n][c+2]&&"i"===e[n][c+3]&&"n"===e[n][c+4]&&"k"===e[n][c+5]&&">"===e[n][c+6]){if(e[n].slice(a,c+7).includes(" external")){v.push({text:e[n].slice(D,a)}),D=0;break}g[A]=[e[n].slice(0,a)],A++}}else if(!k&&!B&&a-2>0)for(var o=a+6;o<e[n].length;o++)if("<"===e[n][o]&&"/"===e[n][o+1]&&"l"===e[n][o+2]&&"i"===e[n][o+3]&&"n"===e[n][o+4]&&"k"===e[n][o+5]&&">"===e[n][o+6]){if(e[n].slice(a,o+7).includes(" external")){v.push({text:e[n].slice(0,a)}),console.log(JSON.parse(JSON.stringify(v)));break}g[A]=[e[n].slice(0,a)],A++}C=!0,I=a}"<"===e[n][a]&&"e"===e[n][a+1]&&"m"===e[n][a+2]&&"b"===e[n][a+3]&&"e"===e[n][a+4]&&"d"===e[n][a+5]&&">"===e[n][a+6]?(w&&(g[A]=[e[n].slice(T,a)],D=0),B=!0,N=a):"<"===e[n][a]&&"/"===e[n][a+1]&&"e"===e[n][a+2]&&"m"===e[n][a+3]&&"b"===e[n][a+4]&&"e"===e[n][a+5]&&"d"===e[n][a+6]&&">"===e[n][a+7]&&(w=e[n].slice(N,a+8),T=a+8,g[A]=[{embed:w}],A++),a!==e[n].length-1||C||B?a===e[n].length-1&&C&&!B?(a>D&&v.push({text:e[n].slice(D)}),C=!1):a===e[n].length-1&&!C&&B&&(v.push({text:e[n].slice(T)}),B=!1):v.push(Object(de.a)({},n,e[n]))}"list"===n&&(L=!1),k=""}})),g[A]=Object(_.a)(v),A++,v=[]})),console.log(g),console.log(s),console.log(x);var P=[],R=[];x.forEach((function(e,t){if(console.log(e),e.includes(" external")){e=e.slice(6,e.length-7),console.log(e);var n=e.split(" ");console.log(n),P.push({external:{url:n[0],text:n[1]}})}else if(e.includes(" image")){var a=e.slice(6,e.length-7),c="";console.log(a);for(var o=0;o<a.length;o++)" "===a[o]&&"e"===a[o-1]&&"g"===a[o-2]&&"a"===a[o-3]&&"m"===a[o-4]&&"i"===a[o-5]&&" "===a[o-6]&&(c=a.slice(o+1),a=(a=a.slice(0,o)).split(" "),console.log(a),a.push(c));console.log(a),P.push({image:{url:a[0],text:a[2]}})}else{var r=e.slice(6,e.length-7);console.log(r),(r=r.split(" ")).splice(r.length-1);var s="".concat(r.length>2?r.map((function(e,t){if(0!==t)return e})).join(" ").slice(1):r[1],"/-").concat(r[0]);console.log(s);var i=r[1].split("/");for(var l in Re)if(l.toLowerCase().includes(i[0]))for(var d=0;d<Re[l].length;d++)Re[l][d].toLowerCase().includes(i[1])&&(s="".concat(l,"/").concat(Re[l][d]));fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(s,".json")).then((function(e){return e.json()})).then((function(e){console.log(e);var t,n=e.title.split(" "),a=[];n.forEach((function(e){a.push(e.toLowerCase())})),t=(t=a.join("-")).split(",").join("").split(" ").join("-"),S((function(n){var a=Object(_.a)(n);return a.push({title:e.title,subTitle:e.subTitle,imageUrl:e.images[0],linkPath:"/".concat(e.category,"/").concat(e.subCategory,"/").concat(t,"/").concat(e.id),category:e.category,subCategory:e.subCategory,id:e.id}),a}))}))}t===x.length-1&&(console.log(R),console.log(P),y([].concat(P)))})),O(g)}else{console.log(n.location.pathname);var E=n.location.pathname.split("/");console.log(E);var F={category:E[1],subCategory:E[2],id:E[4]};fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(F.category,"/").concat(F.subCategory,"/-").concat(F.id,".json")).then((function(e){return e.json()})).then((function(e){S([]),console.log(e);var t=[],a=[];if(e.comments){for(var c in e.comments)if(e.comments[c].replies){for(var o in e.comments[c].replies)a.push(e.comments[c].replies[o]);t.push(e.comments[c]),t[t.length-1].replies=Object(_.a)(a),a=[]}else t.push(e.comments[c]);e.comments=[].concat(t)}var r,s=e.title.split(" "),i=[];s.forEach((function(e){i.push(e.toLowerCase())})),r=(r=i.join("-")).split(",").join("").split(" ").join("-"),e.timeDiff=ae(e.date),e.linkPath="/".concat(e.category,"/").concat(e.subCategory,"/").concat(r,"/").concat(e.id),n.replace({state:{articleData:Object(l.a)({},JSON.parse(JSON.stringify(e)))}})}))}}),[t]),Object(a.useEffect)((function(){m&&(console.log(m.shares),console.log(m.images[0]),console.log(typeof m.images),console.log(m.comments),console.log(Array.isArray(m.comments)))}),[m]),Object(a.useEffect)((function(){console.log(k)}),[k]);var Te=[],Ae=Object(a.useState)([]),Le=Object(d.a)(Ae,2),Fe=Le[0];Le[1];Object(a.useEffect)((function(){console.log(Fe)}),[Fe]);var Me=!1,He=!1,ze=!1,Je=0,Ue=0,Ke=[],Ve=0,Ye=!1;console.log(p),p.map((function(e,t){console.log(window.twttr),console.log(e),e.map((function(t){for(var n in t)if("bold"===n&&1===e.length)Te.push(Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)("b",{children:t[n]},Object(A.a)()),Object(h.jsx)("br",{})]},Object(A.a)()));else if("link"===n)t[n].includes(" external")?(console.log(t[n]),console.log(k[0].url),console.log(k[0].text),Te.push(Object(h.jsx)("a",{href:k[0].external.url,target:"_blank",rel:"noreferrer noopener",children:k[0].external.text},Object(A.a)()))):t[n].includes(" image")?(console.log(k),console.log(k[Ue].image.url),Te.push(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{style:{width:"100%",height:"initial"},src:k[Ue].image.url},Object(A.a)()),"blank"!==k[Ue].image.text?Object(h.jsx)("p",{className:Ce.a.textBelowImage,children:k[Ue].image.text}):Object(h.jsx)("br",{})]})),He=!0,Ue++):D.length>0&&(console.log(D),console.log(Je),Me=!0,Te.push(Object(h.jsx)(ee,{subTitle:D[Je].subTitle,title:D[Je].title,imageUrl:D[Je].imageUrl,linkPath:D[Je].linkPath,category:D[Je].category,subCategory:D[Je].subCategory,id:D[Je].id},Object(A.a)())),D.length-1>Je&&Je++);else if("embed"===n)console.log(t[n]),t[n].includes("YouTube video player")?Te.push(Object(h.jsx)("div",{className:Ce.a.ytConfig,children:Object(T.a)(t[n])})):Te.push(Object(h.jsx)("div",{style:{maxWidth:"70%",margin:"auto"},children:Object(T.a)(t[n])})),ze=!0;else if("list"===n){var a=t[n].split(" || ");console.log(a);for(var o=0,r=0,s=[],i=[],l="",d=0;d<a.length;d++)if(a[d].includes("<link>")&&a[d].includes("</link>")||a[d].includes("<b>")&&a[d].includes("</b>"))for(var u=0;u<a[d].length;u++){if("<"===a[d][u]&&"b"===a[d][u+1]&&">"===a[d][u+2])r=u+3,u+=2;else if("<"===a[d][u]&&"/"===a[d][u+1]&&"b"===a[d][u+2]&&">"===a[d][u+3])l&&(i.push(Object(h.jsx)("span",{children:l},Object(A.a)())),l=""),i.push(Object(h.jsx)("b",{children:a[d].slice(r,u)},Object(A.a)())),r=0,u+=3;else if("<"===a[d][u]&&"l"===a[d][u+1]&&"i"===a[d][u+2]&&"n"===a[d][u+3]&&"k"===a[d][u+4]&&">"===a[d][u+5])o=u+6,u+=5;else if("<"===a[d][u]&&"/"===a[d][u+1]&&"l"===a[d][u+2]&&"i"===a[d][u+3]&&"n"===a[d][u+4]&&"k"===a[d][u+5]&&">"===a[d][u+6]){var j=a[d].slice(o,u),b=j.split(" ")[0];j=j.replace(b+" ",""),l&&(i.push(Object(h.jsx)("span",{children:l},Object(A.a)())),l=""),i.push(Object(h.jsx)("a",{href:b,target:"_blank",rel:"noreferrer noopener",children:j},Object(A.a)())),console.log(j),console.log(b),o=0,u+=6}else o||r||(l=l.concat(a[d][u]));u===a[d].length-1&&(l&&i.push(Object(h.jsx)("span",{children:l},Object(A.a)())),s.push(Object(h.jsx)("li",{children:i},Object(A.a)())),console.log(i),console.log(s),i=[],l=[])}else s.push(Object(h.jsx)("li",{children:a[d]},Object(A.a)()));console.log(m.listOrder),console.log(m),"ol"===m.listOrder[Ve]?Te.push(Object(h.jsx)("ol",{children:s},Object(A.a)())):"ul"===m.listOrder[Ve]&&Te.push(Object(h.jsx)("ul",{children:s},Object(A.a)())),Ve++,console.log(l)}else if(e.length>1){if("bold"===n)Ke.push(Object(h.jsx)("b",{children:t[n]},Object(A.a)()));else if("externalLink"===n){var f=t[n];console.log(f),console.log(t),console.log(n);var p=(f=(f=f.slice(6,f.length-8)).split(" "))[0];f.splice(0,1),f.splice(f.length-1,1);var O=f.join(" ");console.log(O),Ke.push(Object(h.jsx)("a",{href:p,target:"_blank",rel:"noreferrer noopener",children:O},Object(A.a)())),Ue++}else Ke.push(Object(h.jsx)("span",{children:t[n]},Object(A.a)()));Ke.length===e.length&&(console.log(Ke),Te.push(Object(h.jsx)(c.a.Fragment,{children:Object(h.jsx)("p",{children:Ke},Object(A.a)())},Object(A.a)())),Ke=[])}else if(console.log(t[n]),1===e.length&&"externalLink"===n){console.log(t[n]);var g=t[n],x=(g=(g=g.slice(6,g.length-8)).split(" "))[0];g.splice(0,1),g.splice(g.length-1,1);var v=g.join(" ");console.log(v),Te.push(Object(h.jsx)("a",{href:x,target:"_blank",rel:"noreferrer noopener",style:{display:"block"},children:v},Object(A.a)())),Ue++}else Te.push(Object(h.jsx)(c.a.Fragment,{children:Object(h.jsx)("p",{children:t[n]},Object(A.a)())},Object(A.a)()))})),Me?(Te.splice(Te.length-2,1),Me=!1,Ye=!0):He?He=!1:ze?(ze=!1,window.instgrm&&window.instgrm.Embeds.process()):Ye?Ye=!1:Te.push(Object(h.jsx)("br",{},Object(A.a)())),console.log(p.length),p.length,console.log(Te)}));Object(a.useEffect)((function(){N&&(V||Y(ke.current.getBoundingClientRect().top))}),[N]);var Ze=function(){ke.current.style.width="62.5%",ke.current.style.height="85vh",ke.current.style.top="7vh",ke.current.style.transform="translateX(-50%)",_e.current.style.color="#c4c4c4"},Xe=function(e){switch(ke.current.style.width="90%",ke.current.style.height="150vh",_e.current.style.color="#fff",ke.current.style.transform="translateX(-50%)",e){case"normal":ke.current.style.top="0vh";break;case"upper":ke.current.style.transform="translate(-50%, -10%)";break;case"middle":ke.current.style.transform="translate(-50%, -20%)";break;case"lower":ke.current.style.transform="translate(-50%, -30%)"}},qe=function(){E?(F(!1),Ze()):(F(!0),Xe("middle"))};Object(a.useEffect)((function(){ke.current&&(console.log(ke.current.style.top),console.log(ke.current.style.left))}),[ke]);Object(a.useEffect)((function(){}),[z]),Object(a.useEffect)((function(){E?ke.current&&(ke.current.style.cursor="grab"):ke.current&&(ke.current.style.cursor="zoom-in")}),[E]);var Qe=function(e,t){"right"===t?ue<m.images.length-1?(je((function(e){return e+1})),ke.current.src=m.imageText[ue+1][0]):ue===m.images.length-1&&(je(0),ke.current.src=m.imageText[0][0]):"left"===t&&(0===ue?(je(m.images.length-1),ke.current.src=m.imageText[ue][0]):(je((function(e){return e-1})),ke.current.src=m.imageText[ue-1][0]))},We=function(e){L(!0),je(e)},$e=function(e,t,n){var a,c=j.ref("related/".concat(t)),o=[],r=[],s=Object(ye.a)(e);try{for(s.s();!(a=s.n()).done;){var i=a.value;c.child(i.constructor===Object?i.value:i).orderByKey().limitToLast(4).once("value",(function(e){console.log(e.val());var t=e.val(),a=function(e){var a=t[e].articlePath.split("/")[t[e].articlePath.split("/").length-1];if(a!==n&&o.filter((function(e){return e.id!==a})).length===o.length){var c=t[e].articlePath.split("/");c[2]=c[2].slice(1),c.splice(2,0,Ge(t[e].title)),delete t[e].articlePath,console.log(c.join("/")),t[e].articlePath=c.join("/"),console.log(t[e]),o.push(Object(l.a)(Object(l.a)({},t[e]),{},{id:a})),r.push(new Date(t[e].date))}};for(var c in t)a(c);console.log(o),console.log(r);var s;s=o.sort((function(e,t){var n=new Date(e.date);return new Date(t.date)-n})),console.log(s),s.length>3&&s.splice(3),pe(Object(_.a)(s))}))}}catch(d){s.e(d)}finally{s.f()}},et=function(){j.ref("articles/".concat(m.category,"/").concat(m.subCategory,"/-").concat(m.id)).child("shares").once("value",(function(e){console.log(e.val());var t=e.val();fetch("https://api.ipify.org/?format=json").then((function(e){return e.json()})).then((function(e){1===t.length&&""===t[0]?(j.ref("articles/".concat(m.category,"/").concat(m.subCategory,"/-").concat(m.id,"/shares")).set(Object(de.a)({},e.ip.split(".").join("_"),e.ip)),u((function(t){var n=Object(l.a)({},t);return delete n.shares,n.shares={},n.shares[e.ip.split(".").join("_")]=e.ip,n}))):Object.values(m.shares).some((function(t){return t===e.ip}))||(j.ref("articles/".concat(m.category,"/").concat(m.subCategory,"/-").concat(m.id,"/shares/").concat([e.ip.split(".").join("_")])).set(e.ip),u((function(t){var n=Object(l.a)({},t);return n.shares[e.ip.split(".").join("_")]=e.ip,n})))}))}))};return Object(h.jsxs)("div",{id:Ce.a.articleParent,children:[N&&Object(h.jsx)("div",{onClick:function(e){e.target.id.includes("clickedSlider")&&(L(!1),E&&F(!1))},onWheel:function(){E||L(!1)},id:Ce.a.clickedSlider,children:Object(h.jsxs)("div",{id:Ce.a.sliderMainImgContainer,children:[Object(h.jsxs)("div",{id:Ce.a.sliderHeaderBar,children:[Object(h.jsx)("span",{id:Ce.a.slideNumbers,children:"".concat(ue+1," / ").concat(m.images.length)}),Object(h.jsxs)("span",{id:Ce.a.slideZoomExpand,children:[!E&&Object(h.jsx)("i",{class:"fas fa-search-plus",onClick:qe}),E&&Object(h.jsx)("i",{class:"fas fa-search-minus",onClick:qe}),Object(h.jsx)("i",{class:"fas fa-expand",onClick:function(e){ke.current.parentElement.requestFullscreen(),e.target.className="fas fa-compress",document.fullscreenElement&&(document.exitFullscreen(),e.target.className="fas fa-expand")}})]})]}),Object(h.jsx)("img",{ref:ke,src:m&&m.imageText[ue][0],onMouseDown:function(){E&&(console.log("mousedown"),ke.current.style.cursor="grabbing",Ie.current=setTimeout((function(){J(!0)}),250))},onMouseUp:function(e){if(clearTimeout(Ie.current),Ie.current=null,E&&(ke.current.style.cursor="grab",ke.current.style.transform="none",ke.current.style.top="7vh","upper"===re?ke.current.style.transform="translate(-50%, -10%)":"middle"===re?ke.current.style.transform="translate(-50%, -20%)":"lower"===re?ke.current.style.transform="translate(-50%, -30%)":ke.current.style.top="0",ke.current.style.left="50%",q(null),ne(null)),!z){var t=ke.current.offsetHeight/3,n=e.clientY-ke.current.getBoundingClientRect().top;n<t?E?(F(!1),Ze()):(F(!0),Xe("upper"),se("upper")):n>=t&&n<=2*t?E?(F(!1),Ze()):(F(!0),Xe("middle"),se("middle")):E?(F(!1),Ze()):(F(!0),Xe("lower"),se("lower"))}z&&J(!1)},onMouseMove:function(e){if(console.log("mousemove"),E&&z&&ke.current.style){var t=ke.current.width,n=ke.current.height,a=ke.current.style.left,c=ke.current.style.top;q(e.clientX),ne(e.clientY),console.log(G),console.log(te);if(console.log(ke.current.style),console.log(Object.assign({},ke.current.style)),console.log(a),console.log(c),console.log(a.replace(/\D/g,"")),console.log(typeof+c.replace(/\D/g,"")),a=+a.replace(/\D/g,""),c=+c.replace(/\D/g,""),console.log(e.clientX),console.log(e.clientY),console.log(t),console.log(n),console.log(ke.current.offsetLeft),console.log(ke.current.offsetTop),console.log(ke.current.offsetTop-e.clientY),console.log(ke.current.offsetLeft-e.clientX),G&&te){var o=G-e.clientX,r=te-e.clientY;console.log(G),console.log(e.clientX),console.log(e.clientY),console.log(te),console.log(r),console.log(ke.current.offsetTop),console.log(ke.current.offsetTop-r);var s=[ke.current.offsetLeft-o,ke.current.offsetTop-r];ke.current.style.top=s[1]+"px",ke.current.style.left=s[0]+"px"}}}}),Object(h.jsx)("div",{id:Ce.a.sliderRight,onClick:function(e){return Qe(0,"right")},children:Object(h.jsx)("i",{class:"fas fa-long-arrow-alt-right"})}),Object(h.jsx)("div",{id:Ce.a.sliderLeft,onClick:function(e){return Qe(0,"left")},children:Object(h.jsx)("i",{class:"fas fa-long-arrow-alt-left"})}),Object(h.jsx)("div",{id:Ce.a.sliderFooterBar,ref:_e,children:"blank"===m.imageText[ue][1]?"":m.imageText[ue][1]})]})}),Object(h.jsxs)("div",{id:Ce.a.articleHeader,children:[Object(h.jsx)("h3",{style:{color:m&&"".concat($[m.category.toLowerCase()])},children:m&&m.subTitle}),Object(h.jsx)("h1",{children:m&&m.title})]}),Object(h.jsxs)("div",{id:Ce.a.articleBody,children:[Object(h.jsx)("div",{id:Ce.a.articleSidebarLeft,ref:De,children:Object(h.jsxs)("div",{id:Ce.a.bundleDiv,children:[Object(h.jsxs)("div",{id:Ce.a.postedData,children:[Object(h.jsx)("div",{id:Ce.a.postedDataOne,children:Object(h.jsx)("i",{class:"fas fa-user",style:{backgroundColor:"rgb(209,213,219)",color:"#fff",padding:"1.2rem",borderRadius:".3rem",fontSize:"1.6rem"}})}),Object(h.jsxs)("div",{id:Ce.a.postedDataTwo,children:[Object(h.jsx)("h3",{children:m&&(m.sponsored?"Sponzorirani \u010dlanak":m.author)||"R. D."}),Object(h.jsx)("p",{children:ae(m&&m.date)})]})]}),Object(h.jsxs)("div",{id:Ce.a.commentsShare,children:[Object(h.jsxs)("div",{id:Ce.a.comments,children:[Object(h.jsx)("h2",{children:m&&"Ne"===m.commentsAllowed?Object(h.jsx)("svg",{class:"h-5 w-5 inline my-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",style:{width:"2rem"},children:Object(h.jsx)("path",{style:{color:"rgb(75,85,99)",fontSize:"1rem"},"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):m&&!m.comments?0:m&&m.comments?Be.current:0}),Object(h.jsx)("p",{children:m&&"Ne"===m.commentsAllowed?"komentari":m&&m.comments&&1===Object.values(m.comments).length?"komentar":"komentara"})]}),Object(h.jsxs)("div",{id:Ce.a.shares,children:[Object(h.jsx)("h2",{children:m?m.shares.constructor===Object?Object.keys(m.shares).length:0:""}),Object(h.jsx)("p",{children:"dijeljenja"})]})]}),Object(h.jsx)("div",{id:Ce.a.shareArticle,children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{onClick:function(){var e=window.location.href,t="https://www.facebook.com/sharer/sharer.phpu=".concat(e);window.open(t,"NewWindow","menubar=no,toolbar=no,status=no,width=570,height=570")},children:Object(h.jsx)("i",{class:"fab fa-facebook"})}),Object(h.jsx)("li",{onClick:function(){var t=encodeURIComponent(m.title),n=window.location.href,a=e.isLoggedIn?e.isLoggedIn:"anonymous",c=m.tags.length?m.tags[0].constructor===Object?m.tags.map((function(e){return e.value})).join(", "):m.tags.join(", "):"",o="https://twitter.com/intent/tweet?url=".concat(n,"&text=").concat(t,"&via=").concat(a,"&hashtags=").concat(c);window.open(o,"NewWindow","menubar=no,toolbar=no,status=no,width=570,height=570"),et()},children:Object(h.jsx)("i",{class:"fab fa-twitter"})}),Object(h.jsx)("li",{children:Object(h.jsx)("i",{class:"far fa-envelope"})})]})})]})}),Object(h.jsxs)("div",{id:Ce.a.articleBodyContent,children:[m&&m.images.length>1?Object(h.jsxs)("div",{id:Ce.a.imageSliderContainer,children:[Object(h.jsx)("div",{id:Ce.a.mainSliderImage,children:Object(h.jsx)("img",{onClick:function(){L((function(e){return!e})),je(0)},src:m.imageText[0][0]})}),Object(h.jsx)("div",{id:Ce.a.sliderImages,children:m.imageText.map((function(e,t){return t<4&&0!==t?Object(h.jsx)("img",{src:e[0],onClick:function(){return We(t)}},Object(A.a)()):4===t&&m.imageText.length-5>0?Object(h.jsxs)("div",{id:Ce.a.clickForMore,children:[Object(h.jsxs)("span",{onClick:function(){return We(t)},children:["+",m.imageText.length-5]}),Object(h.jsx)("img",{src:e[0],onClick:function(){return We(t)}})]},Object(A.a)()):4===t&&Object(h.jsx)("img",{src:e[0],onClick:function(){return We(t)}},Object(A.a)())}))}),Object(h.jsx)("p",{children:m&&("blank"===m.imageText[0][1]?"":m.imageText[0][1])})]}):Object(h.jsxs)("div",{id:Ce.a.imageContainer,children:[Object(h.jsx)("img",{src:m&&m.imageText[0][0]}),Object(h.jsx)("div",{id:Ce.a.captionTxt,children:Object(h.jsx)("p",{children:m&&("blank"===m.imageText[0][1]?"":m.imageText[0][1])})})]}),Object(h.jsx)("div",{id:Ce.a.articleText,children:Te}),Object(h.jsx)("div",{id:Ce.a.tags,children:m&&m.tags&&t.state&&t.state.articleData&&function(){var e=[];return t.state.articleData.tags.forEach((function(t){if(t.value)if(t.value.includes("_")){var n={id:t.id},a=t.value.split("_");n.value=a.join("."),e.push(n)}else e.push(t);else if(t.includes("_")){var c=t.split("_");c=c.join("."),e.push(c)}else e.push(t)})),e}(m.tags).map((function(e){return Object(h.jsx)("span",{children:e.constructor===Object?e.value:e},Object(A.a)())}))}),m&&"Da"===m.commentsAllowed&&Object(h.jsxs)("div",{id:Ce.a.addComment,children:[Object(h.jsx)("h3",{children:"Komentari"}),e.isLoggedIn&&Object(h.jsx)(le,{path:{category:t.state&&t.state.articleData.category,subCategory:t.state&&t.state.articleData.subCategory,id:t.state&&t.state.articleData.id}}),Object(h.jsx)("button",{className:Ce.a.showComments,children:Object(h.jsxs)(o.b,{to:m&&{pathname:"".concat(m.linkPath?m.linkPath:"/".concat(m.category,"/").concat(m.subCategory,"/").concat(Ge(m.title),"/").concat(m.id),"/komentari"),state:{articleData:m}},children:["PRIKA\u017dI SVE KOMENTARE (",m&&!m.comments?0:m&&m.comments?Be.current:0,")"]})})]}),Object(h.jsxs)("div",{id:Ce.a.linkedArticles,children:[fe.length>0&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{id:Ce.a.linkedArticlesHeader,children:[Object(h.jsx)("h3",{children:"Vezani \u010dlanci"}),Object(h.jsx)("i",{class:"fas fa-link"})]}),Object(h.jsx)("div",{id:Ce.a.linkedArticlesBody,style:1===fe.length?{gridTemplateColumns:"33%",justifyContent:"center"}:2===fe.length?{gridTemplateColumns:"repeat(2, minmax(30%, 1fr))"}:null,children:fe.map((function(e,t){return Object(h.jsx)(Se,{data:e,indL:[t,fe.length]},Object(A.a)())}))})]}),Object(h.jsxs)("div",{id:Ce.a.linkedPromo,children:[Object(h.jsxs)("div",{id:Ce.a.linkedPromoHeader,children:[Object(h.jsx)("h3",{children:"Promo"}),Object(h.jsx)("i",{class:"fas fa-mouse-pointer"})]}),Object(h.jsx)("div",{id:Ce.a.linkedPromoBody,children:xe.map((function(e,t){return Object(h.jsx)(Ne,{data:e})}))})]})]})]}),Object(h.jsx)("div",{id:Ce.a.articleSidebarRight,ref:we,children:Object(h.jsx)(Pe,{})})]})]})},Me=function(e){var t=0;console.log(e);for(var n=0;n<e.length;n++)if(e[n].replies&&(t+=e[n].replies.length),n===e.length-1)return t+=e.length,console.log(t),t},He=function(e){var t=0;for(var n in e)e[n].replies&&(t+=Object.keys(e[n].replies).length);return Object.keys(e).length+t},ze=function(e){var t=[];console.log(e);for(var n=0;n<e.length;n++)e[n].replies&&e[n].replies.length>2&&t.push(n);if(t.length)return[].concat(t);console.log(t)},Je=function(){var e=Object(a.useContext)(x),t=Object(i.useLocation)(),n=Object(i.useHistory)(),r=Object(a.useState)([]),s=Object(d.a)(r,2),m=s[0],u=s[1],j=Object(a.useState)(null),b=Object(d.a)(j,2),f=b[0],p=b[1],O=Object(a.useState)(!0),g=Object(d.a)(O,2),v=g[0],k=g[1],y=Object(a.useState)(!1),C=Object(d.a)(y,2),I=C[0],D=C[1],S=Object(a.useState)([]),w=Object(d.a)(S,2),B=w[0],N=w[1],T=Object(a.useState)([]),L=Object(d.a)(T,2),P=L[0],R=L[1],E=Object(a.useState)(null),F=Object(d.a)(E,2),H=F[0],z=F[1],J=Object(a.useRef)(null),U=Object(a.useRef)(void 0),K=Object(a.useRef)(void 0),V=Object(a.useRef)(0),Y=Object(a.useRef)(),Z=Object(a.useRef)();Object(a.useEffect)((function(){function e(){Ee(Y),Ee(Z)}return console.log(""),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),Object(a.useEffect)((function(){if(t.state||console.log(t),t.state&&v){if(console.log(t.state),!J.current){if(console.log(t.state.articleData.comments),t.state.articleData.comments){var e=Object(_.a)(Object.values(t.state.articleData.comments));e.reverse(),u(Object(_.a)(e))}J.current="initialized"}t.state.articleData.comments?V.current=Me(t.state.articleData.comments):k(!1),fetch("https://api.ipify.org/?format=json").then((function(e){return e.json()})).then((function(e){localStorage.setItem("userIp",e.ip),console.log(e)})),("number"===typeof f||Array.isArray(f))&&p(null),window.scrollTo(0,0),console.log(t.state),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(t.state.articleData.category,"/").concat(t.state.articleData.subCategory,"/-").concat(t.state.articleData.id,"/comments.json")).then((function(e){return e.json()})).then((function(e){console.log(e);var a=[];if(e){var c=[];for(var o in e)if(console.log(o),a.push(e[o]),a[a.length-1].id=o,e[o].replies){for(var r in e[o].replies)c.push(e[o].replies[r]),c[c.length-1].id=[o,r];a[a.length-1].replies=Object(_.a)(c),c=[]}console.log(a),a.reverse();var s=Q([].concat(a)),i=ze(s);i&&N(i),console.log(s),u(Object(_.a)(s)),G(s.length),k(!1),V.current=Me(s),n.replace({state:{articleData:Object(l.a)(Object(l.a)({},JSON.parse(JSON.stringify(t.state.articleData))),{},{comments:Object(_.a)(JSON.parse(JSON.stringify(s)))})}}),D(!0)}}))}else if(!t.state){console.log(n.location.pathname);var a=n.location.pathname.split("/");console.log(a);var c={category:a[1],subCategory:a[2],id:a[4]};console.log(c),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(c.category,"/").concat(c.subCategory,"/-").concat(c.id,".json")).then((function(e){return e.json()})).then((function(e){console.log(e);var t=[],a=[];if(e.comments){for(var c in e.comments)if(e.comments[c].replies){for(var o in e.comments[c].replies)a.push(e.comments[c].replies[o]);t.push(e.comments[c]),t[t.length-1].replies=Object(_.a)(a),a=[]}else t.push(e.comments[c]);e.comments=[].concat(t)}var r,s=e.title.split(" "),i=[];s.forEach((function(e){i.push(e.toLowerCase())})),r=(r=i.join("-")).split(",").join("").split(" ").join("-"),e.timeDiff=ae(e.date),e.linkPath="/".concat(e.category,"/").concat(e.subCategory,"/").concat(r,"/").concat(e.id),n.replace({state:{articleData:Object(l.a)({},JSON.parse(JSON.stringify(e)))}})}))}}),[t,v]);var X=function(e,t){if("replies"===t){var n=function(t){return t===e};console.log(B.findIndex(n)),N((function(e){var t=Object(_.a)(e),a=B.findIndex(n);return t.splice(a,1),console.log(t),t.length?t:[]}))}else console.log("check"),R((function(e){var t=Object(_.a)(e);return t.splice(0,1),console.log(t),t.length>0?t:[]}))},G=function(e){var t=e/3,n=[],a=0;if(t>1){t%1===0?t--:t.toFixed();for(var c=0;c<t;c++)a+=3,n.push(a);R([].concat(n)),console.log(n)}},q=function(e){p(e)},Q=function(e){for(var t=[],n=0;n<e.length;n++)e[n].commentLikes&&Object.keys(e[n].commentLikes).length>=5&&(e[n].commentDislikes&&Object.keys(e[n].commentLikes).length>=Object.keys(e[n].commentDislikes).length+5||!e[n].commentDislikes&&Object.keys(e[n].commentLikes).length>=5)&&t.push([n,Object.keys(e[n].commentLikes).length]);if(console.log(t),t.length>0){U.current=[t[0]],K.current=[];for(var a=0,c=[].concat(t),o=0;o<t.length;o++)if(t.length>=2&&(U.current[0][1]<t[o][1]&&(U.current=[t[o]],a=o),o===t.length-1&&(c.splice(a,1),console.log(c),c.length)))for(var r=0;r<c.length;r++)0===r&&(K.current=[c[0]]),K.current[0][1]<c[r][1]&&(K.current=[c[r]]);console.log(U.current),console.log(K.current);var s=Object(_.a)(JSON.parse(JSON.stringify(e))),i=Object(l.a)({},s.slice(U.current[0][0],U.current[0][0]+1)),d=void 0;return s.splice(U.current[0][0],1),s.splice(0,0,i[0]),K.current.length&&(d=K.current[0][0]>U.current[0][0]?s.slice(K.current[0][0],K.current[0][0]+1):s.slice(K.current[0][0]+1,K.current[0][0]+2),console.log(d),s.splice(1,0,d[0]),K.current[0][0]>U.current[0][0]?s.splice(K.current[0][0]+1,1):s.splice(K.current[0][0]+2,1)),console.log(s),s}return e},W=function(e){z(e)};return Object(h.jsxs)(h.Fragment,{children:[H&&Object(h.jsx)(M,{navZ:!0,children:Object(h.jsx)(ke,{closeModal:z,reportData:H})}),Object(h.jsxs)("div",{id:re.a.commentPageContainer,children:[Object(h.jsxs)("div",{id:re.a.commentPageContainerHeader,children:[Object(h.jsxs)("div",{id:re.a.headerBundle,children:[Object(h.jsx)("h3",{style:{color:t.state&&t.state.articleData&&"".concat($[t.state.articleData.category.toLowerCase()])},children:t.state&&t.state.articleData.subTitle}),Object(h.jsx)("h1",{onClick:function(){console.log(t.state.articleData)},children:Object(h.jsx)(o.b,{to:t.state&&{pathname:t.state.articleData.linkPath,state:{articleData:t.state.articleData}},children:t.state&&t.state.articleData.title})})]}),Object(h.jsxs)("div",{id:re.a.headerShares,children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",t.state.articleData.shares.constructor===Object?Object.keys(t.state.articleData.shares).length:0]})]}),Object(h.jsxs)("div",{id:re.a.commentPageContainerBody,children:[Object(h.jsx)("div",{id:re.a.commentSidebarLeft,ref:Y,children:Object(h.jsxs)("div",{id:re.a.bundleDiv,children:[Object(h.jsxs)("div",{id:re.a.postedData,children:[Object(h.jsx)("div",{children:Object(h.jsx)("i",{class:"fas fa-user",style:{backgroundColor:"rgb(209,213,219)",color:"#fff",padding:"1.2rem",borderRadius:".3rem",fontSize:"1.6rem"}})}),Object(h.jsxs)("div",{id:re.a.postedDataTwo,children:[Object(h.jsx)("h3",{children:t.state&&t.state.articleData.author||"R. D."}),Object(h.jsx)("p",{children:ae(t.state&&t.state.articleData.date)})]})]}),Object(h.jsxs)("div",{id:re.a.commentsShare,children:[Object(h.jsxs)("div",{id:re.a.comments,children:[Object(h.jsx)("h2",{children:V.current}),Object(h.jsx)("p",{children:"komentara"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:t.state.articleData.shares.constructor===Object?Object.keys(t.state.articleData.shares).length:0}),Object(h.jsx)("p",{children:"dijeljenja"})]})]}),Object(h.jsx)("div",{id:re.a.shareArticle,children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)("i",{class:"fab fa-facebook"})}),Object(h.jsx)("li",{children:Object(h.jsx)("i",{class:"fab fa-twitter"})}),Object(h.jsx)("li",{children:Object(h.jsx)("i",{class:"far fa-envelope"})})]})})]})}),Object(h.jsxs)("div",{id:re.a.commentBodyContent,children:[Object(h.jsxs)("div",{id:re.a.commentBodyHeader,children:[Object(h.jsxs)("div",{id:re.a.commentBodyHeaderInfo,children:[Object(h.jsxs)("h3",{children:["Komentari (",V.current,")"]}),Object(h.jsx)("div",{id:re.a.povratakNaClanak,children:Object(h.jsxs)(o.b,{to:t.state&&{pathname:t.state.articleData.linkPath,state:{articleData:t.state.articleData}},children:[Object(h.jsx)("i",{class:"far fa-arrow-alt-circle-left"})," Povratak na \u010dlanak"]})})]}),Object(h.jsx)("div",{id:re.a.commentBodyHeaderTypeSignIn,children:e.isLoggedIn?Object(h.jsx)(le,{path:t.state&&{category:t.state.articleData.category,subCategory:t.state.articleData.subCategory,id:t.state.articleData.id},getComments:k}):Object(h.jsx)(o.b,{to:"/login",children:Object(h.jsx)("div",{id:re.a.prijavaKorisnika,children:"Prijava korisnika"})})}),Object(h.jsxs)("div",{id:re.a.commentBodyHeaderAlert,children:[Object(h.jsx)("span",{children:"NAPOMENA:"})," \xa0",Object(h.jsx)("span",{children:"Komentarisanje \u010dlanaka na portalu Klix.ba dozvoljeno je samo registrovanim korisnicima. Molimo korisnike da se suzdr\u017ee od vrije\u0111anja, psovanja i vulgarnog izra\u017eavanja. Komentari odra\u017eavaju stavove isklju\u010divo njihovih autora, koji zbog govora mr\u017enje mogu biti i krivi\u010dno gonjeni. Kao \u010ditatelj prihvatate mogu\u0107nost da me\u0111u komentarima mogu biti prona\u0111eni sadr\u017eaji koji mogu biti u suprotnosti sa va\u0161im vjerskim, moralnim i drugim na\u010delima i uvjerenjima. Svaki korisnik prije pisanja komentara mora se upoznati sa"}),"\xa0",Object(h.jsx)(o.b,{to:{pathname:"/komentari"},target:"_blank",style:t.state&&{color:t.state.articleData&&"".concat($[t.state.articleData.category.toLowerCase()])},children:"Pravilima i uslovima kori\u0161tenja komentara."})]})]}),Object(h.jsx)("div",{id:re.a.commentBody,children:I&&Me(m)===Me(t.state.articleData.comments)&&m.map((function(e,t){return t!==f?Array.isArray(f)?(P.length>0&&t<P[0]||0===P.length)&&Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(je,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,topComment:(U.current&&U.current.length&&0===t||K.current&&K.current.length&&1===t)&&"topComment",negativeComment:e.commentDislikes&&Object.keys(e.commentDislikes).length>=(e.commentLikes?Object.keys(e.commentLikes).length+5:5),date:ae(e.date),handleReply:q,handleReport:W}),e.replies&&e.replies.map((function(n,a){return Object(h.jsxs)(c.a.Fragment,{children:[B.length>0&&void 0!==B.find((function(e){return e===t}))&&a<2&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(je,{commentIndex:[t,a],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,negativeComment:n.commentDislikes&&Object.keys(n.commentDislikes).length>=(n.commentLikes?Object.keys(n.commentLikes).length+5:5),date:ae(n.date),handleReply:q,handleReport:W}),f[1]===a&&f[0]===t?Object(h.jsx)(fe,{commentIndex:[t,a],commentIndexDB:n.id,getComments:k}):null]}),(B.length&&void 0===B.find((function(e){return e===t}))||!B.length)&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(je,{commentIndex:[t,a],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,negativeComment:n.commentDislikes&&Object.keys(n.commentDislikes).length>=(n.commentLikes?Object.keys(n.commentLikes).length+5:5),date:ae(n.date),handleReply:q,handleReport:W}),f[1]===a&&f[0]===t?Object(h.jsx)(fe,{commentIndex:[t,a],commentIndexDB:n.id,getComments:k}):null]}),B.length>0&&B.length&&void 0!==B.find((function(e){return e===t}))&&1===a?Object(h.jsx)(ge,{onClick:function(){return X(t,"replies")},showReply:e.replies.length-2}):null]},Object(A.a)())})),P.length>0&&t===P[0]-1&&Object(h.jsx)(ge,{onClick:function(){return X(t,"showMore")}})]},Object(A.a)()):(P.length>0&&t<P[0]||0===P.length)&&(e.replies?Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(je,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,topComment:(U.current&&U.current.length&&0===t||K.current&&K.current.length&&1===t)&&"topComment",negativeComment:e.commentDislikes&&Object.keys(e.commentDislikes).length>=(e.commentLikes?Object.keys(e.commentLikes).length+5:5),date:ae(e.date),handleReply:q,handleReport:W}),e.replies.map((function(n,a){return Object(h.jsxs)(c.a.Fragment,{children:[B.length>0&&void 0!==B.find((function(e){return e===t}))&&a<2?Object(h.jsx)(je,{commentIndex:[t,a],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,negativeComment:n.commentDislikes&&Object.keys(n.commentDislikes).length>=(n.commentLikes?Object.keys(n.commentLikes).length+5:5),date:ae(n.date),handleReply:q,handleReport:W},Object(A.a)()):null,void 0!==(B.length&&B.find((function(e){return e===t})))&&B.length?null:Object(h.jsx)(je,{commentIndex:[t,a],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,negativeComment:n.commentDislikes&&Object.keys(n.commentDislikes).length>=(n.commentLikes?Object.keys(n.commentLikes).length+5:5),date:ae(n.date),handleReply:q,handleReport:W},Object(A.a)()),B.length>0&&B.length&&void 0!==B.find((function(e){return e===t}))&&1===a?Object(h.jsx)(ge,{onClick:function(){return X(t,"replies")},showReply:e.replies.length-2}):null]},Object(A.a)())})),P.length>0&&t===P[0]-1&&Object(h.jsx)(ge,{onClick:function(){return X(t,"showMore")}})]},Object(A.a)()):Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(je,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,topComment:(U.current&&U.current.length&&0===t||K.current&&K.current.length&&1===t)&&"topComment",negativeComment:e.commentDislikes&&Object.keys(e.commentDislikes).length>=(e.commentLikes?Object.keys(e.commentLikes).length+5:5),date:ae(e.date),handleReply:q,handleReport:W},Object(A.a)()),P.length>0&&t===P[0]-1&&Object(h.jsx)(ge,{onClick:function(){return X(t,"showMore")}})]},Object(A.a)())):e.replies?e.replies?Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(je,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,topComment:(U.current&&U.current.length&&0===t||K.current&&K.current.length&&1===t)&&"topComment",negativeComment:e.commentDislikes&&Object.keys(e.commentDislikes).length>=(e.commentLikes?Object.keys(e.commentLikes).length+5:5),date:ae(e.date),handleReply:q,handleReport:W}),Object(h.jsx)(fe,{commentIndex:t,commentIndexDB:e.id,getComments:k}),e.replies.map((function(n,a){return Object(h.jsxs)(h.Fragment,{children:[B.length>0&&void 0!==B.find((function(e){return e===t}))&&a<2?Object(h.jsx)(je,{commentIndex:[t,a],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,negativeComment:n.commentDislikes&&Object.keys(n.commentDislikes).length>=(n.commentLikes?Object.keys(n.commentLikes).length+5:5),date:ae(n.date),handleReply:q,handleReport:W},Object(A.a)()):null,(void 0===(B.length&&B.find((function(e){return e===t})))||!B.length)&&Object(h.jsx)(je,{commentIndex:[t,a],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,negativeComment:n.commentDislikes&&Object.keys(n.commentDislikes).length>=(n.commentLikes?Object.keys(n.commentLikes).length+5:5),date:ae(n.date),handleReply:q,handleReport:W},Object(A.a)()),B.length>0&&B.length&&void 0!==B.find((function(e){return e===t}))&&1===a?Object(h.jsx)(ge,{onClick:function(){return X(t,"replies")},showReply:e.replies.length-2}):null]})})),P.length>0&&t===P[0]-1&&Object(h.jsx)(ge,{onClick:function(){return X(t,"showMore")}})]},Object(A.a)()):void 0:Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(je,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,topComment:(U.current&&U.current.length&&0===t||K.current&&K.current.length&&1===t)&&"topComment",negativeComment:e.commentDislikes&&Object.keys(e.commentDislikes).length>=(e.commentLikes?Object.keys(e.commentLikes).length+5:5),date:ae(e.date),handleReply:q,handleReport:W}),Object(h.jsx)(fe,{commentIndex:t,commentIndexDB:e.id,getComments:k}),P.length>0&&t===P[0]-1&&Object(h.jsx)(ge,{onClick:function(){return X(t,"showMore")}})]},Object(A.a)())}))})]}),Object(h.jsx)("div",{id:re.a.commentSidebarRight,ref:Z,children:Object(h.jsx)(Pe,{})})]})]})]})},Ue=n(28),Ke=n.n(Ue),Ve=function(e,t){var n=j.ref("dates/2022/3/7");return new Promise((function(a){n.once("value",(function(n){var c=[],o=n.val();for(var r in o)c.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(o[r].path,"/").concat(o[r].id,".json")).then((function(e){return e.json()})));Promise.all(c).then((function(n){return n.sort((function(t,n){return(t[e].constructor===Object?Object.keys(t[e]).length:0)-(n[e].constructor===Object?Object.keys(n[e]).length:0)>0?-1:(t[e].constructor===Object?Object.keys(t[e]).length:0)-(n[e].constructor===Object?Object.keys(n[e]).length:0)<0?1:0})),n.splice(15-t.length),(t=t.concat(n)).sort((function(t,n){return Object.keys(t[e]).length-Object.keys(n[e]).length>0?-1:Object.keys(t[e]).length-Object.keys(n[e]).length<0?1:0})),console.log(t),a(t)}))}))}))},Ye=function(e,t){return new Promise(function(){var n=Object(N.a)(B.a.mark((function n(a){var c,o,r,s,i;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(e),c=j.ref("dates/2022/3/7"),s=[],i="",e[1].length<15&&(o=Ve("visited",e[1]),s.push(o),i="visited"),e[2].length<15&&(r=Ve("shares",e[2]),s.push(r),i=i.concat("shares")),!("po\u010detna"===t&&e[0].length<15)){n.next=9;break}return n.next=9,c.once("value",(function(t){var n=t.val(),a=[],c=Object.keys(n).reverse();c.splice(15-e[0].length),console.log(c);for(var o=0;o<c.length;o++)a.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(n[c[o]].path,"/").concat(n[c[o]].id,".json")).then((function(e){return e.json()})));s.unshift.apply(s,a),console.log(s)}));case 9:Promise.all(s).then((function(t){console.log(t);var n=[];return i.includes("visited")&&!i.includes("shares")||!i.includes("visited")&&i.includes("shares")?(n.push.apply(n,Object(_.a)(t.slice(t.length-1))),t.splice(t.length-1)):i.includes("visited")&&i.includes("shares")&&(n.push.apply(n,Object(_.a)(t.slice(t.length-2,e.length-1))),n.push.apply(n,Object(_.a)(t.slice(t.length-1))),t.splice(t.length-2)),console.log(t),e[0].length<15?n.unshift(Object(_.a)(e[0].concat(t))):n.unshift(e[0]),!i.includes("visited")&&i.includes("shares")?n.splice(1,0,e[1]):i.includes("visited")&&!i.includes("shares")?n.push(e[2]):i.includes("visited")||i.includes("shares")||(n.push(e[1]),n.push(e[2])),console.log(n),a(n)}));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},Ze=function(e){return new Promise(function(){var t=Object(N.a)(B.a.mark((function t(n){var a,c,o,r,s,i,l,d,m,u,b,h,f,p;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e),[],a=j.ref("dates/2022/3/8"),[],c=[],console.log(G.vijesti),"Po\u010detna"!==e)for(o=0;o<G[e.toLowerCase()].length;o++)!function(t){var n=j.ref("articles/".concat(e,"/").concat(G[e.toLowerCase()][t])).orderByKey().limitToLast(15);c.push(n.once("value",(function(e){})))}(o);return r=a.once("value",(function(e){})),console.log(r),console.log(c),s=[],i=[],t.next=14,r.then((function(e){return s[0]=e.val()}));case 14:if(Object.keys(s[0]).length)for(l in s[0])i.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(s[0][l].path,"/").concat(s[0][l].id,".json")).then((function(e){return e.json()})));if("Po\u010detna"!==e){t.next=24;break}return t.next=18,r.then((function(e){return s=e.val()}));case 18:return t.next=20,Promise.all(i);case 20:s=t.sent,console.log(s),t.next=31;break;case 24:return t.next=26,Promise.all([].concat(i,c));case 26:d=t.sent,s[0]=d.slice(0,i.length),d.splice(0,i.length),m=d.reduce((function(e,t,n){var a=[];for(var c in t.val())a.push(t.val()[c]);return[].concat(Object(_.a)(e),a)}),[]),s.push(Object(_.a)(m));case 31:if(s.reverse(),console.log(s),u=[],"Po\u010detna"===e?u.push(s):"Po\u010detna"!==e&&(s[0].sort((function(e,t){return new Date(e.date)-new Date(t.date)>0?-1:new Date(e.date)-t.date<0?1:0})),s[0].length>15&&s[0].splice(15),u.push(s[0]),u.push(s[1]),console.log(u)),console.log(u),b=JSON.parse(JSON.stringify("Po\u010detna"===e?s:s[1])),h=[],f=[],console.log(b),b.forEach((function(e){e.visited&&e.visited.constructor===Object&&Object.keys(e.visited).length>=10&&h.push(e),e.shares.constructor===Object&&Object.keys(e.shares).length>=10&&f.push(e)})),h.sort((function(e,t){return Object.keys(e.visited).length-Object.keys(t.visited).length>0?-1:Object.keys(e.visited).length-Object.keys(t.visited).length<0?1:0})),f.sort((function(e,t){return(e.shares.constructor===Object?Object.keys(e.shares).length:0)-(t.shares.constructor===Object?Object.keys(t.shares).length:0)>0?-1:(e.shares.constructor===Object?Object.keys(e.shares).length:0)-(t.shares.constructor===Object?Object.keys(t.shares).length:0)<0?1:0})),"Po\u010detna"!==e&&u.pop(),u.push(h),u.push(f),console.log(u),u[0].length>15&&u[0].splice(15),u[1].length>15&&u[1].splice(15),u[2].length>15&&u[2].splice(15),u[1].splice(2),15!==u[0].length||15!==u[1].length||15!==u[2].length){t.next=55;break}n(u),t.next=60;break;case 55:return t.next=57,Ye(u,"Po\u010detna"===e?"Po\u010detna":"other").then((function(e){return e}));case 57:p=t.sent,console.log(p),n(p);case 60:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},Xe=function(e){var t=e.route,n=Object(a.useState)([{first:[],second:[],third:[],current:"first"}]),c=Object(d.a)(n,2),r=c[0],s=c[1];Object(a.useEffect)(Object(N.a)(B.a.mark((function e(){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ze(t),e.next=3,n.then((function(e){return e}));case 3:n=e.sent,console.log(n),s([{first:Object(_.a)(n[0]),second:Object(_.a)(n[1]),third:Object(_.a)(n[2]),current:"first"}]);case 6:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){r[0].first.length&&console.log(r),console.log(r)}),[r]);var i=function(e){switch(e.target.textContent){case"Najnovije":s((function(e){return[Object(l.a)(Object(l.a)({},e[0]),{},{current:"first"})]}));break;case"Naj\u010ditanije":s((function(e){return[Object(l.a)(Object(l.a)({},e[0]),{},{current:"second"})]}));break;case"Preporuke":s((function(e){return[Object(l.a)(Object(l.a)({},e[0]),{},{current:"third"})]}))}};return Object(h.jsxs)("div",{id:Ke.a.sideBar,children:[Object(h.jsxs)("div",{id:Ke.a.sideBarControls,children:[Object(h.jsx)("div",{className:"".concat(Ke.a.sideBarControlItem).concat("first"===r[0].current?" "+Ke.a.itemActive:""),onClick:i,children:"Najnovije"}),Object(h.jsx)("div",{className:"".concat(Ke.a.sideBarControlItem).concat("second"===r[0].current?" "+Ke.a.itemActive:""),onClick:i,children:"Naj\u010ditanije"}),Object(h.jsx)("div",{className:"".concat(Ke.a.sideBarControlItem).concat("third"===r[0].current?" "+Ke.a.itemActive:""),onClick:i,children:"Preporuke"})]}),Object(h.jsx)("div",{id:Ke.a.sideBarContent,children:r[0][r[0].current].length?r[0][r[0].current].map((function(e){return Object(h.jsxs)("div",{className:Ke.a.sideBarItem,children:[Object(h.jsx)("h3",{style:{color:"".concat($[e.category.toLowerCase()])},children:e.subTitle}),Object(h.jsx)("p",{children:Object(h.jsx)(o.b,{to:{pathname:encodeURI("/".concat(e.category,"/").concat(e.subCategory,"/").concat(Ge(e.title),"/").concat(e.id)),state:{articleData:e}},children:e.title})}),Object(h.jsxs)("div",{className:Ke.a.sideBarItemBundle,children:[Object(h.jsx)("span",{children:ae(e.date)}),Object(h.jsxs)("div",{className:Ke.a.sideBarItemBundleRight,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comments"}),Le(e)]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor===Object?Object.keys(e.shares).length:0]})]})]})]},Object(A.a)())})):null})]})},Ge=function(e){var t,n=e.split(" "),a=[];return console.log(n),n.forEach((function(e){a.push(e.toLowerCase())})),t=(t=a.join("-")).split(",").join("").split(" ").join("-"),console.log(a),t},qe=function(e){var t=e.route,n=Object(a.useState)([]),c=Object(d.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){j.ref("viewContent/Glavni sadr\u017eaj/".concat(t)).get().then((function(e){e.exists()&&function(){var t=e.val();console.log(t);var n=[];for(var a in t)t[a].forEach((function(e){n.push("".concat(e[1],"/-").concat(e[0]))}));console.log(n);for(var c=[],o=[],r=0;r<n.length;r++)o.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(n[r],".json")).then((function(e){return e.json()})));Promise.all(o).then((function(e){console.log(e);for(var t=0;t<e.length;t++){for(var a in c.push(JSON.parse(JSON.stringify(e[t]))),te)if(a===e[t].category.toLowerCase()&&c[t]){c[t].subTitleClr=te[a];var o=Ge(e[t].title);c[t].linkPath="/".concat(e[t].category,"/").concat(e[t].subCategory,"/").concat(o,"/").concat(e[t].id)}if(c[t]&&(c[t].timeDiff=ae(e[t].date),c[t].comments&&c[t].comments.constructor===Object)){var r=[],i=[];for(var l in c[t].comments)if(c[t].comments[l].replies){for(var d in c[t].comments[l].replies)i.push(c[t].comments[l].replies[d]);r.push(c[t].comments[l]),r[r.length-1].replies=Object(_.a)(i),i=[]}else r.push(c[t].comments[l]);c[t].comments=[].concat(r),console.log(r)}console.log(c[t]),t===n.length-1&&(console.log(c),s([].concat(c)))}}))}()}))}),[]),Object(a.useEffect)((function(){console.log(r)}),[r]),Object(h.jsxs)("div",{id:I.a.homeMain,children:[Object(h.jsx)("div",{id:I.a.main,children:r.length>1&&r.map((function(e,t){return 1!==t?Object(h.jsxs)("div",{className:I.a.mainBox,children:[Object(h.jsx)("div",{className:I.a.mainBoxImg,children:Object(h.jsxs)(o.b,{to:{pathname:encodeURI(e.linkPath),state:{articleData:e}},children:[Object(h.jsx)("img",{src:e.imageText[0][0],alt:""}),e.images.length>1&&Object(h.jsx)("i",{class:"far fa-images"})]})}),Object(h.jsxs)("div",{className:I.a.mainBoxHeader,children:[Object(h.jsx)("h3",{style:{color:e.subTitleClr},children:e.subTitle}),Object(h.jsx)("h3",{children:Object(h.jsx)(o.b,{to:{pathname:encodeURI(e.linkPath),state:{articleData:e}},children:e.title})})]}),Object(h.jsxs)("div",{className:I.a.mainBoxFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:I.a.mainBoxFooterBundle,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comments"}),e.comments?Me(e.comments):0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",1===e.shares.length&&""===e.shares[0]?0:Object.keys(e.shares).length]})]})]})]},Object(A.a)()):Object(h.jsxs)("div",{className:I.a.mainBoxBig,children:[Object(h.jsx)("div",{className:I.a.mainBoxImg,children:Object(h.jsxs)(o.b,{to:{pathname:encodeURI(e.linkPath),state:{articleData:e}},children:[Object(h.jsx)("img",{src:e.imageText[0][0],alt:""}),e.images.length>1&&Object(h.jsx)("i",{class:"far fa-images"})]})}),Object(h.jsxs)("div",{className:I.a.mainBoxHeader,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:Object(h.jsx)(o.b,{to:{pathname:encodeURI(e.linkPath),state:{articleData:e}},children:e.title})})]}),Object(h.jsxs)("div",{className:I.a.mainBoxFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:I.a.mainBoxFooterBundle,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comments"}),e.comments?Me(e.comments):0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",1===e.shares.length&&""===e.shares[0]?0:Object.keys(e.shares).length]})]})]})]},Object(A.a)())}))}),Object(h.jsx)(Xe,{route:t})]})},Qe=n(14),We=n.n(Qe),$e=function(e){var t=e.route,n=Object(a.useState)([]),c=Object(d.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)([]),m=Object(d.a)(i,2),u=m[0],b=m[1];return Object(a.useEffect)((function(){"Po\u010detna"===t&&j.ref("articles/Promo").once("value",(function(e){console.log(e.val());var t=e.val(),n=[];for(var a in t)n=n.concat(Object.values(t[a]).reverse().slice(0,20));n.sort((function(e,t){return new Date(e.date)-new Date(t.date)>0?-1:new Date(e.date)-new Date(t.date)<0?1:0})),n.splice(20),b(n),console.log(n)}));fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/viewContent/Sporedni sadr\u017eaj/".concat(t,".json")).then((function(e){return e.json()})).then((function(e){console.log(e);var n=[],a={};for(var c in e)"Magazin"===t&&"Film"===c?a["Film/TV"]=Object.values(e[c].TV)[0]:a[c]=Object.values(e[c])[0];n.push(Object(l.a)({},a)),console.log(n);var o=[];for(var r in n[0])n[0][r].forEach((function(e){o.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e[1],"/-").concat(e[0],".json")).then((function(e){return e.json()})))}));Promise.all(o).then((function(e){console.log(e);var a=[],c=[],o=0;for(var r in n[0])a.push({category:r,data:e.slice(o,o+n[0][r].length)}),o+=n[0][r].length;G[t.toLowerCase()].forEach((function(e){a.forEach((function(t){t.category===e&&c.push(t)}))})),console.log(c),s(c)}))}))}),[]),Object(a.useEffect)((function(){console.log(r)}),[r]),Object(h.jsxs)(h.Fragment,{children:[r.length?r.map((function(e){return Object(h.jsxs)("div",{id:We.a.sub,children:[Object(h.jsxs)("div",{id:We.a.subBodyHeader,children:[Object(h.jsx)("span",{style:{backgroundColor:"".concat($["Po\u010detna"!==t?t.toLowerCase():e.category.toLowerCase()])}}),Object(h.jsx)("h3",{children:e.category})]}),Object(h.jsxs)("div",{id:We.a.subBody,style:4===e.data.length?{gridTemplateColumns:"1fr"}:null,children:[Object(h.jsx)("div",{id:We.a.subBodyLeft,children:e.data.map((function(n,a){if(a<4)return Object(h.jsxs)("div",{className:We.a.subBodyItem,children:[Object(h.jsx)("div",{className:"".concat(We.a.itemImg," ").concat(4===e.data.length?We.a.itemImgFour:null),children:Object(h.jsxs)(o.b,{to:{pathname:encodeURI("/".concat(n.category,"/").concat(n.subCategory,"/").concat(Ge(n.title),"/").concat(n.id)),state:{articleData:n}},children:[Object(h.jsx)("img",{src:n.imageText[0][0]}),n.images.length>1&&Object(h.jsx)("i",{class:"far fa-images"})]})}),Object(h.jsxs)("div",{className:We.a.itemText,children:[Object(h.jsx)("h3",{style:{color:te["Po\u010detna"!==t?t.toLowerCase():e.category.toLowerCase()]},children:n.subTitle}),Object(h.jsx)("h3",{children:Object(h.jsx)(o.b,{to:{pathname:encodeURI("/".concat(n.category,"/").concat(n.subCategory,"/").concat(Ge(n.title),"/").concat(n.id)),state:{articleData:n}},children:n.title})})]}),Object(h.jsxs)("div",{className:We.a.itemBundle,children:[Object(h.jsx)("span",{children:ae(n.date)}),Object(h.jsxs)("div",{className:We.a.itemBundleR,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comments"}),n.comments?He(n.comments):0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"}),n.shares.constructor===Object?Object.keys(n.shares).length:0]})]})]})]},Object(A.a)())}))}),e.data.length>4?Object(h.jsx)("div",{className:We.a.subBodyItemsBundle,children:e.data.map((function(t,n){if(n>=4)return Object(h.jsxs)("div",{className:We.a.subBodyBundleItem,children:[Object(h.jsxs)("div",{className:We.a.itemText,children:[Object(h.jsx)("h3",{style:{color:te[e.category.toLowerCase()]},children:t.subTitle}),Object(h.jsx)("h3",{children:Object(h.jsx)(o.b,{to:{pathname:encodeURI("/".concat(t.category,"/").concat(t.subCategory,"/").concat(Ge(t.title),"/").concat(t.id)),state:{articleData:t}},children:t.title})})]}),Object(h.jsxs)("div",{className:We.a.itemBundle,children:[Object(h.jsx)("span",{children:ae(t.date)}),Object(h.jsxs)("div",{className:We.a.itemBundleRight,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comments"}),t.comments?He(t.comments):0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"}),t.shares.constructor===Object?Object.keys(t.shares).length:0]})]})]})]},Object(A.a)())}))}):null]})]},Object(A.a)())})):null,u.length?Object(h.jsxs)("div",{id:We.a.promoCnt,children:[Object(h.jsxs)("div",{id:We.a.promoHeader,children:[Object(h.jsx)("span",{}),Object(h.jsx)("h3",{children:"Promo"})]}),Object(h.jsx)("div",{id:We.a.promoBody,children:u.map((function(e,t){return Object(h.jsxs)("div",{className:We.a.subBodyItem,children:[t<4?Object(h.jsx)("div",{className:"".concat(We.a.itemImg," ").concat(We.a.itemImgFour),children:Object(h.jsxs)(o.b,{to:{pathname:encodeURI("/".concat(e.category,"/").concat(e.subCategory,"/").concat(Ge(e.title),"/").concat(e.id)),state:{articleData:e}},children:[Object(h.jsx)("img",{src:e.imageText[0][0]}),e.images.length>1&&Object(h.jsx)("i",{class:"far fa-images"})]})}):null,Object(h.jsxs)("div",{className:We.a.itemText,children:[Object(h.jsx)("h3",{style:{color:te[e.category.toLowerCase()]},children:e.subTitle}),Object(h.jsx)("h3",{children:Object(h.jsx)(o.b,{to:{pathname:encodeURI("/".concat(e.category,"/").concat(e.subCategory,"/").concat(Ge(e.title),"/").concat(e.id)),state:{articleData:e}},children:e.title})})]}),Object(h.jsxs)("div",{className:We.a.itemBundle,children:[Object(h.jsx)("span",{children:ae(e.date)}),Object(h.jsxs)("div",{className:We.a.itemBundleR,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comments"}),e.comments?He(e.comments):0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"}),e.shares.constructor===Object?Object.keys(e.shares).length:0]})]})]})]},Object(A.a)())}))})]}):null]})},et=function(e){var t=e.route;return Object(a.useEffect)((function(){window.scrollTo(0,0)})),Object(h.jsxs)("div",{children:[Object(h.jsx)(qe,{route:t}),Object(h.jsx)($e,{route:t})]},Object(A.a)())},tt=n(31),nt=n.n(tt),at=function(){window.location.reload()},ct=function(e){return Object(a.useEffect)((function(){console.log(e)}),[]),Object(h.jsxs)("div",{className:nt.a.commentContainer,children:[Object(h.jsxs)("div",{className:nt.a.commentHeader,children:[Object(h.jsx)("div",{className:nt.a.commentHeaderFirst,children:Object(h.jsx)("i",{class:"fas fa-user",style:{backgroundColor:"#".concat(e.commentData.avatarColor),color:"#fff",padding:"1.5rem",borderRadius:".3rem"}})}),Object(h.jsxs)("div",{className:nt.a.commentHeaderSecond,children:[Object(h.jsx)("h4",{onClick:at,children:e.commentData.userName}),Object(h.jsx)("p",{children:Object(h.jsx)(o.b,{to:{pathname:"/komentar/".concat(e.commentData.commentId),state:{articleLink:e.commentData.articlePath,commentId:e.commentData.commentId,parentCommentId:e.commentData.parentCommentId},search:"?".concat(JSON.stringify({articleLink:e.commentData.articlePath,commentId:e.commentData.commentId,parentCommentId:e.commentData.parentCommentId}))},children:"prije ".concat(ae(e.commentData.date))})})]})]}),Object(h.jsx)("div",{className:nt.a.commentBody,children:Object(h.jsx)("p",{children:e.commentData.comment})}),Object(h.jsxs)("div",{className:nt.a.commentFooter,children:[Object(h.jsxs)("div",{className:nt.a.commentFooterF,children:[Object(h.jsxs)("span",{className:nt.a.like,children:[Object(h.jsx)("i",{class:"fas fa-long-arrow-alt-up"})," ",e.commentData.commentLikes?Object.keys(e.commentData.commentLikes).length:0]}),Object(h.jsxs)("span",{className:nt.a.dislike,children:[Object(h.jsx)("i",{class:"fas fa-long-arrow-alt-down"})," ",e.commentData.commentDislikes?Object.keys(e.commentData.commentDislikes).length:0]})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("span",{className:nt.a.report,onClick:function(){return e.handleReport({commentId:e.commentData.commentId,user:e.commentData.userName,comment:e.commentData.comment,search:"?".concat(JSON.stringify({comLink:"".concat(e.commentData.articlePath,"/comments/").concat(e.commentData.parentCommentId?e.commentData.parentCommentId:e.commentData.commentId).concat(e.commentData.parentCommentId?"/replies/"+e.commentData.commentId:""),commentId:e.commentData.commentId,parentCommentId:e.commentData.parentCommentId?e.commentData.parentCommentId:void 0}))})},children:[Object(h.jsx)("i",{class:"far fa-flag"})," ",Object(h.jsx)("p",{children:"Prijavi"})]}),Object(h.jsxs)("span",{className:nt.a.reply,children:[Object(h.jsx)("i",{class:"fas fa-pen"}),Object(h.jsx)("p",{children:"Odgovori"})]})]})]})]})},ot=n(32),rt=n.n(ot),st=function(){var e=Object(a.useState)({}),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useContext)(x),s=Object(a.useState)(!1),i=Object(d.a)(s,2),m=i[0],u=i[1],b=Object(a.useState)(!0),f=Object(d.a)(b,2),p=f[0],O=f[1],g=Object(a.useState)(!1),v=Object(d.a)(g,2),k=v[0],y=v[1];r.user;Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(a.useEffect)((function(){p&&C()}),[p]),Object(a.useEffect)((function(){if(console.log(Object.assign({},n.comments)),n.comments&&p){console.log(n.comments);var e=[],t=[],a={},o=Object.keys(Object.assign({},n.comments)).length-1;for(var r in console.log(o),n.comments){var s=Object.values(n.comments[r])[0].articlePath,i=Object.values(n.comments[r])[0].commentId,d=Object.values(n.comments[r])[0].parentCommentId;s&&i&&(t.push(r),a[r]=Object.values(n.comments[r])[0],e.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(s,"/comments/").concat(d?"/"+d:i).concat(d?"/replies/"+i:"",".json")).then((function(e){return e.json()}))))}Promise.all(e).then((function(e){console.log(e),console.log(t),console.log(a),O(!1),c((function(c){var r=Object(l.a)({},c),s=[t[0],t[t.length-1]];console.log(s),console.log(n.comLength-1-o-2),console.log(n.comLength-1-o);for(var i=0,d=+s[0];d<=+s[1];d++)r.comments[d]=Object(l.a)({},e[i]),r.comments[d]=Object(l.a)(Object(l.a)({},r.comments[d]),a[d]),i++;return console.log(r.comments),console.log(r),r})),n.comLength-1-o-3>0||n.comLength-1-o>0?u(!0):u(!1)}))}}),[n]);var C=function(){var e=JSON.parse(localStorage.getItem("userObj"));e&&!Object.keys(n).length&&c(Object(l.a)({},e));var t=j.ref("users").child("".concat(e.uId)).child("comments");t.child("comLength").once("value",(function(e){var a=e.val(),o=n.comments?n.comments.length-1:0,r=!1;a-1-o-3<0&&(r=!0),t.orderByKey().startAt("".concat(r?0:o?a-1-o-3:a-1-2)).endAt("".concat(o?a-1-o-1:a-1)).once("value",(function(e){console.log(e.val());var t=e.val();if(t){var n=t.constructor===Array?t.filter((function(e){return void 0!==e&&null!==e})).reverse():Object.values(t).reverse();console.log(n),c((function(e){var t=Object(l.a)({},JSON.parse(JSON.stringify(e)));if(t.comments){var c=Object(_.a)(t.comments);t.comments=[].concat(Object(_.a)(c),Object(_.a)(n))}else t.comments=Object(_.a)(n);return t.comLength||(t.comLength=a),console.log(t),t}))}}))}))},I=function(){O(!0)},D=function(e){console.log(e),y(e)};return Object(h.jsxs)(h.Fragment,{children:[k&&Object(h.jsx)(M,{navZ:!0,children:Object(h.jsx)(ke,{closeModal:y,reportData:k})}),Object(h.jsxs)("div",{id:rt.a.userInfoContainer,children:[Object(h.jsxs)("div",{id:rt.a.userInfo,children:[Object(h.jsxs)("div",{id:rt.a.userInfoF,style:{backgroundColor:"#".concat(r.user.avatarColor)},children:[Object(h.jsx)("i",{class:"fas fa-user",style:{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"#fff",padding:"1rem",borderRadius:".5rem",fontSize:"1.3rem"}}),Object(h.jsx)("h1",{children:n.displayName})," (",Object(h.jsx)(o.b,{to:"/mojprofil",children:"uredi profil"})," |",Object(h.jsx)(o.b,{onClick:function(){r.logout()},to:"/",children:"odjavi se"}),")"]}),Object(h.jsxs)("div",{id:rt.a.userData,children:[Object(h.jsxs)("div",{className:rt.a.userDataItem,children:[Object(h.jsx)("h3",{children:"Spol"}),Object(h.jsx)("p",{children:n.gender})]}),Object(h.jsxs)("div",{className:rt.a.userDataItem,children:[Object(h.jsx)("h3",{children:"Boja avatara"}),Object(h.jsx)("p",{children:n.avatarColor})]}),Object(h.jsxs)("div",{className:rt.a.userDataItem,children:[Object(h.jsx)("h3",{children:"Banovan"}),Object(h.jsx)("p",{children:n.banned})]}),Object(h.jsxs)("div",{className:rt.a.userDataItem,children:[Object(h.jsx)("h3",{children:"Registrovan"}),Object(h.jsx)("p",{children:n.registered})]}),Object(h.jsxs)("div",{className:rt.a.userDataItem,children:[Object(h.jsx)("h3",{children:"Komentari"}),Object(h.jsx)("p",{children:n.comLength})]})]})]}),Object(h.jsx)("div",{id:rt.a.commentContainer,children:Object(h.jsxs)("div",{id:rt.a.comments,children:[Object(h.jsx)("h3",{children:"Komentari korisnika"}),Object(h.jsxs)("div",{children:[n.comments&&!p&&n.comments.map((function(e,t){return Object(h.jsx)(ct,{commentData:e,index:t,handleReport:D},Object(A.a)())})),n.comments&&p&&n.comments.map((function(e,t){return e.avatarColor?Object(h.jsx)(ct,{commentData:e,index:t,handleReport:D},Object(A.a)()):null})),m&&p?Object(h.jsx)(ge,{loading:p,onClick:I}):null,m&&!p?Object(h.jsx)(ge,{loading:p,onClick:I}):null]})]})})]})]})},it=n(62),lt=n.n(it),dt=n(33),mt=n.n(dt),ut=new m.a.auth.GoogleAuthProvider,jt=new m.a.auth.FacebookAuthProvider;ut.addScope("https://www.googleapis.com/auth/contacts.readonly"),jt.addScope("user_birthday");var bt=function(){var e=Object(a.useContext)(x),t=Object(a.useState)(),c=Object(d.a)(t,2),r=(c[0],c[1],Object(a.useState)(null)),s=Object(d.a)(r,2),l=s[0],u=s[1],j=Object(a.useState)(!1),f=Object(d.a)(j,2),p=(f[0],f[1],Object(i.useHistory)()),O=Object(a.useRef)(),g=Object(a.useRef)(),v=Object(a.useRef)(),k=b.currentUser,y=function(){var t=Object(N.a)(B.a.mark((function t(n){var a,c,o,r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat("AIzaSyDDpLMfCuKs4jQJwf_5xsNQ5VuSBPZtIDk"),console.log(O.current.value),o=void 0,O.current.value.includes("@")){t.next=15;break}return t.next=7,fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/userNames/".concat(O.current.value,".json"));case 7:return r=t.sent,t.next=10,r.json();case 10:if(o=t.sent,console.log(o),o){t.next=15;break}return u("Korisnicko ime ne postoji."),t.abrupt("return");case 15:return t.next=17,fetch(a,{method:"POST",body:JSON.stringify({email:o||O.current.value,password:g.current.value,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(t){t&&(v.current.checked?(m.a.auth().setPersistence(m.a.auth.Auth.Persistence.LOCAL),localStorage.setItem("rememberMe",!0)):v.current.checked||m.a.auth().setPersistence(m.a.auth.Auth.Persistence.SESSION),c=new Date((new Date).getTime()+1e3*+t.expiresIn),b.onAuthStateChanged((function(n){if(n){(new Date).toJSON().slice(0,10).split("-").reverse().join(".");e.signUp(n.uid),v.current.checked||e.login(t.idToken,c.toISOString()),console.log(t),p.push("/")}})))})).catch((function(e){console.log(e)}));case 17:b.signInWithEmailAndPassword(o||O.current.value,g.current.value).then((function(e){e.user.providerData[0].uid.slice(0,10);console.log(e.user),console.log(e.user.refreshToken)})).catch((function(e){console.log(e),e.code.includes("user-not-found")?u("Email adresa ne odgovara nijednom profilu."):e.code.includes("password")?u("Lozinka je neispravna."):e.code.includes("too-many-requests")&&u("Previse puta ste unijeli pogresne podatke, tako da pristup ovom profilu je privremeno zabranjen, molimo vas pokusajte kasnije, ili resetujte lozinku.")}));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){k&&console.log(k)}),[k]);var _=function(t){t="fb"===t?jt:ut,v.current.checked?v.current.checked&&(m.a.auth().setPersistence(m.a.auth.Auth.Persistence.LOCAL),localStorage.setItem("rememberMe",!0)):m.a.auth().setPersistence(m.a.auth.Auth.Persistence.SESSION),b.signInWithPopup(t).then((function(t){var n=t.credential;console.log(n);var a=n.signInMethod.includes("google")?"gooUser":"fbUser";b.onAuthStateChanged((function(t){if(t){console.log(t),a=a.concat(t.providerData[0].uid.slice(0,10));var n=(new Date).toJSON().slice(0,10).split("-").reverse().join(".");e.signUp(t.uid,a,n);var c=new Date((new Date).getTime()+36e5);localStorage.getItem("rememberMe")||e.login(t.refreshToken,c.toISOString()),p.push("/")}})),console.log(k)}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Prijava korisnika"}),Object(h.jsxs)("p",{children:["Na portal se mo\u017ee\u0161 prijaviti ili registrovati putem svog Facebook ",Object(h.jsx)("br",{}),"ili Google ra\u010duna."]}),Object(h.jsxs)("form",{id:mt.a.loginForm,onSubmit:y,children:[l&&Object(h.jsx)("div",{id:mt.a.error,children:Object(h.jsx)("h3",{children:l})}),Object(h.jsxs)("div",{id:mt.a.fbgoo,children:[Object(h.jsx)("div",{id:mt.a.fb,onClick:function(){return _("fb")},children:Object(h.jsx)("i",{class:"fab fa-facebook"})}),Object(h.jsx)("div",{id:mt.a.goo,onClick:function(){return _("goo")},children:Object(h.jsx)("img",{src:n(104).default})})]}),Object(h.jsxs)("div",{id:mt.a.nastavite,children:[Object(h.jsx)("span",{}),"ili nastavite sa",Object(h.jsx)("span",{})]}),Object(h.jsxs)("div",{id:mt.a.username,children:[Object(h.jsx)("label",{htmlFor:"username",children:"Korisni\u010dko ime ili e-mail adresa"}),Object(h.jsx)("input",{ref:O,type:"text",required:!0,id:"username"})]}),Object(h.jsxs)("div",{id:mt.a.password,children:[Object(h.jsx)("label",{htmlFor:"password",children:"Lozinka"}),Object(h.jsx)("input",{ref:g,type:"password",id:"password"})]}),Object(h.jsxs)("div",{id:mt.a.remember,children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox",ref:v}),Object(h.jsx)("span",{className:mt.a.checkmark}),"Zapamti me"]}),Object(h.jsx)(o.b,{to:"/resetpass",children:"Zaboravljena lozinka?"})]}),Object(h.jsx)("button",{type:"submit",children:"Prijavi se"})]})]})},ht=function(e){var t=Object(a.useContext)(x);b.currentUser,Object(i.useHistory)();return Object(a.useEffect)((function(){}),[]),Object(h.jsx)("div",{id:t.isLoggedIn?lt.a.borderTwo:lt.a.border,children:e.children})},ft=function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{}),Object(h.jsx)(ht,{children:e.children})]})},pt=n(54),Ot=n.n(pt),gt=function(){return Object(h.jsxs)("div",{id:Ot.a.footer,children:[Object(h.jsx)("nav",{children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"Po\u010detna"}),Object(h.jsx)("li",{children:"Impressum"}),Object(h.jsx)("li",{children:"Komentari"}),Object(h.jsx)("li",{children:"Kontakt"}),Object(h.jsx)("li",{children:"Marketing"}),Object(h.jsx)("li",{children:"O nama"}),Object(h.jsx)("li",{children:"Privatnost"}),Object(h.jsx)("li",{children:"RSS"})]})}),Object(h.jsxs)("div",{id:Ot.a.followUs,children:["Pratite nas ",Object(h.jsx)("i",{class:"fab fa-facebook"}),Object(h.jsx)("i",{class:"fab fa-twitter"}),Object(h.jsx)("i",{class:"fab fa-instagram"}),Object(h.jsx)("i",{class:"fab fa-youtube"}),Object(h.jsx)("i",{class:"fab fa-linkedin"})]}),Object(h.jsx)("div",{id:Ot.a.cpr,children:"Copyright 2000-2021 InvolSoft d.o.o. Sarajevo. ISSN 2143-3271. Sva prava zadr\u017eana. Zabranjeno preuzimanje sadr\u017eaja bez dozvole izdava\u010da."})]})},xt=n(12),vt=n.n(xt),kt=function(){var e=Object(a.useContext)(x),t=Object(a.useState)({username:"",password:"",success:""}),n=Object(d.a)(t,2),c=n[0],o=n[1],r=Object(a.useRef)(),s=Object(a.useRef)(),i=Object(a.useRef)(),m=Object(a.useRef)(),u=Object(a.useRef)(),f=Object(a.useState)({username:"",avatarColor:"",password:"",gender:""}),p=Object(d.a)(f,2);p[0],p[1];Object(a.useEffect)((function(){for(var t=e.user.avatarColor,n=0;n<s.current.children.length;n++){var a=window.getComputedStyle(s.current.children[n]).getPropertyValue("background-color").match(/(\d+)/g);(a=O(+a[0],+a[1],+a[2]))===t&&s.current.children[n].children[0].click()}"\u017denski"===e.user.gender&&u.current.children[1].children[0].click()}),[]);var O=function(e,t,n){return[e,t,n].map((function(e){return e.toString(16).padStart(2,"0")})).join("")},g=function(){var t=Object(N.a)(B.a.mark((function t(){var n,a,c,d,h,f,p,g,x,k,y,_,C;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o((function(e){return Object(l.a)(Object(l.a)({},e),{},{success:""})})),n=r.current.value.trim().length>=4&&r.current.value.trim().length<=20?r.current.value.trim():"",a=r.current.value.trim().length>=4&&r.current.value.trim().length<=20,console.log(a),console.log(n),i.current.value.trim().length>0&&(c=/\d/.test(i.current.value.trim())),d=!0,g=0;g<s.current.children.length;g++)s.current.children[g].children[0].checked&&(h=(h=window.getComputedStyle(s.current.children[g]).getPropertyValue("background-color")).match(/(\d+)/g),h=O(+h[0],+h[1],+h[2]));for(x=0;x<u.current.children.length;x++)u.current.children[x].children[0].checked&&(f=u.current.children[x].children[1].textContent);if(i.current.value.trim().length>=6&&m.current.value.trim()===i.current.value.trim()&&c?(p=i.current.value,o((function(e){return Object(l.a)(Object(l.a)({},e),{},{password:""})}))):i.current.value.trim().length>=6&&m.current.value.trim()!==i.current.value.trim()&&m.current.value.trim().length>0&&c?(d=!1,o((function(e){return Object(l.a)(Object(l.a)({},e),{},{password:"Lozinke se ne podudaraju."})}))):i.current.value.trim().length>=6&&0===m.current.value.trim().length&&c?(d=!1,o((function(e){return Object(l.a)(Object(l.a)({},e),{},{password:"Ponovite lozinku."})}))):i.current.value.trim().length<6&&i.current.value.trim().length>0&&c?(d=!1,o((function(e){return Object(l.a)(Object(l.a)({},e),{},{password:"Lozinka mora imati minimalno 6 karaktera."})}))):i.current.value.trim().length<6&&i.current.value.trim().length>0&&!c?(d=!1,o((function(e){return Object(l.a)(Object(l.a)({},e),{},{password:"Lozinka mora imati minimalno 6 karaktera i barem jedan broj"})}))):i.current.value.trim().length>=6&&!c?(d=!1,o((function(e){return Object(l.a)(Object(l.a)({},e),{},{password:"Lozinka mora imati minimalno jedan broj"})}))):0===i.current.value.trim().length&&0===m.current.value.trim().length&&o((function(e){return Object(l.a)(Object(l.a)({},e),{},{password:""})})),console.log(h),console.log(n||e.user.displayName),n.includes(" ")&&a?(d=!1,o((function(e){return Object(l.a)(Object(l.a)({},e),{},{username:"Korisni\u010dko ime ne mo\u017ee imati razmak, koristite _ ili -"})}))):n.includes(" ")&&!a?(d=!1,o((function(e){return Object(l.a)(Object(l.a)({},e),{},{username:"Korisni\u010dko ime ne mo\u017ee imati razmak, koristite _ ili -, i mora imati izme\u0111u 4 i 20 karaktera"})}))):n.includes(" ")||a?(n=n||e.user.displayName,o((function(e){return Object(l.a)(Object(l.a)({},e),{},{username:""})}))):(d=!1,o((function(e){return Object(l.a)(Object(l.a)({},e),{},{username:"Korisni\u010dko ime mora imati izme\u0111u 4 i 20 karaktera"})}))),p=p||"",f=f||"",!d){t.next=34;break}return t.next=18,v(n);case 18:if(y=t.sent,console.log(y),console.log("see?"),!y&&n!==e.user.displayName){t.next=26;break}return o((function(e){return Object(l.a)(Object(l.a)({},e),{},{success:"Trenutno korisni\u010dko ime je zauzeto."})})),t.abrupt("return");case 26:return _=[fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/userNames/".concat(n,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b.currentUser.email)}).then((function(e){return e.json()})),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/userNames/".concat(e.user.displayName,".json"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))],t.next=29,Promise.all(_);case 29:C=t.sent,console.log(C);case 31:console.log("why?"),e.setUserObj((function(t){return k=Object(l.a)(Object(l.a)({},t),{},{displayName:n,avatarColor:h||e.user.avatarColor,password:p||(e.user.password?e.user.password:""),gender:f})})),b.onAuthStateChanged((function(e){e&&(p&&e.updatePassword(p).then((function(){console.log("update successful")})).catch((function(e){console.log(e)})),j.ref("/users/".concat(e.uid,"/userData")).update(Object(l.a)({},k)).then((function(e){o((function(e){return Object(l.a)(Object(l.a)({},e),{},{success:"Uspje\u0161no ste editovali profil."})}))})))}));case 34:window.scrollTo(0,0);case 35:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var e=Object(N.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/userNames/".concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,console.log(a),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){}),[]),Object(h.jsx)("div",{id:vt.a.border,children:Object(h.jsxs)("div",{id:vt.a.editProfileContainer,children:[Object(h.jsx)("div",{id:vt.a.possibleErrors,children:c.success?Object(h.jsx)("h2",{children:c.success}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:c.username.length>0?c.username:""}),Object(h.jsx)("h2",{children:c.password.length>0?c.password:""})]})}),Object(h.jsxs)("div",{className:vt.a.editProfileItem,children:[Object(h.jsx)("h2",{children:"Editovanje profila"}),Object(h.jsx)("p",{children:"Uredite va\u0161 korisni\u010dki profil"})]}),Object(h.jsxs)("div",{className:"".concat(vt.a.editProfileItem," ").concat(vt.a.bundle),children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:"Korisni\u010dko ime"})}),Object(h.jsxs)("div",{id:vt.a.username,children:[Object(h.jsx)("div",{children:"www.klix.ba/profil/"}),Object(h.jsx)("input",{ref:r,type:"text",defaultValue:e.user.displayName,spellCheck:!1})]})]}),Object(h.jsxs)("div",{className:"".concat(vt.a.editProfileItem," ").concat(vt.a.bundle),children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:"Boja avatara"})}),Object(h.jsxs)("div",{id:vt.a.colors,ref:s,children:[Object(h.jsx)("div",{className:vt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:vt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:vt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:vt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:vt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:vt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:vt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:vt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:vt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:vt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:vt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:vt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:vt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:vt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})})]})]}),Object(h.jsxs)("div",{className:"".concat(vt.a.editProfileItem," ").concat(vt.a.bundle),children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:"Lozinka"})}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{id:vt.a.password,type:"password",ref:i})})]}),Object(h.jsxs)("div",{className:"".concat(vt.a.editProfileItem," ").concat(vt.a.bundle),children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:"Ponovi lozinku"})}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{id:vt.a.passwordConfirm,type:"password",ref:m})})]}),Object(h.jsxs)("div",{className:"".concat(vt.a.editProfileItem," ").concat(vt.a.bundle),children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:"Spol"})}),Object(h.jsxs)("div",{id:vt.a.gender,ref:u,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{className:vt.a.xd,id:"spol",name:"spol",type:"radio",defaultChecked:!0}),Object(h.jsx)("label",{htmlFor:"spol",children:"Mu\u0161ki"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{id:"spol2",className:vt.a.gender2,name:"spol",type:"radio"}),Object(h.jsx)("label",{htmlFor:"spol",children:"\u017denski"})]})]})]}),Object(h.jsxs)("div",{className:"".concat(vt.a.editProfileItem),children:[Object(h.jsx)("h2",{children:"Napomena"}),Object(h.jsx)("p",{children:"Na komentarima i drugim servisima portala \u0107e biti prikazano samo Va\u0161e korisni\u010dko ime i spol, dok nijedan drugi podatak ne\u0107e biti javno dostupan."})]}),Object(h.jsx)("div",{id:vt.a.saveBtn,children:Object(h.jsx)("button",{onClick:g,children:"Spasi"})})]})})},yt=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(kt,{})})},_t=n(71),Ct=n.n(_t),It=(n(35),function(){return Object(h.jsx)("div",{id:Ct.a.border,children:Object(h.jsx)(q,{})})}),Dt=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(It,{})})},St=function(){return Object(h.jsx)(Fe,{})},wt=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(ce,{})})},Bt=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(Je,{})})},Nt=n(63),Tt=n.n(Nt),At=function(){return Object(h.jsx)("div",{id:Tt.a.commentRulesCnt,children:Object(h.jsxs)("div",{id:Tt.a.commentRulesBody,children:[Object(h.jsx)("h1",{children:"Pravila i uslovi kori\u0161tenja komentara"}),Object(h.jsxs)("p",{children:["Internet portal Klix.ba je najposje\u0107eniji i najrelevantniji internet medij u Bosni i Hercegovini koji postoji vi\u0161e od 20 godina, a kojeg posje\u0107uje veliki broj korisnika iz Bosne i Hercegovine i dijaspore. Dok ve\u0107ina korisnika nije registrovana i ne pi\u0161e komentare, jedan dio korisnika predstavljaju ",Object(h.jsx)("b",{children:"registrovani korisnici"})," portala Klix.ba i oni aktivno u\u010destvuju u ",Object(h.jsx)("b",{children:"diskusijama"})," na \u010dlancima kroz komentare."]}),Object(h.jsx)("p",{children:"Klix.ba ozbiljno shvata problem govora mr\u017enje u komentarima i poduzimamo sve mjere kako bismo onemogu\u0107ili objavljivanje sadr\u017eaja koji poti\u010de na nasilje ili mr\u017enju. S obzirom da dnevni broj komentara mo\u017ee biti jako veliki, trenutno je nemogu\u0107e sve komentare pregledati u stvarnom vremenu i reagovati na one koji kr\u0161e pravila i uslove kori\u0161tenja, pa je mogu\u0107e da u pojedinim komentarima jo\u0161 uvijek nai\u0111ete na poneki sadr\u017eaj koji predstavlja govor mr\u017enje."}),Object(h.jsxs)("p",{children:["Stoga, molimo sve korisnike da koriste"," ",Object(h.jsx)("b",{children:"opciju za prijavu komentara"}),"koja se nalazi pored svakog komentara (govor mr\u017enje, neprikladan rije\u010dnik, off topic, vrije\u0111anje, spam, reklama) i tako nam pomognu kako bismo prijavljene komentare prioritetnije pregledali. Neprimjerene komentare mo\u017eete prijaviti i putem e-maila\xa0",Object(h.jsx)("b",{children:"komentari@klix.ba"}),", \u0161to je i na\u010din slu\u017ebene \u017ealbe."]}),Object(h.jsx)("h3",{children:"Svi korisnici su du\u017eni da se pridr\u017eavaju sljede\u0107ih pravila uslova kori\u0161tenja:"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"Komentari odra\u017eavaju stavove njihovih autora, a ne nu\u017eno i stavove uredni\u0161tva i novinara internet portala Klix.ba."}),Object(h.jsx)("li",{children:"Molimo korisnike da se suzdr\u017ee od vrije\u0111anja, psovanja i vulgarnog izra\u017eavanja."}),Object(h.jsx)("li",{children:"Komentari koji su agresivni, bezobrazni, uvredljivi po bilo kojoj osnovi bit \u0107e uklonjeni. Ne pi\u0161ite komentare koji podsti\u010du na mr\u017enju. Li\u010dni i necivilizirani napadi na bilo koga mogu rezultirati potpunom zabranom komentarisanja."}),Object(h.jsx)("li",{children:"Klix.ba zadr\u017eava pravo da zabrani komentarisanje na pojedine \u010dlanke."}),Object(h.jsx)("li",{children:"Zbog velikog broja komentara Klix.ba nije du\u017ean obrisati sve komentare koji kr\u0161e pravila."}),Object(h.jsx)("li",{children:"Svaki \u010ditatelj koji koristi govor mr\u017enje mo\u017ee biti krivi\u010dno gonjen."}),Object(h.jsx)("li",{children:"Klix.ba ima pravo i obavezu na zahtjev zvani\u010dnih organa dostaviti sve podatke o korisniku \u010diji komentari sadr\u017ee govor mr\u017enje."}),Object(h.jsx)("li",{children:"Portal Klix.ba zadr\u017eava pravo da obri\u0161e komentar bez najave i obja\u0161njenja."}),Object(h.jsx)("li",{children:"Kao \u010ditalac tako\u0111er prihvatate mogu\u0107nost da me\u0111u komentarima mogu biti prona\u0111eni sadr\u017eaji koji mogu biti u suprotnosti sa va\u0161im vjerskim, moralnim i drugim na\u010delima i uvjerenjima. Na takve komentare ne odgovarajte neprimjerenim rije\u010dima ve\u0107 ukoliko su uvredljivi prijavite ih po gore opisanom modelu."})]})]})})},Lt=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(At,{})})},Pt=n(20),Rt=n.n(Pt),Et=function(e){var t=Object(i.useLocation)(),n=Object(i.useHistory)(),r=Object(a.useState)([]),s=Object(d.a)(r,2),m=s[0],u=s[1],j=Object(a.useState)({}),f=Object(d.a)(j,2),p=f[0],O=f[1],g=Object(a.useState)(null),x=Object(d.a)(g,2),v=x[0],k=x[1],y=Object(a.useState)([]),_=Object(d.a)(y,2),C=_[0],I=_[1],D=Object(a.useState)(!1),S=Object(d.a)(D,2),w=S[0],B=S[1],N=Object(a.useRef)(0);Object(a.useEffect)((function(){if(t)if(console.log(t),console.log(t.state),t.state)t.search?n.replace({pathname:t.pathname,state:Object(l.a)({},t.state)}):fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(t.state.articleLink||t.state.articlePath,".json")).then((function(e){return e.json()})).then((function(e){console.log(e),O({title:e.title,subTitle:e.subTitle,category:e.category.toLowerCase(),shares:e.shares?e.shares:0,date:e.date,commentsLength:He(e.comments),linkPath:"/".concat(e.category,"/").concat(e.subCategory,"/").concat(Ge(e.title),"/").concat(e.id)}),N.current=He(e.comments);var n=void 0,a="".concat(e.category,"/").concat(e.subCategory,"/-").concat(e.id);for(var c in e.comments)if(t.state.parentCommentId){if(c===t.state.parentCommentId){var o=[];console.log(e.comments[c]),(n=[Object(l.a)({},e.comments[c])])[0].path="".concat(a,"/comments/").concat(c),n[0].id=c;for(var r=0,s=0,i=Object.values(e.comments[c].replies);s<i.length;s++){var d=i[s];o.push(d);var m=Object.keys(e.comments[c].replies)[r];o[o.length-1].path="".concat(a,"/comments/").concat(c,"/replies/").concat(m),o[o.length-1].id=m,r++}n[0].replies=[].concat(o),console.log(n[0]),console.log(n),u(n);var j=ze(n);console.log(j),j&&I(j)}}else if(c===t.state.commentId){if(console.log(e.comments[c]),(n=[Object(l.a)({},e.comments[c])])[0].path="".concat(a,"/comments/").concat(c),n[0].id=c,n[0].replies){for(var b=[],h=0,f=0,p=Object.values(e.comments[c].replies);f<p.length;f++){var g=p[f];b.push(g);var x=Object.keys(e.comments[c].replies)[h];b[b.length-1].path="".concat(a,"/comments/").concat(c,"/replies/").concat(x),b[b.length-1].id=x,h++}n[0].replies=[].concat(b)}console.log(n[0]),u(n);var v=ze(n);console.log(v),v&&I(v)}}));else if(t.search){var e=JSON.parse(t.search.slice(1).split("%22").join('"'));console.log(e),n.replace({pathname:t.pathname,state:Object(l.a)({},e)})}else{var a=JSON.parse(localStorage.getItem("userObj")).uId||b.currentUser.uid,c=t.pathname.split("/");c=c[c.length-1],console.log(c),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(a,"/comments.json")).then((function(e){return e.json()})).then((function(e){for(var a in e)if(Object.keys(e[a])[0]===c){console.log(Object.values(e[a])[0]);var o=Object.values(e[a])[0],r="https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(o.articlePath,"/comments/").concat(o.parentCommentId?o.parentCommentId:o.commentId,".json");console.log(r),console.log(o),n.replace({pathname:t.pathname,state:Object(l.a)({},o)})}}))}}),[t]);var T=function(e){k(e)},L=function(){I([])};Object(a.useEffect)((function(){console.log(e)}),[]);var P=function(e){console.log(e),B(e)};return Object(a.useEffect)((function(){m&&console.log(m)}),[m]),Object(h.jsxs)(h.Fragment,{children:[w&&Object(h.jsx)(M,{navZ:!0,children:Object(h.jsx)(ke,{closeModal:B,reportData:w})}),Object(h.jsxs)("div",{id:Rt.a.commentLinkContainer,children:[Object(h.jsxs)("div",{id:Rt.a.commentPageContainerHeader,children:[Object(h.jsxs)("div",{id:Rt.a.headerBundle,children:[Object(h.jsx)("h3",{style:{color:"".concat($[p.category])},children:p.subTitle}),Object(h.jsx)("h1",{children:Object(h.jsx)(o.b,{to:p.linkPath,children:p.title})})]}),Object(h.jsxs)("div",{id:Rt.a.headerShares,children:[Object(h.jsx)("i",{class:"fas fa-share-alt"}),"63"]})]}),Object(h.jsxs)("div",{id:Rt.a.commentPageContainerBody,children:[Object(h.jsx)("div",{id:Rt.a.commentSidebarLeft,children:Object(h.jsxs)("div",{id:Rt.a.bundleDiv,children:[Object(h.jsxs)("div",{id:Rt.a.postedData,children:[Object(h.jsx)("div",{children:Object(h.jsx)("i",{class:"fas fa-user",style:{backgroundColor:"rgb(209,213,219)",color:"#fff",padding:"1.2rem",borderRadius:".3rem",fontSize:"1.6rem"}})}),Object(h.jsxs)("div",{id:Rt.a.postedDataTwo,children:[Object(h.jsx)("h3",{children:"R. D."}),Object(h.jsx)("p",{children:ae(p.date)})]})]}),Object(h.jsxs)("div",{id:Rt.a.commentsShare,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:N.current}),Object(h.jsx)("p",{children:"komentara"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"0"}),Object(h.jsx)("p",{children:"dijeljenja"})]})]}),Object(h.jsx)("div",{id:Rt.a.shareArticle,children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)("i",{class:"fab fa-facebook"})}),Object(h.jsx)("li",{children:Object(h.jsx)("i",{class:"fab fa-twitter"})}),Object(h.jsx)("li",{children:Object(h.jsx)("i",{class:"far fa-envelope"})})]})})]})}),Object(h.jsxs)("div",{id:Rt.a.commentBodyContent,children:[Object(h.jsxs)("div",{id:Rt.a.commentBodyContentHeader,children:[Object(h.jsx)("h3",{children:"Komentar"}),Object(h.jsx)("div",{id:Rt.a.povratakNaClanak,children:Object(h.jsxs)(o.b,{to:p.linkPath,children:[Object(h.jsx)("i",{class:"far fa-arrow-alt-circle-left"}),"\xa0Povratak na \u010dlanak"]})})]}),m&&m.map((function(e,t){if(t===v){if(!e.replies)return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(je,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,date:ae(e.date),path:e.path,setCommentData:u,commentData:m,handleReply:T,handleReport:P}),Object(h.jsx)(fe,{commentIndex:t,commentIndexDB:e.id,setCommentData:u,setReplyIndex:k,path:e.path,ref:N})]},Object(A.a)());if(e.replies)return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(je,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,date:ae(e.date),path:e.path,setCommentData:u,commentData:m,handleReply:T,handleReport:P}),Object(h.jsx)(fe,{commentIndex:t,commentIndexDB:e.id,setCommentData:u,setReplyIndex:k,path:e.path,ref:N}),e.replies?e.replies.map((function(n,a){return Object(h.jsxs)(c.a.Fragment,{children:[C.length&&a<2?Object(h.jsx)(je,{commentIndex:[t,a],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,date:ae(n.date),path:n.path,setCommentData:u,commentData:m,handleReply:T,handleReport:P},Object(A.a)()):null,C.length?null:Object(h.jsx)(je,{commentIndex:[t,a],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,date:ae(n.date),path:n.path,setCommentData:u,commentData:m,handleReply:T,handleReport:P},Object(A.a)()),C.length&&1===a?Object(h.jsx)(ge,{onClick:function(){return L()},showReply:e.replies.length-2}):null]})})):null]},Object(A.a)())}else{if(Array.isArray(v))return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(je,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,date:ae(e.date),path:e.path,setCommentData:u,commentData:m,handleReply:T,handleReport:P}),e.replies&&e.replies.map((function(n,a){return Object(h.jsxs)(c.a.Fragment,{children:[C.length&&a<2?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(je,{commentIndex:[t,a],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,date:ae(n.date),path:n.path,setCommentData:u,commentData:m,handleReply:T,handleReport:P}),v[1]===a&&v[0]===t?Object(h.jsx)(fe,{commentIndex:[t,a],commentIndexDB:[e.id,n.id],setCommentData:u,setReplyIndex:k,path:e.path,ref:N}):null]}):null,C.length?null:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(je,{commentIndex:[t,a],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,date:ae(n.date),path:n.path,setCommentData:u,commentData:m,handleReply:T,handleReport:P}),v[1]===a&&v[0]===t?Object(h.jsx)(fe,{commentIndex:[t,a],commentIndexDB:[e.id,n.id],setCommentData:u,setReplyIndex:k,path:e.path,ref:N}):null]}),C.length&&1===a?Object(h.jsx)(ge,{onClick:function(){return L()},showReply:e.replies.length-2}):null]},Object(A.a)())}))]},Object(A.a)());if(!e.replies)return Object(h.jsx)(c.a.Fragment,{children:Object(h.jsx)(je,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,date:ae(e.date),path:e.path,setCommentData:u,commentData:m,handleReply:T,handleReport:P})},Object(A.a)());if(e.replies)return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(je,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,date:ae(e.date),path:e.path,setCommentData:u,commentData:m,handleReply:T,handleReport:P}),e.replies?e.replies.map((function(n,a){return Object(h.jsxs)(c.a.Fragment,{children:[C.length&&a<2?Object(h.jsx)(je,{commentIndex:[t,a],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,date:ae(n.date),path:n.path,setCommentData:u,commentData:m,handleReply:T,handleReport:P}):null,C.length?null:Object(h.jsx)(je,{commentIndex:[t,a],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,date:ae(n.date),path:n.path,setCommentData:u,commentData:m,handleReply:T,handleReport:P}),C.length&&1===a?Object(h.jsx)(ge,{onClick:function(){return L()},showReply:e.replies.length-2}):null]},Object(A.a)())})):null]},Object(A.a)())}})),Object(h.jsx)(o.b,{to:"".concat(p.linkPath,"/komentari"),style:{textDecoration:"none"},children:Object(h.jsx)(ge,{showAll:N.current})})]}),Object(h.jsx)("div",{})]})]})]})},Ft=function(){return Object(h.jsx)(Et,{})},Mt=function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,{}),Object(h.jsx)(ht,{children:e.children})]})},Ht=n(43),zt=n.n(Ht),Jt=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(null),n=Object(d.a)(t,2),c=n[0],o=n[1],r=function(){var t=Object(N.a)(B.a.mark((function t(){var n,a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.current.value.length<3)){t.next=2;break}return t.abrupt("return");case 2:if(n=void 0,e.current.value.includes("@")){t.next=14;break}return t.next=6,fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/userNames/".concat(e.current.value,".json"));case 6:return a=t.sent,t.next=9,a.json();case 9:if(n=t.sent,console.log(n),n){t.next=14;break}return o("Korisnicko ime ne postoji."),t.abrupt("return");case 14:b.sendPasswordResetEmail(n||e.current.value).then((function(e){console.log(e),console.log("pass email sent"),o("Lozinka je resetovana, provjerite vasu email adresu.")})).catch((function(e){console.log(e),e.code.includes("user-not-found")&&o("Email adresa nije odgovaraju\u0107a.")}));case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{id:zt.a.header,children:"Zaboravljena lozinka"}),Object(h.jsxs)("p",{id:zt.a.parag,children:["Da biste resetovali va\u0161u lozinku molimo unesite email koji ste ",Object(h.jsx)("br",{}),"koristili prilikom registracije."]}),Object(h.jsxs)("form",{id:zt.a.form,onSubmit:function(e){return e.preventDefault()},children:[c&&Object(h.jsx)("p",{id:zt.a.errMsg,children:c}),Object(h.jsxs)("div",{id:zt.a.inputBundle,children:[Object(h.jsx)("label",{htmlFor:"email",children:"Korisni\u010dko ime ili e-mail adresa"}),Object(h.jsx)("input",{id:"email",ref:e})]}),Object(h.jsx)("button",{onClick:r,children:"Resetuj"})]})]})};var Ut=function(){var e=Object(a.useContext)(x);return Object(a.useEffect)((function(){b.onAuthStateChanged((function(t){t||t||localStorage.getItem("token")||e.logout()}))}),[]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(y,{}),Object(h.jsxs)(i.Switch,{children:[Object(h.jsx)(i.Route,{path:"/",exact:!0,children:Object(h.jsx)(et,{route:"Po\u010detna"})}),Object(h.jsx)(i.Route,{path:"/Vijesti",exact:!0,children:Object(h.jsx)(et,{route:"Vijesti"})}),Object(h.jsx)(i.Route,{path:"/Biznis",exact:!0,children:Object(h.jsx)(et,{route:"Biznis"})}),Object(h.jsx)(i.Route,{path:"/Sport",exact:!0,children:Object(h.jsx)(et,{route:"Sport"})}),Object(h.jsx)(i.Route,{path:"/Magazin",exact:!0,children:Object(h.jsx)(et,{route:"Magazin"})}),Object(h.jsx)(i.Route,{path:"/Lifestyle",exact:!0,children:Object(h.jsx)(et,{route:"Lifestyle"})}),Object(h.jsx)(i.Route,{path:"/Scitech",exact:!0,children:Object(h.jsx)(et,{route:"Scitech"})}),Object(h.jsx)(i.Route,{path:"/Auto",exact:!0,children:Object(h.jsx)(et,{route:"Auto"})}),Object(h.jsx)(i.Route,{path:"/login",children:Object(h.jsx)(ft,{children:Object(h.jsx)(bt,{})})}),Object(h.jsx)(i.Route,{path:"/profil/:user",children:Object(h.jsx)(ft,{children:Object(h.jsx)(st,{})})}),Object(h.jsx)(i.Route,{path:"/mojprofil",children:Object(h.jsx)(yt,{})}),Object(h.jsx)(i.Route,{path:"/adminpanel",children:Object(h.jsx)(Dt,{})}),Object(h.jsx)(i.Route,{path:"/editarticles",children:Object(h.jsx)(wt,{})}),Object(h.jsx)(i.Route,{path:"/:category/:subCategory/:title/:articleId/komentari",children:Object(h.jsx)(Bt,{})}),Object(h.jsx)(i.Route,{path:"/:category/:subCategory/:title/:articleId",children:Object(h.jsx)(St,{})}),Object(h.jsx)(i.Route,{path:"/komentar/:commentId",children:Object(h.jsx)(Ft,{})}),Object(h.jsx)(i.Route,{path:"/komentari",children:Object(h.jsx)(Lt,{})}),Object(h.jsx)(i.Route,{path:"/resetpass",children:Object(h.jsx)(Mt,{children:Object(h.jsx)(Jt,{})})})]}),Object(h.jsx)(gt,{})]})},Kt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,109)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};s.a.render(Object(h.jsx)(g,{children:Object(h.jsx)(o.a,{basename:"/klix",children:Object(h.jsx)(Ut,{})})}),document.getElementById("root")),Kt()}],[[106,1,2]]]);
//# sourceMappingURL=main.a10c45bb.chunk.js.map