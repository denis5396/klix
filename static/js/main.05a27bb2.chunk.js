(this.webpackJsonpklix=this.webpackJsonpklix||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={editArticles:"EditArticle_editArticles__1N9zU",allArticlesMainBodyContent:"EditArticle_allArticlesMainBodyContent__1M2Oe",articleTitles:"EditArticle_articleTitles__hMYMj",articleItemSm:"EditArticle_articleItemSm__2sym_",articleItemBg:"EditArticle_articleItemBg__23RhP",articleImgCnt:"EditArticle_articleImgCnt__DHec4",articleImageCntBg:"EditArticle_articleImageCntBg__ww2Mv",articleItemFetchTitles:"EditArticle_articleItemFetchTitles__MLGso",editBundler:"EditArticle_editBundler__s9JFl",addingBundler:"EditArticle_addingBundler__37Y6U",articleFooter:"EditArticle_articleFooter__2eIcI",articleItemBgHeader:"EditArticle_articleItemBgHeader__2mpz_",articleItemBgFooter:"EditArticle_articleItemBgFooter__2LR-F",articleItemBgFooterBundle:"EditArticle_articleItemBgFooterBundle__1yrOO",articleSubCnt:"EditArticle_articleSubCnt__mLHo7",subLeft:"EditArticle_subLeft__3si0I",subLeftItem:"EditArticle_subLeftItem__2tKQD",subLeftItemImg:"EditArticle_subLeftItemImg__1Q9JG",subLeftItemText:"EditArticle_subLeftItemText__3AyKF",subLeftItemBundle:"EditArticle_subLeftItemBundle__21Gni",subLeftBundleRight:"EditArticle_subLeftBundleRight__2HeS4",subRightBundleRight:"EditArticle_subRightBundleRight__1Rvvu",subRight:"EditArticle_subRight__YDdyo",subRightItem:"EditArticle_subRightItem__1MF3l",subRightText:"EditArticle_subRightText__20e11",subRightBundle:"EditArticle_subRightBundle__1kibv",allArticlesBody:"EditArticle_allArticlesBody__RLm0F",allArticleItem:"EditArticle_allArticleItem__-Z4Hi",addArticle:"EditArticle_addArticle__3ORhu",addArticleLeft:"EditArticle_addArticleLeft__3hum5",addArticleBg:"EditArticle_addArticleBg__1wLwd",allArticlesHeader:"EditArticle_allArticlesHeader__6vEJs",allArticlesItems:"EditArticle_allArticlesItems__2nsnm",articleFetchItem:"EditArticle_articleFetchItem__2oQcT",articleFetchItemImgCnt:"EditArticle_articleFetchItemImgCnt__20qK7",articleItemFetchFooter:"EditArticle_articleItemFetchFooter__2JYbM",articleItemFetchBundle:"EditArticle_articleItemFetchBundle__YIeDF",fetchBtn:"EditArticle_fetchBtn__18naX",saveChanges:"EditArticle_saveChanges__301Ra",chooseModeCnt:"EditArticle_chooseModeCnt__2nnff",empty:"EditArticle_empty__3w86Y",emptyBg:"EditArticle_emptyBg__1WZcG",emptySub:"EditArticle_emptySub__3aH44"}},function(e,t,n){e.exports={dropdown:"Dropdown_dropdown__1FDOI",dropdownColumn:"Dropdown_dropdownColumn__24p8j",dropdownItemHeader:"Dropdown_dropdownItemHeader__3NL1Z",dropdownColumnItem:"Dropdown_dropdownColumnItem__zgBA0","po\u010detna":"Dropdown_po\u010detna__277HU",vijesti:"Dropdown_vijesti__VqnGg",biznis:"Dropdown_biznis__14JgO",sport:"Dropdown_sport__2uzfP",magazin:"Dropdown_magazin__3TYlp",lifestyle:"Dropdown_lifestyle__3_RE3",scitech:"Dropdown_scitech__2UaRO",auto:"Dropdown_auto__1R2AU"}},,,function(e,t,n){e.exports={articleParent:"Article_articleParent__1_-Oq",articleHeader:"Article_articleHeader__1tol4",articleBody:"Article_articleBody__1eBLk",articleSidebarLeft:"Article_articleSidebarLeft__i5-X4",bundleDiv:"Article_bundleDiv___XfdY",articleBodyContent:"Article_articleBodyContent__2Nbwn",articleSidebarRight:"Article_articleSidebarRight__2HQau",postedData:"Article_postedData__r36L3",postedDataTwo:"Article_postedDataTwo__3HEvG",commentsShare:"Article_commentsShare__2z0YI",comments:"Article_comments__3xH9D",shareArticle:"Article_shareArticle__3ryig",imageContainer:"Article_imageContainer__fUn54",captionTxt:"Article_captionTxt__xXuMg",articleText:"Article_articleText__2g8tl",tags:"Article_tags__ERLsn",addComment:"Article_addComment__rZDU9",showComments:"Article_showComments__PnNNE",linkedArticlesBody:"Article_linkedArticlesBody__29JER",linkedArticlesHeader:"Article_linkedArticlesHeader__2ZqxO",linkedPromoHeader:"Article_linkedPromoHeader__3eCnl",linkedPromo:"Article_linkedPromo__XaJ-e",artTxt:"Article_artTxt__1_UE6",artTxtBold:"Article_artTxtBold__3oLsM",textBelowImage:"Article_textBelowImage__3kDyE",imageSliderContainer:"Article_imageSliderContainer__1LJV_",mainSliderImage:"Article_mainSliderImage__2OYto",sliderImages:"Article_sliderImages__2_4n4",clickForMore:"Article_clickForMore__2KeRK",clickedSlider:"Article_clickedSlider__2owTV",sliderMainImgContainer:"Article_sliderMainImgContainer__2KwoX",sliderHeaderBar:"Article_sliderHeaderBar__2C_4B",slideZoomExpand:"Article_slideZoomExpand__2WAGB",sliderFooterBar:"Article_sliderFooterBar__1Nhf1",slideNumbers:"Article_slideNumbers__2nEq2",sliderRight:"Article_sliderRight__6PNfh",sliderLeft:"Article_sliderLeft__1alWh",ytConfig:"Article_ytConfig__XpqCg"}},function(e,t,n){e.exports={addArticle:"AddArticle_addArticle__1Pint",addTitle:"AddArticle_addTitle__1Dr-P",addArticleBody:"AddArticle_addArticleBody__18vce",addText:"AddArticle_addText__28Sm9",addImages:"AddArticle_addImages___T9Rc",addTextHeader:"AddArticle_addTextHeader__1zP61",addImagesHeader:"AddArticle_addImagesHeader__2KsVQ",addImagesBundleLeft:"AddArticle_addImagesBundleLeft__3sN90",addImagesBundleRight:"AddArticle_addImagesBundleRight__2Yosg",addTextBody:"AddArticle_addTextBody__1WThD",addTextBodyHeader:"AddArticle_addTextBodyHeader__2nJuv",listOl:"AddArticle_listOl__7k0uz",imageContainer:"AddArticle_imageContainer__2r7am",deletable:"AddArticle_deletable__1g7Vr",imageWrapper:"AddArticle_imageWrapper__GxsmQ",previewImage:"AddArticle_previewImage__1lZ7O",addImagesBody:"AddArticle_addImagesBody__2B1JU",uploadImageContainer:"AddArticle_uploadImageContainer__1CfsS",imageCaptionContainer:"AddArticle_imageCaptionContainer__3r7AA",uploadImageText:"AddArticle_uploadImageText__1vIBB",imageCaptionText:"AddArticle_imageCaptionText__1qKwT",uploadImage:"AddArticle_uploadImage__OoIbw",imageCaption:"AddArticle_imageCaption__3AJGo",author:"AddArticle_author__K6tXR",authorInfo:"AddArticle_authorInfo__3s98h",authorCnt:"AddArticle_authorCnt__1VDqz",category:"AddArticle_category__2_K-v",tag:"AddArticle_tag__2g2XB",tagItem:"AddArticle_tagItem__3ysme",tagContainer:"AddArticle_tagContainer__oX3bd",commentsAllowed:"AddArticle_commentsAllowed__3joov",commentBundle:"AddArticle_commentBundle__3eupi",commentItem:"AddArticle_commentItem__2XRYX",subcategory:"AddArticle_subcategory__2S4x5"}},function(e,t,n){e.exports={border:"EditProfile_border__m7kmD",editProfileContainer:"EditProfile_editProfileContainer__34i5D",editProfileItem:"EditProfile_editProfileItem__1BiBT",bundle:"EditProfile_bundle__2G3_7",username:"EditProfile_username__3ZYc_",colors:"EditProfile_colors__131Ma",radioField:"EditProfile_radioField__RZI5t",password:"EditProfile_password__2DeyI",passwordConfirm:"EditProfile_passwordConfirm__3SN9f",gender:"EditProfile_gender__1pDAi",gender2:"EditProfile_gender2__3DXHi",saveBtn:"EditProfile_saveBtn__1MB0Q",possibleErrors:"EditProfile_possibleErrors__2hIgt"}},,function(e,t,n){e.exports={sub:"HomeSub_sub__2TEoo",itemImg:"HomeSub_itemImg__3o1UV",subBodyHeader:"HomeSub_subBodyHeader__2zZ6U",subBody:"HomeSub_subBody__1fiy_",subBodyLeft:"HomeSub_subBodyLeft__pVzJJ",subBodyItemsBundle:"HomeSub_subBodyItemsBundle__1sh7Q",subBodyItem:"HomeSub_subBodyItem__wh5rw",itemText:"HomeSub_itemText__2VBOk",itemImgFour:"HomeSub_itemImgFour__yAr0E",itemBundle:"HomeSub_itemBundle__2a_XD",itemBundleR:"HomeSub_itemBundleR__i0AJA",subBodyBundleItem:"HomeSub_subBodyBundleItem__2EWGE",itemBundleRight:"HomeSub_itemBundleRight__1YlM2",promoCnt:"HomeSub_promoCnt__PES26",promoHeader:"HomeSub_promoHeader__3ldhJ",promoBody:"HomeSub_promoBody__NsLD5"}},function(e,t,n){e.exports={commentPageContainer:"Comment_commentPageContainer__3XQE-",commentPageContainerHeader:"Comment_commentPageContainerHeader__69dyh",headerBundle:"Comment_headerBundle__1U8HJ",headerShares:"Comment_headerShares__2Ob5H",commentPageContainerBody:"Comment_commentPageContainerBody__2-fiK",commentSidebarLeft:"Comment_commentSidebarLeft__1vM-s",bundleDiv:"Comment_bundleDiv__4fbiL",postedData:"Comment_postedData__TQyov",postedDataTwo:"Comment_postedDataTwo__3nhNp",commentsShare:"Comment_commentsShare__1_y-s",postCommentTextarea:"Comment_postCommentTextarea__1_zbU",shareArticle:"Comment_shareArticle__3R4YC",commentBodyContent:"Comment_commentBodyContent__1G4QM",commentBodyHeaderInfo:"Comment_commentBodyHeaderInfo__3ou1U",povratakNaClanak:"Comment_povratakNaClanak__26Js3",prijavaKorisnika:"Comment_prijavaKorisnika__2as8H",commentBodyHeaderTypeSignIn:"Comment_commentBodyHeaderTypeSignIn__2rUd6",commentBodyHeaderAlert:"Comment_commentBodyHeaderAlert__oTgfr",postCommentBundle:"Comment_postCommentBundle__30VG4",commentBody:"Comment_commentBody__3qQ5w"}},,,function(e,t,n){e.exports={commentContainer:"CommentItem_commentContainer__3ep8C",commentContainerReply:"CommentItem_commentContainerReply__mETek",commentHeader:"CommentItem_commentHeader__lP07n",commentHeaderFirst:"CommentItem_commentHeaderFirst__1DbO6",commentHeaderSecond:"CommentItem_commentHeaderSecond__169IQ",commentBody:"CommentItem_commentBody__13nqz",commentFooter:"CommentItem_commentFooter__LDr2y",like:"CommentItem_like__14jTY",dislike:"CommentItem_dislike__Fh6nx",reportLikeParent:"CommentItem_reportLikeParent__3SThR",divide:"CommentItem_divide__1a9fX",report:"CommentItem_report__16Io5",reply:"CommentItem_reply__1-FUT",topComment:"CommentItem_topComment__3TTwg",negativeComment:"CommentItem_negativeComment__1igMr"}},,function(e,t,n){e.exports={logo:"Nav_logo__eGT1n",navHeader:"Nav_navHeader__kz4uz",bundle:"Nav_bundle__2Hi_W",box:"Nav_box__tijUH",headerUl:"Nav_headerUl__FKu_b",wlogo:"Nav_wlogo__1Htqu",hlogo:"Nav_hlogo__2pJFD"}},function(e,t,n){e.exports={commentLinkContainer:"LinkToComment_commentLinkContainer__1A3Co",commentPageContainerHeader:"LinkToComment_commentPageContainerHeader__22ZWJ",headerBundle:"LinkToComment_headerBundle__2Ia_z",headerShares:"LinkToComment_headerShares__1lcTK",commentPageContainerBody:"LinkToComment_commentPageContainerBody__3xA0o",commentSidebarLeft:"LinkToComment_commentSidebarLeft__29iNi",bundleDiv:"LinkToComment_bundleDiv__3_2W6",postedData:"LinkToComment_postedData__1VBC_",postedDataTwo:"LinkToComment_postedDataTwo__sMY6_",commentsShare:"LinkToComment_commentsShare__1Yl6X",shareArticle:"LinkToComment_shareArticle__3Ki8n",commentBodyContent:"LinkToComment_commentBodyContent__1oHmo",commentBodyContentHeader:"LinkToComment_commentBodyContentHeader__yJb8S",povratakNaClanak:"LinkToComment_povratakNaClanak__1KANv"}},,,function(e,t,n){e.exports={reportContainer:"ReportComment_reportContainer__3tPhE",reportRadioBtns:"ReportComment_reportRadioBtns__30UBP",bundleRadios:"ReportComment_bundleRadios__33oUJ",confirm:"ReportComment_confirm__2NMuL",footerNote:"ReportComment_footerNote__1u9sP"}},,,function(e,t,n){e.exports={homeMain:"HomeMain_homeMain__1c5Dz",main:"HomeMain_main__3xFDk",mainBoxBig:"HomeMain_mainBoxBig__3IM8w",mainBox:"HomeMain_mainBox__3_qEQ",mainBoxHeader:"HomeMain_mainBoxHeader__1b5oQ",mainBoxFooter:"HomeMain_mainBoxFooter__1rZ3k",mainBoxFooterBundle:"HomeMain_mainBoxFooterBundle__1PBgS",mainBoxImg:"HomeMain_mainBoxImg__1DNdc",sideBar:"HomeMain_sideBar__SxZrO",sideBarControls:"HomeMain_sideBarControls__3bR7b",sideBarControlItem:"HomeMain_sideBarControlItem__vB4gs",sideBarContent:"HomeMain_sideBarContent__32bU2",sideBarItem:"HomeMain_sideBarItem__DhiuP",sideBarItemBundle:"HomeMain_sideBarItemBundle__MGyCv",sideBarItemBundleRight:"HomeMain_sideBarItemBundleRight__A-zNX"}},function(e,t,n){e.exports={sideBar:"HomeMainSub_sideBar__3M4dE",sideBarControls:"HomeMainSub_sideBarControls__1ual7",sideBarControlItem:"HomeMainSub_sideBarControlItem__ICqAn",itemActive:"HomeMainSub_itemActive__30TMJ",sideBarContent:"HomeMainSub_sideBarContent__1Yrkz",sideBarItem:"HomeMainSub_sideBarItem__3HxYF",sideBarItemBundle:"HomeMainSub_sideBarItemBundle__KGUjS",sideBarItemBundleRight:"HomeMainSub_sideBarItemBundleRight__IlXpM"}},,function(e,t,n){e.exports={popularCnt:"Popular_popularCnt__21fyL",popularHeader:"Popular_popularHeader__6tLvR",popularItem:"Popular_popularItem__3gtjF",popularItemHeader:"Popular_popularItemHeader__3gZim",popularItemBody:"Popular_popularItemBody__2b0Jp",popularItemFooter:"Popular_popularItemFooter__3-Om5",itemTime:"Popular_itemTime__XpWi6",spanComShare:"Popular_spanComShare__z3Tri",spanShare:"Popular_spanShare__1SnNR",spanComment:"Popular_spanComment__THqgY"}},function(e,t,n){e.exports={commentContainer:"UserComment_commentContainer__mOCVT",commentHeader:"UserComment_commentHeader__26NZj",commentHeaderFirst:"UserComment_commentHeaderFirst__1pa_0",commentHeaderSecond:"UserComment_commentHeaderSecond__29A7i",commentBody:"UserComment_commentBody__380YP",commentFooter:"UserComment_commentFooter__31gc-",like:"UserComment_like__51qDR",dislike:"UserComment_dislike__1s03A",report:"UserComment_report__cKvyb",reply:"UserComment_reply__2wSTA"}},function(e,t,n){e.exports={userInfoContainer:"UserInfo_userInfoContainer__21zAf",userInfo:"UserInfo_userInfo__2V8z1",userInfoF:"UserInfo_userInfoF__U2QYJ",userData:"UserInfo_userData__3-s6a",userDataItem:"UserInfo_userDataItem__1S8zh",commentContainer:"UserInfo_commentContainer__1HMp9",comments:"UserInfo_comments__1MNmM"}},function(e,t,n){e.exports={loginForm:"LoginForm_loginForm__226Wf",fbgoo:"LoginForm_fbgoo__1LKhf",fb:"LoginForm_fb__W6OC_",goo:"LoginForm_goo__32aZq",nastavite:"LoginForm_nastavite__2SsaO",username:"LoginForm_username__gffse",password:"LoginForm_password__1wt-s",remember:"LoginForm_remember__1LbVK",error:"LoginForm_error__1wkod"}},,function(e,t,n){e.exports={article:"Articles_article__2D2dX",textBundle:"Articles_textBundle__-OhVj",articleOptionsBundle:"Articles_articleOptionsBundle__MKj7r",articleOptions:"Articles_articleOptions__3HO9L",editArticle:"Articles_editArticle__nm3bT",editArticleItem:"Articles_editArticleItem__1NfvT"}},function(e,t,n){e.exports={tagArticle:"TagArticle_tagArticle__1KX28",imageCnt:"TagArticle_imageCnt__2y5gv",articleBodyCnt:"TagArticle_articleBodyCnt__352Ok",subTitle:"TagArticle_subTitle__2PRT8",title:"TagArticle_title__JdTcT",txt:"TagArticle_txt__x2VFy",footer:"TagArticle_footer__1fLhb",date:"TagArticle_date__2CByH",bundle:"TagArticle_bundle__GCW-a"}},function(e,t,n){e.exports={tagsCnt:"Tags_tagsCnt__1Zrd2",tagsLeft:"Tags_tagsLeft__1wsdV",tagsLeftHeader:"Tags_tagsLeftHeader__2gZ5R",tagsLeftFooter:"Tags_tagsLeftFooter__1Bxxi",tagsLeftBody:"Tags_tagsLeftBody__21La7",nill:"Tags_nill__2cuFf"}},,,function(e,t,n){e.exports={progressParent:"ProgressBar_progressParent__pnVaP",progressItem:"ProgressBar_progressItem__eaz92",progressBar:"ProgressBar_progressBar__t3Lzb",currentProgress:"ProgressBar_currentProgress__21z0_",done:"ProgressBar_done__vJLqe",finished:"ProgressBar_finished__3qtOS"}},,,,function(e,t,n){e.exports={promoItem:"LinkedPromo_promoItem__2Lu50",promoImageCnt:"LinkedPromo_promoImageCnt__3v4jF",promoBody:"LinkedPromo_promoBody__2xaj5",promoFooter:"LinkedPromo_promoFooter__2JKSx"}},function(e,t,n){e.exports={header:"ResetPassword_header__3Jilb",parag:"ResetPassword_parag__2h7Ml",form:"ResetPassword_form__JIYaX",inputBundle:"ResetPassword_inputBundle__26Esc"}},,,,function(e,t,n){e.exports={imageContainer:"LinkedArticles_imageContainer__1m5OA",linkedArticle:"LinkedArticles_linkedArticle__5kdV8",linkedArticleSolo:"LinkedArticles_linkedArticleSolo__25yac"}},,,function(e,t,n){e.exports={articleLinkImage:"ArticleLink_articleLinkImage__tKtk6",articleLink:"ArticleLink_articleLink__Jd70I",articleLinkText:"ArticleLink_articleLinkText__3N-iv"}},function(e,t,n){e.exports={postCommentTextarea:"CommentType_postCommentTextarea__2lemm",postCommentBundle:"CommentType_postCommentBundle__O6-fL",postComment:"CommentType_postComment__yasYQ"}},function(e,t,n){e.exports={commentReply:"CommentReply_commentReply__3ty_t",commentReplyFooter:"CommentReply_commentReplyFooter__3jxjT",commentReplyReplies:"CommentReply_commentReplyReplies__1jFXz"}},function(e,t,n){e.exports={showCommentReplies:"CommentShow_showCommentReplies__20HUz",showCommentMore:"CommentShow_showCommentMore__1DBIw",showAll:"CommentShow_showAll__nfhXw"}},function(e,t,n){e.exports={footer:"Footer_footer__25BDU",followUs:"Footer_followUs__1DOPk",cpr:"Footer_cpr__3kN3H"}},,,,,,function(e,t,n){e.exports={modal:"Modal_modal__24H1s",modalBtns:"Modal_modalBtns__36Xur"}},,function(e,t,n){e.exports={border:"Login_border__Avq0k",borderTwo:"Login_borderTwo__2YKuN"}},function(e,t,n){e.exports={commentRulesCnt:"CommentRules_commentRulesCnt__3Z-tf",commentRulesBody:"CommentRules_commentRulesBody__3oqTL"}},,,,,,function(e,t,n){e.exports={searchCnt:"Search_searchCnt__38Ues"}},function(e,t,n){e.exports={overlay:"Overlay_overlay__1urC2"}},,function(e,t,n){e.exports={border:"AdminPanelContainer_border__2RyGz",itemContainer:"AdminPanelContainer_itemContainer__1Z5qq",addArticle:"AdminPanelContainer_addArticle__1v5mA",articles:"AdminPanelContainer_articles__c3vDP"}},,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/gooicon.35bcce80.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/powerplant.e7b7fee7.jpg"},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(4),o=n(51),s=n.n(o),i=(n(80),n(17)),l=(n(81),n(5)),d=n(3),j=n(44);n(111),n(82),n(86);j.a.initializeApp({apiKey:"AIzaSyDDpLMfCuKs4jQJwf_5xsNQ5VuSBPZtIDk",authDomain:"klix-74c29.firebaseapp.com",databaseURL:"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app",projectId:"klix-74c29",storageBucket:"klix-74c29.appspot.com",messagingSenderId:"121815054131",appId:"1:121815054131:web:d4fc6a7fc766feb7897046"});var u=j.a.storage(),m=j.a.database(),b=j.a.auth(),h=n(0),O=Object(c.createContext)({token:"",isLoggedIn:!1,user:{uId:"",displayName:"",gender:"",avatarColor:"",banned:!1,registered:""},overlay:!1,signUp:function(e,t,n){},setUserObj:function(){},login:function(e){},logout:function(){},handleOverlay:function(){}}),f=function(e){var t=(new Date).getTime();return new Date(e).getTime()-t},p=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("expirationTime"),n=f(t);return n<=6e4?(localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),null):{token:e,duration:n}},g=function(e){var t,n=p();n&&(t=n.token);var a={uId:"",displayName:"",gender:"Jo\u0161 niste odabrali",avatarColor:"c1c1c1",banned:"Ne",registered:""},r=Object(c.useState)(JSON.parse(localStorage.getItem("userObj"))||a),o=Object(l.a)(r,2),s=o[0],i=o[1],j=Object(c.useState)(t),u=Object(l.a)(j,2),g=u[0],x=u[1],v=b.currentUser,k=!!g&&s.displayName||localStorage.getItem("rememberMe")&&s.displayName,y=Object(c.useState)(!1),_=Object(l.a)(y,2),C=_[0],I=_[1],D=Object(c.useRef)(null);Object(c.useEffect)((function(){if(!D.current&&n){var e=p();D.current=setTimeout(w,e.duration)}return function(){}}),[]),Object(c.useEffect)((function(){v&&console.log("userhere")}),[v]),Object(c.useEffect)((function(){s&&v&&(console.log(s),localStorage.setItem("userObj",JSON.stringify(s)))}),[s]);var w=Object(c.useCallback)((function(){x(null),localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),localStorage.removeItem("userObj"),localStorage.removeItem("rememberMe"),i(a),D.current&&clearTimeout(D.current),b.signOut()}),[]);Object(c.useEffect)((function(){n&&(console.log(n.duration),D.current=setTimeout(w,n.duration))}),[n,w]);var S={token:g,isLoggedIn:k,user:s,overlay:C,signUp:function(e,t,n){console.log("signupstart");var c=Object(d.a)(Object(d.a)({},s),{},{displayName:t,uId:e});m.ref("/users/".concat(e,"/userData")).get().then((function(t){if(t.exists){console.log("signupsuccess"),console.log(t.val());var a=t.val();a?i(Object(d.a)({},a)):(i(Object(d.a)(Object(d.a)({},c),{},{registered:n})),b.onAuthStateChanged((function(t){t&&t.getIdToken(!0).then((function(t){fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(e,"/userData.json?auth=").concat(t),{method:"PUT",body:JSON.stringify(Object(d.a)(Object(d.a)({},c),{},{registered:n})),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}))})))}})).catch((function(e){return console.log(e)}))},setUserObj:i,login:function(e,t){console.log("signin"),x(e),console.log(e),localStorage.setItem("token",e),localStorage.setItem("expirationTime",t);var n=f(t);D.current=setTimeout(w,n)},logout:w,handleOverlay:function(){I(!C)}};return Object(h.jsx)(O.Provider,{value:S,children:e.children})},x=O,v=n(8),k=n.n(v),y=Object(c.forwardRef)((function(e,t){var n=e.showHide,a=Object(i.useHistory)();Object(c.useEffect)((function(){console.log(t),t.current.nextSibling.id.includes("tagsCnt")?t.current.nextSibling.style.cssText+=";margin-top:2rem !important;":t.current.nextSibling.children[0].style.cssText+=";margin-top:2rem !important;"})),Object(c.useEffect)((function(){var e=document.getElementsByTagName("html");e[0].style.scrollBehavior="smooth",setTimeout((function(){window.scrollTo(0,0),e[0].style.scrollBehavior="auto"}),50)}),[]);var o=function(e){n(!1),a.location.pathname===e?t.current.nextSibling.children[0].style.cssText+=";margin-top:10rem !important;":t.current.nextSibling.id.includes("tagsCnt")&&(t.current.nextSibling.style.cssText+=";margin-top:7.5rem !important;")};return Object(h.jsxs)("div",{id:k.a.dropdown,ref:t,children:[Object(h.jsxs)("div",{className:k.a.dropdownColumn,children:[Object(h.jsx)("div",{className:k.a.dropdownItemHeader,children:Object(h.jsxs)(r.b,{onClick:function(){return o("/")},to:"/",children:[Object(h.jsx)("span",{id:k.a.po\u010detna}),Object(h.jsx)("h3",{children:"Naslovnica"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/najnovije",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Najnovije"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){o()},to:"/naj\u010ditanije",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Naj\u010ditanije"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){o()},to:"/popularno",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Popularno"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){o()},to:"/vremenska prognoza",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Vremenska prognoza"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){o()},to:"/Dojavi vijest",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Dojavi vijest"})]})}),Object(h.jsxs)("div",{className:k.a.dropdownColumnItem,children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Forum"})]})]}),Object(h.jsxs)("div",{className:k.a.dropdownColumn,children:[Object(h.jsx)("div",{className:k.a.dropdownItemHeader,children:Object(h.jsxs)(r.b,{onClick:function(){return o("/Vijesti")},to:"/Vijesti",children:[Object(h.jsx)("span",{id:k.a.vijesti}),Object(h.jsx)("h3",{children:"Vijesti"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Vijesti/BiH",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"BiH"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Vijesti/Regija",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Regija"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Vijesti/Svijet",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Svijet"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Vijesti/Dijaspora",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Dijaspora"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Vijesti/Crna hronika",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Crna hronika"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Vijesti/Humanitarne akcije",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Humanitarne akcije"})]})})]}),Object(h.jsxs)("div",{className:k.a.dropdownColumn,children:[Object(h.jsx)("div",{className:k.a.dropdownItemHeader,children:Object(h.jsxs)(r.b,{onClick:function(){return o("/Biznis")},to:"/Biznis",children:[Object(h.jsx)("span",{id:k.a.biznis}),Object(h.jsx)("h3",{children:"Biznis"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Biznis/Privreda",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Privreda"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Biznis/Finansije",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Finansije"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Biznis/Investicije",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Investicije"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Biznis/Smart Cash",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Smart Cash"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Biznis/Berza",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Berza"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Biznis/Startupi",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Startupi"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Biznis/Posao",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Posao"})]})})]}),Object(h.jsxs)("div",{className:k.a.dropdownColumn,children:[Object(h.jsx)("div",{className:k.a.dropdownItemHeader,children:Object(h.jsxs)(r.b,{onClick:function(){return o("/Sport")},to:"/Sport",children:[Object(h.jsx)("span",{id:k.a.sport}),Object(h.jsx)("h3",{children:"Sport"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Sport/Nogomet",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Nogomet"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Sport/Ko\u0161arka",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Ko\u0161arka"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Sport/Tenis",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Tenis"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Sport/Rukomet",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Rukomet"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Sport/Formula 1",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Formula 1"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Sport/Skijanje",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Skijanje"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Sport/Atletika",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Atletika"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Sport/Borila\u010dki sportovi",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Borila\u010dki sportovi"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Sport/Plivanje",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Plivanje"})]})})]}),Object(h.jsxs)("div",{className:k.a.dropdownColumn,children:[Object(h.jsx)("div",{className:k.a.dropdownItemHeader,children:Object(h.jsxs)(r.b,{onClick:function(){return o("/Magazin")},to:"/Magazin",children:[Object(h.jsx)("span",{id:k.a.magazin}),Object(h.jsx)("h3",{children:"Magazin"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Magazin/Kultura",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Kultura"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Magazin/Muzika",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Muzika"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Magazin/Film-TV",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Film/TV"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Magazin/Showbiz",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Showbiz"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Magazin/Zanimljivosti",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Zanimljivosti"})]})})]}),Object(h.jsxs)("div",{className:k.a.dropdownColumn,children:[Object(h.jsx)("div",{className:k.a.dropdownItemHeader,children:Object(h.jsxs)(r.b,{onClick:function(){return o("/Lifestyle")},to:"/Lifestyle",children:[Object(h.jsx)("span",{id:k.a.lifestyle}),Object(h.jsx)("h3",{children:"Lifestyle"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Lifestyle/Moda i ljepota",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Moda i ljepota"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Lifestyle/Zdravlje",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Zdravlje"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Lifestyle/Veze i seks",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Veze i seks"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Lifestyle/Gastro",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Gastro"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Lifestyle/Ku\u0107a i ured",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Ku\u0107a i ured"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Lifestyle/Putovanja",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Putovanja"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Lifestyle/Bebe",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Bebe"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Lifestyle/Fitness",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Fitness"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Lifestyle/Ljubimci",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Ljubimci"})]})})]}),Object(h.jsxs)("div",{className:k.a.dropdownColumn,children:[Object(h.jsx)("div",{className:k.a.dropdownItemHeader,children:Object(h.jsxs)(r.b,{onClick:function(){return o("/Scitech")},to:"/Scitech",children:[Object(h.jsx)("span",{id:k.a.scitech}),Object(h.jsx)("h3",{children:"Scitech"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Scitech/Nauka",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Nauka"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Scitech/Tehnologija",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Tehnologija"})]})})]}),Object(h.jsxs)("div",{className:k.a.dropdownColumn,children:[Object(h.jsx)("div",{className:k.a.dropdownItemHeader,children:Object(h.jsxs)(r.b,{onClick:function(){return o("/Auto")},to:"/Auto",children:[Object(h.jsx)("span",{id:k.a.auto}),Object(h.jsx)("h3",{children:"Auto"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Auto/Testovi",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Testovi"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Auto/Noviteti",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Noviteti"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Auto/Koncepti",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Koncepti"})]})}),Object(h.jsx)("div",{className:k.a.dropdownColumnItem,children:Object(h.jsxs)(r.b,{onClick:function(){return o()},to:"/Auto/Tuning",children:[Object(h.jsx)("span",{}),Object(h.jsx)("p",{children:"Tuning"})]})})]})]})})),_=n(21),C=n.n(_),I=n(72),D=n.n(I),w=function(){var e=Object(c.useRef)(),t=Object(i.useHistory)();Object(c.useEffect)((function(){e.current.focus()}),[]);return Object(h.jsxs)("div",{id:D.a.searchCnt,children:[Object(h.jsx)("i",{class:"fas fa-search"}),Object(h.jsx)("input",{onKeyDown:function(e){var n=e.target.value;13===e.keyCode&&n.length>=3&&t.push("/pretraga?q=".concat(n))},ref:e,placeholder:"pretra\u017ei"})]})},S=function(){var e=Object(c.useContext)(x),t=(e.isLoggedIn,Object(c.useRef)()),n=Object(c.useRef)(),a=Object(c.useState)(!1),o=Object(l.a)(a,2),s=o[0],i=o[1],d=Object(c.useState)(!1),j=Object(l.a)(d,2),u=j[0],m=j[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("header",{id:C.a.navHeader,ref:n,children:[u?Object(h.jsx)(w,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{id:C.a.logo,children:Object(h.jsx)(r.b,{onClick:function(){return i(!1)},to:"/",children:Object(h.jsxs)("svg",{className:"".concat(C.a.wlogo," ").concat(C.a.hlogo),id:"logo","data-name":"logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 57.93 24",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("style",{dangerouslySetInnerHTML:{__html:".cls-1{fill:#1599c9;}.cls-2,.cls-3{fill:#6a696e;}.cls-3{fill-rule:evenodd;}"}})}),Object(h.jsx)("title",{children:"Klix logo"}),Object(h.jsx)("polygon",{className:"cls-1",points:"42.81 4.37 38.48 8.69 43.98 14.18 38.48 19.68 42.81 24 52.63 14.18 42.81 4.37"}),Object(h.jsx)("rect",{className:"cls-2",x:"29.44",y:"4.74",width:"6.32",height:"18.95"}),Object(h.jsx)("rect",{className:"cls-2",x:"20.33",width:"6.32",height:"23.68"}),Object(h.jsx)("rect",{className:"cls-2",width:"6.32",height:"23.68"}),Object(h.jsx)("polygon",{className:"cls-3",points:"17.86 8.76 13.58 4.47 8.08 9.97 3.8 14.25 8.08 18.54 13.24 23.7 17.53 23.7 17.53 19.41 12.37 14.25 17.86 8.76"}),Object(h.jsx)("polygon",{className:"cls-2",points:"57.93 8.69 53.18 13.56 48.86 9.24 53.6 4.37 57.93 8.69"}),Object(h.jsx)("polygon",{className:"cls-2",points:"48.86 19.12 53.6 24 57.93 19.68 53.18 14.8 48.86 19.12"})]})})}),Object(h.jsxs)("ul",{id:C.a.headerUl,children:[Object(h.jsx)("li",{children:Object(h.jsxs)(r.b,{onClick:function(){return i(!1)},to:{pathname:"/Vijesti"},children:[Object(h.jsx)("span",{className:C.a.box}),"Vijesti"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(r.b,{onClick:function(){return i(!1)},to:{pathname:"/Biznis"},children:[Object(h.jsx)("span",{className:C.a.box}),"Biznis"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(r.b,{onClick:function(){return i(!1)},to:{pathname:"/Sport"},children:[Object(h.jsx)("span",{className:C.a.box}),"Sport"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(r.b,{onClick:function(){return i(!1)},to:{pathname:"/Magazin"},children:[Object(h.jsx)("span",{className:C.a.box}),"Magazin"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(r.b,{onClick:function(){return i(!1)},to:{pathname:"/Lifestyle"},children:[Object(h.jsx)("span",{className:C.a.box}),"Lifestyle"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(r.b,{onClick:function(){return i(!1)},to:{pathname:"/Scitech"},children:[Object(h.jsx)("span",{className:C.a.box}),"Scitech"]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(r.b,{onClick:function(){return i(!1)},to:{pathname:"/Auto"},children:[Object(h.jsx)("span",{className:C.a.box}),"Auto"]})}),Object(h.jsxs)("li",{children:[Object(h.jsx)("span",{className:C.a.box}),"Forum"]})]})]}),Object(h.jsxs)("div",{id:C.a.bundle,children:[u?Object(h.jsx)("i",{onClick:function(){return m((function(e){return!e}))},class:"fas fa-times",style:{fontSize:"2rem"}}):Object(h.jsx)("i",{onClick:function(){return m((function(e){return!e}))},class:"fas fa-search"}),u?null:Object(h.jsxs)(r.b,{onClick:function(){return i(!1)},to:e.user.displayName?"/profil/".concat(e.user.displayName):"/login",children:[!e.isLoggedIn&&Object(h.jsx)("i",{class:"far fa-user"}),e.isLoggedIn&&Object(h.jsx)("i",{class:"fas fa-user",style:{backgroundColor:"#".concat(e.user.avatarColor),color:"#fff",padding:".7rem",borderRadius:".3rem",fontSize:"1.3rem"}})]}),s?Object(h.jsx)("i",{style:{fontSize:"2rem"},onClick:function(){i((function(e){return!e})),n.current.nextSibling.nextSibling.id.includes("tagsCnt")?(n.current.nextSibling.nextSibling.removeAttribute("style"),n.current.nextSibling.nextSibling.setAttribute("style","margin-top: 7.5rem !important;")):n.current.nextSibling.nextSibling.id.includes("borderTwo")?n.current.nextSibling.nextSibling.style.margin="10rem auto 5rem":(console.log(n.current.nextSibling.nextSibling.children[0]),n.current.nextSibling.nextSibling.children[0].removeAttribute("style"),n.current.nextSibling.nextSibling.children[0].setAttribute("style","margin-top: 10rem;"))},class:"fas fa-times"}):Object(h.jsx)("i",{onClick:function(){i((function(e){return!e})),n.current.nextSibling.id.includes("borderTwo")&&(n.current.nextSibling.style.margin="2rem auto 5rem")},class:"fas fa-bars"})]})]}),s&&Object(h.jsx)(y,{showHide:i,ref:t})]})},N=n(6),B=n(28),T=n.n(B),A=n(7),L=n.n(A),P=n(14),R=n.n(P),E=n(20),F=n(52),M=n(112),H=n(12),z=n.n(H),J=n(73),U=n.n(J),K=function(e,t){var n=Object(c.useContext)(x);return Object(c.useEffect)((function(){}),[]),Object(h.jsx)("div",{id:U.a.overlay,onClick:function(t){var c=t.target.id;n.overlay&&c.includes("overlay")||n.overlay&&"Ne"===t.target.textContent?n.handleOverlay():n.overlay&&"Da"===t.target.textContent&&(e.handleConfirm(),n.handleOverlay())},ref:t,onMouseDown:e.handleCloseOverlay,style:e.navZ&&{zIndex:1},children:e.children})},V=a.a.forwardRef(K),Y=n(63),Z=n.n(Y),G=function(e,t){return Object(h.jsxs)("div",{id:Z.a.modal,ref:t,onClick:e.handleClick,children:[Object(h.jsx)("div",{children:"Da li ste sigurni?"}),Object(h.jsxs)("div",{id:Z.a.modalBtns,children:[Object(h.jsx)("button",{children:"Da"}),Object(h.jsx)("button",{children:"Ne"})]})]})},X=a.a.forwardRef(G),q=n(41),W=n.n(q),Q=function(e,t){return Object(h.jsxs)("div",{id:W.a.progressParent,ref:t,children:[!e.articleAdded&&e.progress.map((function(e){return Object(h.jsxs)("div",{className:W.a.progressItem,children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:e.imageName})}),Object(h.jsx)("div",{className:W.a.progressBar,children:Object(h.jsx)("div",{className:W.a.currentProgress})}),Object(h.jsx)("div",{className:W.a.done,children:Object(h.jsx)("i",{class:"fas fa-check"})})]},Object(M.a)())})),e.articleAdded&&Object(h.jsxs)("div",{id:W.a.finished,children:[Object(h.jsx)("h3",{children:"\u010clanak je uspje\u0161no postavljen u bazu podataka."}),Object(h.jsx)("button",{children:"Ok"})]})]})},$=a.a.forwardRef(Q),ee=n(64),te={"po\u010detna":["Vijesti","Biznis","Sport","Magazin","Lifestyle","Auto","Scitech"],vijesti:["BiH","Regija","Svijet","Dijaspora","Crna hronika","Humanitarne akcije"],biznis:["Privreda","Finansije","Investicije","Smart Cash","Berza","Startupi","Posao"],sport:["Nogomet","Ko\u0161arka","Tenis","Rukomet","Formula 1","Skijanje","Atletika","Borila\u010dki sportovi","Plivanje"],magazin:["Kultura","Muzika","Film/TV","Showbiz","Zanimljivosti"],lifestyle:["Moda i ljepota","Zdravlje","Veze i seks","Gastro","Ku\u0107a i ured","Putovanja","Bebe","Fitness","Ljubimci"],scitech:["Nauka","Tehnologija"],auto:["Testovi","Noviteti","Koncepti","Tuning"]},ne=function(){var e=Object(c.useContext)(x),t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1],o=Object(ee.useLocation)(),s=Object(ee.useHistory)(),i=Object(c.useState)(!1),j=Object(l.a)(i,2),O=(j[0],j[1],Object(c.useState)({enter:!1,num:0})),f=Object(l.a)(O,2),p=(f[0],f[1],Object(c.useState)([])),g=Object(l.a)(p,2),v=g[0],k=g[1],y=Object(c.useState)({}),_=Object(l.a)(y,2),C=_[0],I=_[1],D=Object(c.useState)([]),w=Object(l.a)(D,2),S=w[0],B=w[1],T=Object(c.useState)(!1),A=Object(l.a)(T,2),L=(A[0],A[1]),P=Object(c.useState)([]),F=Object(l.a)(P,2),H=F[0],J=F[1],U=Object(c.useState)([]),K=Object(l.a)(U,2),Y=K[0],Z=K[1],G=Object(c.useState)(!1),q=Object(l.a)(G,2),W=q[0],Q=q[1],ne=Object(c.useState)(!1),ce=Object(l.a)(ne,2),ae=ce[0],re=ce[1],oe=Object(c.useState)([]),se=Object(l.a)(oe,2),ie=se[0],de=se[1],je=Object(c.useState)("BiH"),ue=Object(l.a)(je,2),me=ue[0],be=ue[1],he=Object(c.useState)(!1),Oe=Object(l.a)(he,2),fe=Oe[0],pe=Oe[1],ge=Object(c.useState)("ul"),xe=Object(l.a)(ge,2),ve=xe[0],ke=xe[1],ye=Object(c.useState)([]),_e=Object(l.a)(ye,2),Ce=_e[0],Ie=_e[1],De=Object(c.useState)(!1),we=Object(l.a)(De,2),Se=we[0],Ne=we[1],Be=Object(c.useState)(0),Te=Object(l.a)(Be,2),Ae=(Te[0],Te[1]),Le=Object(c.useState)(0),Pe=Object(l.a)(Le,2),Re=(Pe[0],Pe[1]),Ee=Object(c.useState)(null),Fe=Object(l.a)(Ee,2),Me=(Fe[0],Fe[1],Object(c.useState)(null)),He=Object(l.a)(Me,2),ze=(He[0],He[1],Object(c.useState)(!1)),Je=Object(l.a)(ze,2),Ue=(Je[0],Je[1],Object(c.useRef)(!1)),Ke=Object(c.useRef)(),Ve=Object(c.useRef)(),Ye=Object(c.useRef)(),Ze=Object(c.useRef)(),Ge=(Object(c.useRef)(),Object(c.useRef)()),Xe=Object(c.useRef)(),qe=Object(c.useRef)(),We=Object(c.useRef)(),Qe=Object(c.useRef)(),$e=Object(c.useRef)(),et=Object(c.useRef)(),tt=Object(c.useRef)();Object(c.useRef)();Object(c.useEffect)((function(){console.log(Y)}),[Y]),Object(c.useEffect)((function(){}),[]),Object(c.useEffect)((function(){Se&&(be(o.state.articleData.subCategory),Ne(!1)),console.log(ie),console.log(Ue.current)}),[ie,Se]),Object(c.useEffect)((function(){o.state&&function(){alert("locationhere"),console.log(o);var e=o.state.articleData,t=le(e.date);console.log(t),Xe.current.children[0].value=e.title,Xe.current.children[1].value=e.sponsored&&"PROMO"!==e.subTitle?"PROMO ".concat(e.subTitle):e.sponsored&&"PROMO"===e.subTitle?"PROMO":e.subTitle,e.sponsored&&(et.current.children[0].children[1].disabled=!0,et.current.children[1].children[1].disabled=!0),Ye.current.value=e.articleText,e.tags&&J(Object(N.a)(e.tags)),e.listOrder&&Ie(Object(N.a)(e.listOrder)),"Da"===e.commentsAllowed?et.current.children[0].children[1].checked=!0:et.current.children[1].children[1].checked=!0,console.log(te[e.category.toLowerCase()]),console.log(e.subCategory),We.current.value=e.category;var n=new Event("change",{bubbles:!0});if(We.current.dispatchEvent(n),Ne(!0),"string"===typeof e.imageText)qe.current.value=e.imageText;else{var c="";e.imageText.forEach((function(t,n){c=n!==e.imageText.length-1?c.concat("".concat(t[1]," || ")):c.concat("".concat(t[1]))})),qe.current.value=c}var a=[],r=[];e.imageText.forEach((function(e,t){a.push({url:e[0],checked:"false",name:e[2]?e[2]:"random".concat(t)})}));for(var s=0;s<a.length;s++)!function(){var e=Object(E.a)(R.a.mark((function e(t){var n,c,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a[t].url);case 2:return n=e.sent,e.next=5,n.blob();case 5:c=e.sent,o=new File([c],a[t].name,{type:c.type}),r[t]=o,t===a.length-1&&k(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s);a.forEach((function(e,t){})),I([].concat(a))}()}),[o]);var nt=function(e){var t=Ye.current.selectionStart,n=(Ye.current.selectionEnd,Ye.current.value),c=0;switch(e){case"bold":for(var a=0;a<n.length;a++)if("<"===n[a]&&"b"===n[a+1]&&">"===n[a+2])c=a;else if("<"===n[a]&&"/"===n[a+1]&&"b"===n[a+2]&&t>=c+1&&t<=a+3)return!0;break;case"list":for(var r=0;r<n.length;r++)if("<"===n[r]&&"l"===n[r+1]&&"i"===n[r+2]&&"s"===n[r+3]&&"t"===n[r+4]&&">"===n[r+5])c=r;else{if("<"===n[r]&&"/"===n[r+1]&&"l"===n[r+2]&&"i"===n[r+3]&&"s"===n[r+4]&&"t"===n[r+5]&&">"===n[r+6]&&t>=c+6&&t<=r){for(var o=0,s=c+6;s<r;s++){if("<"===n[s]&&"b"===n[s+1]&&">"===n[s+2])o=s+1;else if("<"===n[s]&&"/"===n[s+1]&&"b"===n[s+2]&&">"===n[s+3]&&t>=o&&t<=s+3)return"dontAllow";if("<"===n[s]&&"l"===n[s+1]&&"i"===n[s+2]&&"n"===n[s+3]&&"k"===n[s+4]&&">"===n[s+5])o=s+1;else if("<"===n[s]&&"/"===n[s+1]&&"l"===n[s+2]&&"i"===n[s+3]&&"n"===n[s+4]&&"k"===n[s+5]&&">"===n[s+6]&&t>=o&&t<=s+6)return"dontAllow"}return"betweenTags"}if("<"===n[r]&&"/"===n[r+1]&&"l"===n[r+2]&&"i"===n[r+3]&&"s"===n[r+4]&&"t"===n[r+5]&&">"===n[r+6]&&t>=c+1&&t<=r+6)return!0}break;case"embed":for(var i=0;i<n.length;i++)if("<"===n[i]&&"e"===n[i+1]&&"m"===n[i+2]&&"b"===n[i+3])c=i;else if("<"===n[i]&&"/"===n[i+1]&&"e"===n[i+2]&&t>=c+1&&t<=i+7)return!0;break;case"link":for(var l=0;l<n.length;l++)if("<"===n[l]&&"l"===n[l+1]&&"i"===n[l+2]&&"n"===n[l+3])c=l;else if("<"===n[l]&&"/"===n[l+1]&&"l"===n[l+2]&&"i"===n[l+3]&&"n"===n[l+4]&&"k"===n[l+5]&&t>=c+1&&t<=l+6)return!0}},ct=function(e){var t=Ye.current.selectionStart,n=Ye.current.selectionEnd,c=Ye.current.value,a=0;switch(e){case"bold":for(var r=0;r<c.length;r++)if("<"===c[r]&&"b"===c[r+1]&&">"===c[r+2])a=r;else if("<"===c[r]&&"/"===c[r+1]&&"b"===c[r+2]&&">"===c[r+3]&&t>=a&&t<=r+3||"<"===c[r]&&"/"===c[r+1]&&"b"===c[r+2]&&">"===c[r+3]&&n>=a+1&&n<=r+4||"<"===c[r]&&"/"===c[r+1]&&"b"===c[r+2]&&">"===c[r+3]&&t<a&&n>r+4)return!0;break;case"list":for(var o=0;o<c.length;o++)if("<"===c[o]&&"l"===c[o+1]&&"i"===c[o+2]&&"s"===c[o+3]&&"t"===c[o+4]&&">"===c[o+5])a=o;else{if("<"===c[o]&&"/"===c[o+1]&&"l"===c[o+2]&&"i"===c[o+3]&&"s"===c[o+4]&&"t"===c[o+5]&&">"===c[o+6]&&t>=a+6&&n<=o){for(var s=0,i=a+7;i<o;i++){if("<"===c[i]&&"b"===c[i+1]&&">"===c[i+2])s=i;else if("<"===c[i]&&"/"===c[i+1]&&"b"===c[i+2]&&">"===c[i+3]&&t>=s&&t<=i+3||"<"===c[i]&&"/"===c[i+1]&&"b"===c[i+2]&&">"===c[i+3]&&n>=s+1&&n<=i+4||"<"===c[i]&&"/"===c[i+1]&&"b"===c[i+2]&&">"===c[i+3]&&t<s&&n>i+4)return"notAllowed";if("<"===c[i]&&"l"===c[i+1]&&"i"===c[i+2]&&"n"===c[i+3]&&"k"===c[i+4]&&">"===c[i+5])s=i;else if("<"===c[i]&&"/"===c[i+1]&&"l"===c[i+2]&&"i"===c[i+3]&&"n"===c[i+4]&&"k"===c[i+5]&&">"===c[i+6]&&t>=s&&t<=i+6||"<"===c[i]&&"/"===c[i+1]&&"l"===c[i+2]&&"i"===c[i+3]&&"n"===c[i+4]&&"k"===c[i+5]&&">"===c[i+6]&&n>=s+1&&n<=i+7||"<"===c[i]&&"/"===c[i+1]&&"l"===c[i+2]&&"i"===c[i+3]&&"n"===c[i+4]&&"k"===c[i+5]&&">"===c[i+6]&&t<s&&n>i+7)return"notAllowed"}return"betweenTagsSelect"}if("<"===c[o]&&"/"===c[o+1]&&"l"===c[o+2]&&"i"===c[o+3]&&"s"===c[o+4]&&"t"===c[o+5]&&">"===c[o+6]&&t>=a&&t<=o+6||"<"===c[o]&&"/"===c[o+1]&&"l"===c[o+2]&&"i"===c[o+3]&&"s"===c[o+4]&&"t"===c[o+5]&&">"===c[o+6]&&n>=a+1&&n<=o+7||"<"===c[o]&&"/"===c[o+1]&&"l"===c[o+2]&&"i"===c[o+3]&&"s"===c[o+4]&&"t"===c[o+5]&&">"===c[o+6]&&t<a&&n>o+7)return!0}break;case"embed":for(var l=0;l<c.length;l++)if("<"===c[l]&&"e"===c[l+1]&&"m"===c[l+2]&&"b"===c[l+3])a=l;else if("<"===c[l]&&"/"===c[l+1]&&"e"===c[l+2]&&"m"===c[l+3]&&"b"===c[l+4]&&t>=a+1&&t<=l+7||"<"===c[l]&&"/"===c[l+1]&&"e"===c[l+2]&&"m"===c[l+3]&&"b"===c[l+4]&&n>=a+1&&n<=l+8||"<"===c[l]&&"/"===c[l+1]&&"e"===c[l+2]&&"m"===c[l+3]&&"b"===c[l+4]&&t<a&&n>l+8)return!0;break;case"link":for(var d=0;d<c.length;d++)if("<"===c[d]&&"l"===c[d+1]&&"i"===c[d+2]&&"n"===c[d+3]&&"k"===c[d+4])a=d;else if("<"===c[d]&&"/"===c[d+1]&&"l"===c[d+2]&&"i"===c[d+3]&&"n"===c[d+4]&&">"===c[d+6]&&t>=a+1&&t<=d+6||"<"===c[d]&&"/"===c[d+1]&&"l"===c[d+2]&&"i"===c[d+3]&&"n"===c[d+4]&&">"===c[d+6]&&n>=a+1&&n<=d+7||"<"===c[d]&&"/"===c[d+1]&&"l"===c[d+2]&&"i"===c[d+3]&&"n"===c[d+4]&&">"===c[d+6]&&t<a&&n>d+7)return!0}};Object(c.useEffect)((function(){Ce&&Ce.length>0&&console.log(Ce)}),[Ce]);Object(c.useEffect)((function(){console.log(C)}),[C]),Object(c.useEffect)((function(){console.log(v)}),[v]);var at=function(e){for(var t=function(t){Ze.current.children[t].children[0].contains(e.target)&&!Ze.current.children[t].children[1].className?I((function(e){var n=Object(N.a)(e);return e.forEach((function(e,c){c===t&&(n[t].checked="true")})),n})):Ze.current.children[t].children[1].contains(e.target)&&Ze.current.children[t].children[1].className&&I((function(e){var n=Object(N.a)(e);return e.forEach((function(e,c){c===t&&(n[t].checked="false")})),n}))},n=0;n<Ze.current.children.length;n++)t(n)};Object(c.useEffect)((function(){S.length>0&&k((function(e){var t=[],n=!1;return e.forEach((function(e){S.forEach((function(c,a){c===e.name&&(n=!0),a!==S.length-1||n||(t.push(e),n=!1),a===S.length-1&&n&&(n=!1)}))})),console.log(S),console.log(t),t}))}),[S]);var rt=function(e){for(var t=function(t){Ge.current.children[t].contains(e.target)&&J((function(e){var n=Object(N.a)(e);return n.splice(t,1),n}))},n=0;n<Ge.current.children.length;n++)t(n)},ot=function(e){var t=e.toLowerCase();if("promo"===t.trim()||t.trim().includes("promo "))return!0},st=function(e,t,n){var c,a=0;if(console.log(e.length),console.log(n),"deleting"===t){for(var r=0;r<e.length;r++)if("<"===e[r]&&"l"===e[r+1]&&"i"===e[r+2]&&"s"===e[r+3]&&"t"===e[r+4]&&">"===e[r+5])c=r,a++;else if("<"===e[r]&&"/"===e[r+1]&&"l"===e[r+2]&&"i"===e[r+3]&&"s"===e[r+4]&&"t"===e[r+5]&&">"===e[r+6]&&n>c&&n<=r+6)return a}else for(var o=0;o<e.length;o++){if("<"===e[o]&&"l"===e[o+1]&&"i"===e[o+2]&&"s"===e[o+3]&&"t"===e[o+4]&&">"===e[o+5]&&a++,o===n)return a;if(o===e.length-1&&n===e.length)return a}};Object(c.useEffect)((function(){Ue.current?ae||(console.log("starting"),Xe.current.children[0].value="",Xe.current.children[1].value="",Ye.current.value="",qe.current.value="",We.current.value="Vijesti",Ge.current.previousSibling.value="",et.current.children[0].children[1].disabled=!1,et.current.children[1].children[1].disabled=!1,et.current.children[0].children[1].checked=!0,de(te.vijesti),k([]),I([]),J([]),Q(!1),Z([])):(Ue.current=!0,o.state||de(Object(N.a)(te.vijesti)))}),[ae]);var it=function(e){e.preventDefault()},lt=function(){var e=qe.current.value;"blank"===e.trim()?(e=[],C.forEach((function(t,n){e.push("blank")}))):e=e.split(" || ");var t=[];if(C.length===e.length)return C.forEach((function(n,c){""!==qe.current.value.trim()?t.push({name:n.name,captionText:e[c]}):t.push({name:n.name,captionText:""})})),console.log(t),t};return Object(h.jsxs)(h.Fragment,{children:[e.overlay&&Object(h.jsx)(V,{handleConfirm:function(){var e=[];I((function(t){var n=[];return t.forEach((function(t,c){"true"!==t.checked?n.push(t):"true"===t.checked&&e.push(t.name)})),e.length>0&&B(e),n}))},children:Object(h.jsx)(X,{})}),ae&&Object(h.jsx)(V,{ref:$e,handleCloseOverlay:function(e){($e.current.contains(e.target)&&!Qe.current.contains(e.target)&&W||Qe.current.children[0]&&Qe.current.children[0].children[1].contains(e.target)&&W)&&(re(!1),o.state&&(window.history.replaceState(null,""),s.replace("/editarticles")))},children:Object(h.jsx)($,{progress:Y,ref:Qe,articleAdded:W,location:o.state?o.state:null})}),Object(h.jsx)("div",{id:z.a.addArticle,children:Object(h.jsxs)("div",{id:z.a.addArticleBody,children:[Object(h.jsxs)("div",{id:z.a.addArticleContent,children:[Object(h.jsxs)("div",{id:z.a.addTitle,ref:Xe,children:[Object(h.jsx)("input",{type:"text",placeholder:"Naslov \u010dlanka"}),Object(h.jsx)("input",{type:"text",placeholder:"Podnaslov \u010dlanka",onChange:function(e){var t=e.target.value;(0===t.length&&(et.current.children[0].children[1].disabled=!1,et.current.children[1].children[1].disabled=!1,et.current.children[0].children[1].checked=!0),t)&&(ot(t)?(et.current.children[0].children[1].disabled=!0,et.current.children[1].children[1].disabled=!0):(et.current.children[0].children[1].disabled=!1,et.current.children[1].children[1].disabled=!1))}})]}),Object(h.jsxs)("div",{id:z.a.addText,children:[Object(h.jsxs)("div",{id:z.a.addTextHeader,children:[Object(h.jsx)("i",{class:"fas fa-chevron-down"}),"Tekst"]}),Object(h.jsxs)("div",{id:z.a.addTextBody,children:[Object(h.jsx)("div",{id:z.a.addTextBodyHeader,children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{title:"bold",onMouseDown:function(e){if(e.preventDefault(),console.log(Ye.current.selectionStart),console.log(Ye.current.selectionEnd),console.log(Ye.current.focus),document.activeElement===Ye.current&&Ye.current.selectionStart===Ye.current.selectionEnd){var t=nt("bold"),n=nt("embed"),c=nt("link"),a=nt("list");if(console.log(t),console.log(n),console.log(c),console.log(a),!t&&!n&&!c&&!a||"betweenTags"===a){var r=Ye.current.selectionStart,o=Ye.current.value.slice(0,Ye.current.selectionStart);console.log(o),o=o.concat("<b></b>");var s=Ye.current.value.slice(Ye.current.selectionStart);o=o.concat(s),Ye.current.value=o,Ye.current.selectionEnd=r+3}}else if(document.activeElement===Ye.current&&Ye.current.selectionStart!==Ye.current.selectionEnd){var i=ct("bold"),l=ct("embed"),d=ct("link"),j=ct("list");if((i||l||d||j)&&"betweenTagsSelect"!==j)(i||l||d||j)&&(Ye.current.selectionEnd=Ye.current.selectionStart);else{var u=Ye.current.selectionStart,m=Ye.current.selectionEnd,b=Ye.current.value,h=b.substring(u,m);h=h.bold(),b=b.slice(0,u)+h+b.slice(m),Ye.current.value=b,Ye.current.selectionEnd=m+3}}},children:"B"}),Object(h.jsxs)("li",{title:"list",onMouseDown:function(e){e.preventDefault();var t="";"I"===e.target.tagName?t=e.target.className.includes("ul")?"ul":"ol":(e.target.id.includes("listOl")||"LI"===e.target.tagName)&&(t=e.target.children[0].className.includes("ul")?"ul":"ol");var n=st(Ye.current.value,"adding",Ye.current.selectionStart);if(document.activeElement===Ye.current&&Ye.current.selectionStart===Ye.current.selectionEnd){var c=nt("bold"),a=nt("embed"),r=nt("link"),o=nt("list");if(!c&&!a&&!r&&!o){var s=Ye.current.selectionStart,i=Ye.current.value.slice(0,Ye.current.selectionStart);console.log(i),i=i.concat("<list></list>");var l=Ye.current.value.slice(Ye.current.selectionStart);i=i.concat(l),Ye.current.value=i,Ye.current.selectionEnd=s+6,Ie((function(c){console.log(e.target);var a=Object(N.a)(c);return console.log(a),a.splice(n,0,t),console.log(a),a}))}}else if(document.activeElement===Ye.current&&Ye.current.selectionStart!==Ye.current.selectionEnd){var d=ct("bold"),j=ct("embed"),u=ct("link"),m=ct("list");if(d||j||u||m)(d||j||u||m)&&(Ye.current.selectionEnd=Ye.current.selectionStart);else{var b=Ye.current.selectionStart,h=Ye.current.selectionEnd,O=Ye.current.value,f=O.substring(b,h);f="<list>".concat(f,"</list>"),O=O.slice(0,b)+f+O.slice(h),Ye.current.value=O,Ye.current.selectionEnd=h+6,Ie((function(c){console.log(e.target);var a=Object(N.a)(c);return a.splice(n,0,t),a}))}}},onMouseEnter:function(){pe(!0)},onMouseLeave:function(){pe(!1)},children:["ul"===ve?Object(h.jsx)("i",{class:"fas fa-list-ul"}):Object(h.jsx)("i",{class:"fas fa-list-ol"}),fe&&Object(h.jsx)("div",{id:z.a.listOl,onMouseDown:function(){ke((function(e){return"ul"===e?"ol":"ul"}))},children:"ul"===ve?Object(h.jsx)("i",{class:"fas fa-list-ol"}):Object(h.jsx)("i",{class:"fas fa-list-ul"})})]}),Object(h.jsx)("li",{title:"embed",onMouseDown:function(e){if(e.preventDefault(),document.activeElement===Ye.current&&Ye.current.selectionStart===Ye.current.selectionEnd){var t=nt("bold"),n=nt("embed"),c=nt("link"),a=nt("list");if(t||n||c||a)(t||n||c||a)&&(alert("hey"),setTimeout((function(){Ye.current.focus(),Ye.current.selectionEnd=Ye.current.selectionStart}),1));else{var r=Ye.current.selectionStart,o=Ye.current.value.slice(0,Ye.current.selectionStart);console.log(o),o=o.concat("<embed></embed>");var s=Ye.current.value.slice(Ye.current.selectionStart);o=o.concat(s),Ye.current.value=o,Ye.current.selectionEnd=r+7,setTimeout((function(){Ye.current.focus()}),1)}}else if(document.activeElement===Ye.current&&Ye.current.selectionStart!==Ye.current.selectionEnd){var i=Ye.current.selectionStart,l=Ye.current.selectionEnd,d=ct("bold"),j=ct("embed"),u=ct("link"),m=ct("list");if(d||j||u||m)(d||j||u||m)&&setTimeout((function(){Ye.current.focus(),Ye.current.selectionEnd=i}),1);else{var b=Ye.current.value,h=b.substring(i,l);h="<embed>".concat(h,"</embed>"),console.log(h),b=b.slice(0,i)+h+b.slice(l),Ye.current.value=b,Ye.current.selectionEnd=l+7,setTimeout((function(){Ye.current.focus()}),1)}}},children:"<>"}),Object(h.jsx)("li",{title:"link",onMouseDown:function(e){if(e.preventDefault(),document.activeElement===Ye.current&&Ye.current.selectionStart===Ye.current.selectionEnd){var t=nt("bold"),n=nt("embed"),c=nt("link"),a=nt("list");if((t||n||c||a)&&"betweenTags"!==a)(t||n||c||a)&&setTimeout((function(){Ye.current.focus(),Ye.current.selectionEnd=Ye.current.selectionStart}),1);else{var r=Ye.current.selectionStart,o=Ye.current.value.slice(0,Ye.current.selectionStart);console.log(o),o=o.concat("<link></link>");var s=Ye.current.value.slice(Ye.current.selectionStart);o=o.concat(s),Ye.current.value=o,Ye.current.selectionEnd=r+6,setTimeout((function(){Ye.current.focus()}),1)}}else if(document.activeElement===Ye.current&&Ye.current.selectionStart!==Ye.current.selectionEnd){var i=ct("bold"),l=ct("embed"),d=ct("link"),j=ct("list");if((i||l||d||j)&&"betweenTagsSelect"!==j)(i||l||d||j)&&setTimeout((function(){Ye.current.focus(),Ye.current.selectionEnd=Ye.current.selectionStart}),1);else{var u=Ye.current.selectionStart,m=Ye.current.selectionEnd,b=Ye.current.value,h=b.substring(u,m);h="<link>".concat(h,"</link>"),b=b.slice(0,u)+h+b.slice(m),Ye.current.value=b,Ye.current.selectionEnd=m+6,setTimeout((function(){Ye.current.focus()}),1)}}},children:Object(h.jsx)("i",{class:"fas fa-link"})})]})}),Object(h.jsx)("div",{id:z.a.addTextBodyBody,children:Object(h.jsx)("textarea",{ref:Ye,onKeyDown:function(e){var t=Ye.current.value,n=Ye.current.selectionStart,c=Ye.current.selectionEnd,a=null,r=!1;if(13===e.keyCode)for(var o=0;o<t.length;o++){if("<"!==t[o]||"b"!==t[o+1]||">"!==t[o+2]||r){if("<"===t[o]&&"/"===t[o+1]&&"b"===t[o+2]&&">"===t[o+3]&&n<=o+3&&n>a)return Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100),void(a=0)}else a=o;if("<"===t[o]&&"l"===t[o+1]&&"i"===t[o+2]&&"s"===t[o+3]&&"t"===t[o+4]&&">"===t[o+5])a=o,r=!0;else if("<"===t[o]&&"/"===t[o+1]&&"l"===t[o+2]&&"i"===t[o+3]&&"s"===t[o+4]&&"t"===t[o+5]&&">"===t[o+6]){if(n<=o+6&&n>a)return Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100),void(a=0);r=!1}if("<"===t[o]&&"e"===t[o+1]&&"m"===t[o+2]&&"b"===t[o+3]&&"e"===t[o+4]&&"d"===t[o+5]&&">"===t[o+6])a=o;else if("<"===t[o]&&"/"===t[o+1]&&"e"===t[o+2]&&"m"===t[o+3]&&"b"===t[o+4]&&"e"===t[o+5]&&"d"===t[o+6]&&">"===t[o+7]&&n<=o+7&&n>a)return Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100),void(a=0);if("<"!==t[o]||"l"!==t[o+1]||"i"!==t[o+2]||"n"!==t[o+3]||"k"!==t[o+4]||">"!==t[o+5]||r){if("<"===t[o]&&"/"===t[o+1]&&"l"===t[o+2]&&"i"===t[o+3]&&"n"===t[o+4]&&"k"===t[o+5]&&">"===t[o+6]){if(n<=o+6&&n>a)return Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100),void(a=0);r=!1}}else a=o,r=!0}if(46!==e.keyCode&&37!==e.keyCode&&38!==e.keyCode&&39!==e.keyCode&&40!==e.keyCode&&35!==e.keyCode&&36!==e.keyCode)for(var s=0;s<t.length;s++)("<"===t[s]&&"b"===t[s+1]&&">"===t[s+2]&&n<[s+3]&&n>=[s+1]||"<"===t[s]&&"/"===t[s+1]&&"b"===t[s+2]&&">"===t[s+3]&&n<[s+4]&&n>=[s+1]||"<"===t[s]&&"l"===t[s+1]&&"i"===t[s+2]&&"s"===t[s+3]&&"t"===t[s+4]&&">"===t[s+5]&&n<[s+6]&&n>=[s+1]||"<"===t[s]&&"/"===t[s+1]&&"l"===t[s+2]&&"i"===t[s+3]&&"s"===t[s+4]&&"t"===t[s+5]&&">"===t[s+6]&&n<[s+7]&&n>=[s+1]||"<"===t[s]&&"e"===t[s+1]&&"m"===t[s+2]&&"b"===t[s+3]&&"e"===t[s+4]&&"d"===t[s+5]&&">"===t[s+6]&&n<[s+7]&&n>=[s+1]||"<"===t[s]&&"/"===t[s+1]&&"e"===t[s+2]&&"m"===t[s+3]&&"b"===t[s+4]&&"e"===t[s+5]&&"d"===t[s+6]&&">"===t[s+7]&&n<[s+8]&&n>=[s+1]||"<"===t[s]&&"l"===t[s+1]&&"i"===t[s+2]&&"n"===t[s+3]&&"k"===t[s+4]&&">"===t[s+5]&&n<[s+6]&&n>=[s+1]||"<"===t[s]&&"/"===t[s+1]&&"l"===t[s+2]&&"i"===t[s+3]&&"n"===t[s+4]&&"k"===t[s+5]&&">"===t[s+6]&&n<[s+7]&&n>=[s+1])&&(Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100));else 46===e.keyCode&&function(){var e=0,a=0,r=0,o=st(t,"deleting",n);console.log(o),alert(o);for(var s=0;s<t.length;s++){if("<"===t[s]&&"b"===t[s+1]&&">"===t[s+2]&&n===s&&c===s||"<"===t[s]&&"/"===t[s+1]&&"b"===t[s+2]&&">"===t[s+3]&&n===s&&c===s){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}if("<"===t[s]&&"e"===t[s+1]&&"m"===t[s+2]&&"b"===t[s+3]&&"e"===t[s+4]&&"d"===t[s+5]&&">"===t[s+6]&&n===s&&c===s||"<"===t[s]&&"/"===t[s+1]&&"e"===t[s+2]&&"m"===t[s+3]&&"b"===t[s+4]&&"e"===t[s+5]&&"d"===t[s+6]&&">"===t[s+7]&&n===s&&c===s){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}if("<"===t[s]&&"l"===t[s+1]&&"i"===t[s+2]&&"n"===t[s+3]&&"k"===t[s+4]&&">"===t[s+5]&&n===s&&c===s||"<"===t[s]&&"/"===t[s+1]&&"l"===t[s+2]&&"i"===t[s+3]&&"n"===t[s+4]&&"k"===t[s+5]&&">"===t[s+6]&&n===s&&c===s){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}if("<"===t[s]&&"l"===t[s+1]&&"i"===t[s+2]&&"s"===t[s+3]&&"t"===t[s+4]&&">"===t[s+5]&&n===s&&c===s||"<"===t[s]&&"/"===t[s+1]&&"l"===t[s+2]&&"i"===t[s+3]&&"s"===t[s+4]&&"t"===t[s+5]&&">"===t[s+6]&&n===s&&c===s){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}if("<"===t[s]&&"b"===t[s+1]&&">"===t[s+2]&&n<[s+3]&&n>=[s]){e=s,a=s+3;for(var i=Ye.current.value.split(""),l=Ye.current.value.split(""),d=Ye.current.value.split(""),j=s;j<t.length;j++)if("<"===t[j]&&"/"===t[j+1]&&"b"===t[j+2]&&">"===t[j+3]){var u=i.splice(0,e),m=l.slice(a,j),b=d.splice(j+4);console.log(u),console.log(m),console.log(b);var h=[u.join(""),m.join(""),b.join("")];h=h.join(""),Ye.current.value=h;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}else if("<"===t[s]&&"/"===t[s+1]&&"b"===t[s+2]&&">"===t[s+3]&&n<[s+4]&&n>=[s+1]){e=s,a=s+3;for(var O=Ye.current.value.split(""),f=Ye.current.value.split(""),p=Ye.current.value.split(""),g=s;g>=0;g--)if("<"===t[g]&&"b"===t[g+1]&&">"===t[g+2]){var x=O.splice(0,g),v=f.slice(g+3,e),k=p.splice(e+4);console.log(x),console.log(v),console.log(k);var y=[x.join(""),v.join(""),k.join("")];y=y.join(""),Ye.current.value=y;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}else if("<"===t[s]&&"e"===t[s+1]&&"m"===t[s+2]&&"b"===t[s+3]&&"e"===t[s+4]&&"d"===t[s+5]&&">"===t[s+6]&&n<[s+7]&&n>=[s]){e=s,a=s+7;for(var _=Ye.current.value.split(""),C=Ye.current.value.split(""),I=Ye.current.value.split(""),D=s;D<t.length;D++)if("<"===t[D]&&"/"===t[D+1]&&"e"===t[D+2]&&"m"===t[D+3]&&"b"===t[D+4]&&"e"===t[D+5]&&"d"===t[D+6]&&">"===t[D+7]){var w=_.splice(0,e),S=C.slice(a,D),B=I.splice(D+8),T=[w.join(""),S.join(""),B.join("")];T=T.join(""),Ye.current.value=T;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}else if("<"===t[s]&&"/"===t[s+1]&&"e"===t[s+2]&&"m"===t[s+3]&&"b"===t[s+4]&&"e"===t[s+5]&&"d"===t[s+6]&&">"===t[s+7]&&n<[s+8]&&n>=[s+1]){e=s,a=s+3;for(var A=Ye.current.value.split(""),L=Ye.current.value.split(""),P=Ye.current.value.split(""),R=s;R>=0;R--)if("<"===t[R]&&"e"===t[R+1]&&"m"===t[R+2]&&"b"===t[R+3]&&"e"===t[R+4]&&"d"===t[R+5]&&">"===t[R+6]){var E=A.splice(0,R),F=L.slice(R+7,e),M=P.splice(e+8);console.log(E),console.log(F),console.log(M);var H=[E.join(""),F.join(""),M.join("")];H=H.join(""),Ye.current.value=H;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}else if("<"===t[s]&&"l"===t[s+1]&&"i"===t[s+2]&&"n"===t[s+3]&&"k"===t[s+4]&&">"===t[s+5]&&n<[s+6]&&n>=[s]){e=s,a=s+6;for(var z=Ye.current.value.split(""),J=Ye.current.value.split(""),U=Ye.current.value.split(""),K=s;K<t.length;K++)if("<"===t[K]&&"/"===t[K+1]&&"l"===t[K+2]&&"i"===t[K+3]&&"n"===t[K+4]&&"k"===t[K+5]&&">"===t[K+6]){var V=z.splice(0,e),Y=J.slice(a,K),Z=U.splice(K+7),G=[V.join(""),Y.join(""),Z.join("")];G=G.join(""),Ye.current.value=G;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}else if("<"===t[s]&&"/"===t[s+1]&&"l"===t[s+2]&&"i"===t[s+3]&&"n"===t[s+4]&&"k"===t[s+5]&&">"===t[s+6]&&n<[s+7]&&n>=[s+1]){e=s,a=s+3;for(var X=Ye.current.value.split(""),q=Ye.current.value.split(""),W=Ye.current.value.split(""),Q=s;Q>=0;Q--)if("<"===t[Q]&&"l"===t[Q+1]&&"i"===t[Q+2]&&"n"===t[Q+3]&&"k"===t[Q+4]&&">"===t[Q+5]){var $=X.splice(0,Q),ee=q.slice(Q+6,e),te=W.splice(e+7);console.log($),console.log(ee),console.log(te);var ne=[$.join(""),ee.join(""),te.join("")];ne=ne.join(""),Ye.current.value=ne;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}else if("<"===t[s]&&"l"===t[s+1]&&"i"===t[s+2]&&"s"===t[s+3]&&"t"===t[s+4]&&">"===t[s+5]&&n<[s+6]&&n>=[s]){e=s,a=s+6;for(var ce=Ye.current.value.split(""),ae=Ye.current.value.split(""),re=Ye.current.value.split(""),oe=0;oe<s;oe++)"<"===t[oe]&&"l"===t[oe+1]&&"i"===t[oe+2]&&"s"===t[oe+3]&&"t"===t[oe+4]&&">"===t[oe+5]&&r++;for(var se=s;se<t.length;se++)if("<"===t[se]&&"/"===t[se+1]&&"l"===t[se+2]&&"i"===t[se+3]&&"s"===t[se+4]&&"t"===t[se+5]&&">"===t[se+6]){var ie=ce.splice(0,e),le=ae.slice(a,se),de=re.splice(se+7),je=[ie.join(""),le.join(""),de.join("")];je=je.join(""),setTimeout((function(){Ie((function(e){var t=Object(N.a)(e);return t.splice(r,1),t})),r=0}),10),Ye.current.value=je;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}else if("<"===t[s]&&"/"===t[s+1]&&"l"===t[s+2]&&"i"===t[s+3]&&"s"===t[s+4]&&"t"===t[s+5]&&">"===t[s+6]&&n<[s+7]&&n>=[s+1]){e=s,a=s+3;for(var ue=Ye.current.value.split(""),me=Ye.current.value.split(""),be=Ye.current.value.split(""),he=0;he<s;he++)"<"===t[he]&&"/"===t[he+1]&&"l"===t[he+2]&&"i"===t[he+3]&&"s"===t[he+4]&&"t"===t[he+5]&&">"===t[he+6]&&r++;for(var Oe=s;Oe>=0;Oe--)if("<"===t[Oe]&&"l"===t[Oe+1]&&"i"===t[Oe+2]&&"s"===t[Oe+3]&&"t"===t[Oe+4]&&">"===t[Oe+5]){var fe=ue.splice(0,Oe),pe=me.slice(Oe+6,e),ge=be.splice(e+7);console.log(fe),console.log(pe),console.log(ge);var xe=[fe.join(""),pe.join(""),ge.join("")];xe=xe.join(""),alert(r),setTimeout((function(){Ie((function(e){var t=Object(N.a)(e);return t.splice(r,1),t})),r=0}),10),Ye.current.value=xe;break}Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100)}}}();if(8===e.keyCode)for(var i=0;i<t.length;i++){if("<"===t[i]&&"b"===t[i+1]&&">"===t[i+2]&&n===i+3&&c===i+3||"<"===t[i]&&"/"===t[i+1]&&"b"===t[i+2]&&">"===t[i+3]&&n===i+4&&c===i+4){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}if("<"===t[i]&&"e"===t[i+1]&&"m"===t[i+2]&&"b"===t[i+3]&&"e"===t[i+4]&&"d"===t[i+5]&&">"===t[i+6]&&n===i+7&&c===i+7||"<"===t[i]&&"/"===t[i+1]&&"e"===t[i+2]&&"m"===t[i+3]&&"b"===t[i+4]&&"e"===t[i+5]&&"d"===t[i+6]&&">"===t[i+7]&&n===i+8&&c===i+8){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}if("<"===t[i]&&"l"===t[i+1]&&"i"===t[i+2]&&"n"===t[i+3]&&"k"===t[i+4]&&">"===t[i+5]&&n===i+6&&c===i+6||"<"===t[i]&&"/"===t[i+1]&&"l"===t[i+2]&&"i"===t[i+3]&&"n"===t[i+4]&&"k"===t[i+5]&&">"===t[i+6]&&n===i+7&&c===i+7){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}if("<"===t[i]&&"l"===t[i+1]&&"i"===t[i+2]&&"s"===t[i+3]&&"t"===t[i+4]&&">"===t[i+5]&&n===i+6&&c===i+6||"<"===t[i]&&"/"===t[i+1]&&"l"===t[i+2]&&"i"===t[i+3]&&"s"===t[i+4]&&"t"===t[i+5]&&">"===t[i+6]&&n===i+7&&c===i+7){Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1}),100);break}}if(document.activeElement===Ye.current&&Ye.current.selectionStart!==Ye.current.selectionEnd)for(var l=0;l<t.length;l++)("<"===t[l]&&"b"===t[l+1]&&">"===t[l+2]&&n>l&&n<=l+2||"<"===t[l]&&"b"===t[l+1]&&">"===t[l+2]&&c>l&&c<=l+3||"<"===t[l]&&"b"===t[l+1]&&">"===t[l+2]&&n<=l&&c>=l+3||"<"===t[l]&&"/"===t[l+1]&&"b"===t[l+2]&&">"===t[l+3]&&n>=l&&n<=l+3||"<"===t[l]&&"/"===t[l+1]&&"b"===t[l+2]&&">"===t[l+3]&&c>l&&c<=l+4||"<"===t[l]&&"/"===t[l+1]&&"b"===t[l+2]&&">"===t[l+3]&&n<=l&&c>=l+4||"<"===t[l]&&"e"===t[l+1]&&"m"===t[l+2]&&"b"===t[l+3]&&"e"===t[l+4]&&"d"===t[l+5]&&">"===t[l+6]&&n>l&&n<=l+6||"<"===t[l]&&"e"===t[l+1]&&"m"===t[l+2]&&"b"===t[l+3]&&"e"===t[l+4]&&"d"===t[l+5]&&">"===t[l+6]&&c>l&&c<=l+7||"<"===t[l]&&"e"===t[l+1]&&"m"===t[l+2]&&"b"===t[l+3]&&"e"===t[l+4]&&"d"===t[l+5]&&">"===t[l+6]&&n<=l&&c>=l+7||"<"===t[l]&&"/"===t[l+1]&&"e"===t[l+2]&&"m"===t[l+3]&&"b"===t[l+4]&&"e"===t[l+5]&&"d"===t[l+6]&&">"===t[l+7]&&n>=l&&n<=l+7||"<"===t[l]&&"/"===t[l+1]&&"e"===t[l+2]&&"m"===t[l+3]&&"b"===t[l+4]&&"e"===t[l+5]&&"d"===t[l+6]&&">"===t[l+7]&&c>l&&c<=l+8||"<"===t[l]&&"/"===t[l+1]&&"e"===t[l+2]&&"m"===t[l+3]&&"b"===t[l+4]&&"e"===t[l+5]&&"d"===t[l+6]&&">"===t[l+7]&&n<=l&&c>=l+8||"<"===t[l]&&"l"===t[l+1]&&"i"===t[l+2]&&"n"===t[l+3]&&"k"===t[l+4]&&">"===t[l+5]&&n>l&&n<=l+5||"<"===t[l]&&"l"===t[l+1]&&"i"===t[l+2]&&"n"===t[l+3]&&"k"===t[l+4]&&">"===t[l+5]&&c>l&&c<=l+6||"<"===t[l]&&"l"===t[l+1]&&"i"===t[l+2]&&"n"===t[l+3]&&"k"===t[l+4]&&">"===t[l+5]&&n<=l&&c>=l+6||"<"===t[l]&&"/"===t[l+1]&&"l"===t[l+2]&&"i"===t[l+3]&&"n"===t[l+4]&&"k"===t[l+5]&&">"===t[l+6]&&n>=l&&n<=l+6||"<"===t[l]&&"/"===t[l+1]&&"l"===t[l+2]&&"i"===t[l+3]&&"n"===t[l+4]&&"k"===t[l+5]&&">"===t[l+6]&&c>l&&c<=l+7||"<"===t[l]&&"/"===t[l+1]&&"l"===t[l+2]&&"i"===t[l+3]&&"n"===t[l+4]&&"k"===t[l+5]&&">"===t[l+6]&&n<=l&&c>=l+7||"<"===t[l]&&"l"===t[l+1]&&"i"===t[l+2]&&"s"===t[l+3]&&"t"===t[l+4]&&">"===t[l+5]&&n>l&&n<=l+5||"<"===t[l]&&"l"===t[l+1]&&"i"===t[l+2]&&"s"===t[l+3]&&"t"===t[l+4]&&">"===t[l+5]&&c>l&&c<=l+6||"<"===t[l]&&"l"===t[l+1]&&"i"===t[l+2]&&"s"===t[l+3]&&"t"===t[l+4]&&">"===t[l+5]&&n<=l&&c>=l+6||"<"===t[l]&&"/"===t[l+1]&&"l"===t[l+2]&&"i"===t[l+3]&&"s"===t[l+4]&&"t"===t[l+5]&&">"===t[l+6]&&n>=l&&n<=l+6||"<"===t[l]&&"/"===t[l+1]&&"l"===t[l+2]&&"i"===t[l+3]&&"s"===t[l+4]&&"t"===t[l+5]&&">"===t[l+6]&&c>l&&c<=l+7||"<"===t[l]&&"/"===t[l+1]&&"l"===t[l+2]&&"i"===t[l+3]&&"s"===t[l+4]&&"t"===t[l+5]&&">"===t[l+6]&&n<=l&&c>=l+7)&&(Ye.current.readOnly=!0,setTimeout((function(){Ye.current.readOnly=!1,Ye.current.selectionEnd=n,Ye.current.selectionStart=n}),100));console.log(Ye.current.value[Ye.current.selectionStart])},onPaste:function(e){r(!0)},onChange:function(e){var t=e.target.value.split(""),n=(Ye.current.selectionStart,Object(N.a)(t));if(console.log(Ye.current.value[Ye.current.selectionStart]),a)for(var c=0;c<t.length;c++)"\n"===t[c]&&"\n"!==t[c+1]&&"\n"!==t[c-1]&&n.splice(c,0,"\n");console.log(n),Ye.current.value=n.join(""),console.log(Ye.current.value[Ye.current.selectionStart]),a&&r(!1)}})})]})]}),Object(h.jsxs)("div",{id:z.a.addImages,children:[Object(h.jsxs)("div",{id:z.a.addImagesHeader,children:[Object(h.jsxs)("div",{id:z.a.addImagesBundleLeft,children:[Object(h.jsx)("i",{class:"fas fa-chevron-down"}),"Slike"]}),Object(h.jsx)("div",{id:z.a.addImagesBundleRight,children:Object(h.jsx)("i",{onClick:function(){for(var t=!1,n=0;n<Ze.current.children.length;n++)Ze.current.children[n].children[1].className&&(t=!0);!e.overlay&&t&&(L(!0),e.handleOverlay())},class:"far fa-trash-alt"})})]}),Object(h.jsxs)("div",{id:z.a.addImagesBody,children:[Object(h.jsxs)("div",{className:z.a.uploadImageContainer,children:[Object(h.jsx)("div",{id:z.a.uploadImageText,children:"Postavi slike"}),Object(h.jsxs)("div",{id:z.a.uploadImage,ref:Ve,children:[Object(h.jsx)("input",{type:"file",id:"file",accept:"image/*",multiple:!0,onChange:function(e){var t=e.target.files;if(console.log(t),console.log(v),t.length>0){var n=Array.from(t),c=[];console.log(n),n.forEach((function(e,t){e.type.includes("image")||n.splice(t,1)}));var a=[];if(v.length>0){a=Object(N.a)(v);var r=!1;n.forEach((function(e){v.forEach((function(t,n){e.name===t.name&&(r=!0),r||n!==v.length-1||(a.push(e),r=!1),r&&n===v.length-1&&(r=!1)}))}))}else a=Object(N.a)(n);a.forEach((function(e){c.push({url:URL.createObjectURL(e),checked:"false",name:e.name})})),console.log(c),console.log(a),I([].concat(c)),k(a),e.target.value=""}}}),Object(h.jsxs)("label",{htmlFor:"file",onMouseEnter:function(){Ve.current.style.borderColor="#3f87e5"},onMouseLeave:function(){Ve.current.style.borderColor="#d8dee4"},children:[Object(h.jsx)("i",{class:"fas fa-images"}),Object(h.jsx)("span",{ref:Ke,children:"Postavi slike"})]}),Object(h.jsx)("div",{id:z.a.imageContainer,ref:Ze,children:C&&C.length>0&&C.map((function(e,t){return Object(h.jsxs)("div",{className:z.a.imageWrapper,onClick:at,draggable:!0,onDragStart:function(e){return function(e,t){e.dataTransfer.setData("text",t),console.log(e.target.src)}(e,t)},onDrop:function(e){return function(e,t){e.preventDefault();var n,c,a=e.dataTransfer.getData("text");+a!==t&&(Ae(+a),n=+a,c=t,Re(t),console.log(C),I((function(e){var t=Object(N.a)(e);return t[n]=Object(d.a)({},e[c]),t[c]=Object(d.a)({},e[n]),console.log(t),t})))}(e,t)},onDragOver:it,children:[Object(h.jsx)("img",{className:z.a.previewImage,src:e.url}),Object(h.jsx)("div",{className:"true"===e.checked?z.a.deletable:null})]},Object(M.a)())}))})]})]}),Object(h.jsxs)("div",{className:z.a.imageCaptionContainer,children:[Object(h.jsx)("div",{id:z.a.imageCaptionText,children:"Natpis"}),Object(h.jsx)("div",{id:z.a.imageCaption,children:Object(h.jsx)("textarea",{ref:qe,type:"text"})})]})]})]})]}),Object(h.jsxs)("div",{id:z.a.addArticleInfo,children:[Object(h.jsxs)("div",{id:z.a.author,children:[Object(h.jsx)("h3",{children:"Autor"}),Object(h.jsxs)("div",{id:z.a.authorCnt,children:[Object(h.jsxs)("div",{id:z.a.authorInfo,children:[Object(h.jsx)("i",{class:"fas fa-user"})," ",Object(h.jsx)("span",{style:{textTransform:"capitalize"},children:e.user.displayName})]}),Object(h.jsx)("button",{onClick:function(){var t=Xe.current.children[0].value,n=Xe.current.children[1].value.toUpperCase();console.log(t),console.log(n);var c,a=Ye.current.value.trim(),r=qe.current.value.trim(),s=We.current.value,i=tt.current.value,l=ot(n);l&&n.trim().length>5&&((c=n.trim().split("PROMO ")).splice(0,1),c=c.join("").trim(),console.log(c));var d=et.current.children[0].children[1].checked&&!et.current.children[0].children[1].disabled?"Da":"Ne";console.log(v),console.log(o.state),console.log(H);var j=[];if(o.state&&o.state.articleData.tags&&(j=o.state.articleData.tags.reduce((function(e,t){return H.some((function(e){return e.value?e.value===t.value:e===t.value}))?e:[].concat(Object(N.a)(e),[t])}),[]),console.log(j)),t&&n&&a&&v.length>0&&r){var h={author:e.user.displayName,title:t,subTitle:c||n,articleText:a,category:s,subCategory:i,images:v,imageText:lt(),tags:H,commentsAllowed:d,shares:[""],visited:o.state&&o.state.articleData.visited||0},O=[];Ce.length>0&&(h.listOrder=Object(N.a)(Ce)),l&&(h.sponsored=!0),o.state&&l&&o.state.articleData.promoId&&(h.promoId=o.state.articleData.promoId),console.log(h.tags),console.log(h),re(!0);var f=l?2:1;console.log(f),b.onAuthStateChanged((function(e){e&&e.getIdToken(!0).then((function(e){var t=o.state&&s===o.state.articleData.category&&i===o.state.articleData.subCategory;fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(s,"/").concat(i).concat(t?"/-"+o.state.articleData.id:"",".json?auth=").concat(e),{method:"".concat(o.state&&t?"PATCH":"POST"),body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){var c;console.log(n);var a=[];if(o.state)c=t?o.state.articleData.id:n.name.slice(1);else{c=n.name.slice(1);var r=new Date,l=r.getFullYear(),d=r.getMonth()+1,b=r.getDate();fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/dates/".concat(l,"/").concat(d,"/").concat(b,".json?auth=").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n.name,path:"".concat(h.category,"/").concat(h.subCategory)})})}console.log(c),h.id||(h.id=c),console.log(h);var p=[];v.forEach((function(t,n){p.push({imageName:t.name,percent:""}),console.log("images/".concat(s,"/").concat(i,"/-").concat(c,"/").concat(t.name)),u.ref("images/".concat(s,"/").concat(i,"/-").concat(c,"/").concat(t.name)).put(t).on("state_changed",(function(e){console.log(e),console.log("bytesTransfered: ".concat(e.bytesTransferred,", percent: ").concat(Math.floor(e.bytesTransferred/e.totalBytes*100),"% fileName: ").concat(t.name)),p.forEach((function(n,c){n.imageName===t.name&&Qe.current.children[0]&&(console.log(Qe.current.children[c].children[1].children[0]),Qe.current.children[c].children[1].children[0].style.width="".concat(Math.floor(e.bytesTransferred/e.totalBytes*100),"%"),0!==Math.floor(e.bytesTransferred/e.totalBytes*100)&&(Qe.current.children[c].children[1].children[0].textContent="".concat(Math.floor(e.bytesTransferred/e.totalBytes*100),"%")),100===Math.floor(e.bytesTransferred/e.totalBytes*100)&&setTimeout((function(){Qe.current.children[c].children[2].children[0].style.display="inline-block"}),200))})),Z(p),console.log(e.totalBytes),console.log("images/".concat(s,"/").concat(i,"/-").concat(c))}),(function(e){console.log(e)}),(function(){u.ref("images/".concat(s,"/").concat(i,"/-").concat(c)).child(t.name).getDownloadURL().then((function(n){if(console.log(n),a.push(n),h.imageText.forEach((function(e,c){e.name===t.name&&(O[c]=[n,e.captionText,t.name])})),a.length===v.length){if(h.images=[].concat(a),h.imageText=Object(N.a)(O),o.state)h.date=o.state.articleData.date;else{var r=new Date,l="".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate()," ").concat(r.getHours(),":").concat(r.getMinutes(),":").concat(r.getSeconds());h.date=l,console.log(h)}O=[];var d=m.ref("articles/".concat(s,"/").concat(i,"/-").concat(c)),u=[];if(o.state){var b,p,g=[],x=[];if(o.state.articleData.tags&&h.tags.length)for(var k=function(e){o.state.articleData.tags.some((function(t){return t.value===(h.tags[e].value?h.tags[e].value:h.tags[e])}))?x.push(o.state.articleData.tags.find((function(t){return t.value===h.tags[e].value}))):g.push(h.tags[e])},y=0;y<h.tags.length;y++)k(y);else h.tags.length&&g.push.apply(g,Object(N.a)(h.tags));h.category!==o.state.articleData.category&&(b=!0),h.subCategory!==o.state.articleData.subCategory&&(p=!0);var _=!1;if((h.title!==o.state.articleData.title||h.subTitle!==o.state.articleData.subTitle||h.imageText[0][0]===o.state.articleData.imageText[0][0]||b||p)&&(_=!0),g.length){console.log("butwhyman"),console.log(g),console.log(x);for(var C=0;C<g.length;C++)u.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/related/".concat(h.category,"/").concat(g[C],".json"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({articlePath:"".concat(h.category,"/").concat(h.subCategory,"/-").concat(c),thumbnail:h.imageText[0][0],title:h.title,subTitle:h.subTitle,date:h.date})}).then((function(e){return e.json()})))}if(_&&x.length){console.log("does this run"),console.log(x);for(var I=0;I<x.length;I++)b&&j.push({id:x[I].id,value:x[I].value}),u.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/related/".concat(h.category,"/").concat(x[I].value).concat(b?"":"/"+x[I].id,".json"),{method:"".concat(b?"POST":"PATCH"),headers:{"Content-Type":"application/json"},body:JSON.stringify({articlePath:"".concat(h.category,"/").concat(h.subCategory,"/-").concat(c),thumbnail:h.imageText[0][0],title:h.title,subTitle:h.subTitle,date:h.date,id:x[I].id})}).then((function(e){return e.json()})))}if(j.length)for(var D=0;D<j.length;D++)u.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/related/".concat(b?o.state.articleData.category:h.category,"/").concat(j[D].value,"/").concat(j[D].id,".json"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})));Promise.all(u).then((function(t){var n=[],a=[];if(g.length)for(var r=0;r<g.length;r++)n.push({id:t[r].name,value:g[r]}),a.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/related/".concat(h.category,"/").concat(g[r],"/").concat(t[r].name,".json"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({articlePath:"".concat(h.category,"/").concat(h.subCategory,"/-").concat(c),thumbnail:h.imageText[0][0],title:h.title,subTitle:h.subTitle,date:h.date,id:t[r].name})}).then((function(e){return e.json()})));if(x.length)if(b)for(var i=g.length,l=0,u=i;u<i+x.length;u++)n.push({id:t[u].name,value:x[l].value}),a.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/related/".concat(h.category,"/").concat(x[l].value,"/").concat(t[u].name,".json"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({articlePath:"".concat(h.category,"/").concat(h.subCategory,"/-").concat(c),thumbnail:h.imageText[0][0],title:h.title,subTitle:h.subTitle,date:h.date,id:t[u].name})}).then((function(e){return e.json()}))),l++;else n=[].concat(Object(N.a)(n),x);((b||p)&&(console.log("zasto"),a.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(o.state.articleData.category,"/").concat(o.state.articleData.subCategory,"/-").concat(o.state.articleData.id,".json"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})))),!j.length||g.length||x.length?h.tags=Object(N.a)(n):delete h.tags,a.length)?Promise.all(a).then((function(t){d.update(h).then((function(t){d.once("value").then((function(t){if(1===f)o.state.articleData.sponsored&&!h.sponsored?fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(o.state.articleData.category,"/").concat(o.state.articleData.promoId,".json?auth=").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){delete h.promoId,delete h.sponsored,d.set(h).then((function(e){d.once("value").then((function(e){Q(!0)}))}))})):Q(!0);else if(!o.state.articleData.sponsored&&h.sponsored)fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,".json?auth=").concat(e),{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){h.promoId=e.name,d.update(h).then((function(e){d.once("value").then((function(e){Q(!0)}))}))}));else if(b){var n=[];n.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,".json?auth=").concat(e),{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(o.state.articleData.category,"/").concat(o.state.articleData.promoId,".json?auth=").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))),Promise.all(n).then((function(e){h.promoId=e[0].name,d.update(h).then((function(e){d.once("value").then((function(e){Q(!0)}))}))}))}else fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,"/").concat(o.state.articleData.promoId,".json?auth=").concat(e),{method:"PUT",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return Q(!0)}))}))}))})):d.update(h).then((function(t){d.once("value").then((function(t){if(1===f)o.state.articleData.sponsored&&!h.sponsored?fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(o.state.articleData.category,"/").concat(o.state.articleData.promoId,".json?auth=").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){delete h.promoId,delete h.sponsored,d.set(h).then((function(e){d.once("value").then((function(e){Q(!0)}))}))})):Q(!0);else if(console.log(h),!o.state.articleData.sponsored&&h.sponsored)fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,".json?auth=").concat(e),{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){h.promoId=e.name,d.update(h).then((function(e){d.once("value").then((function(e){Q(!0)}))}))}));else if(b){var n=[];n.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,".json?auth=").concat(e),{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(o.state.articleData.category,"/").concat(o.state.articleData.promoId,".json?auth=").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))),Promise.all(n).then((function(e){h.promoId=e[0].name,d.update(h).then((function(e){d.once("value").then((function(e){Q(!0)}))}))}))}else fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,"/").concat(o.state.articleData.promoId,".json?auth=").concat(e),{method:"PUT",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return Q(!0)}))}))}))}))}else if(h.tags.length){for(var w=0;w<h.tags.length;w++)u.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/related/".concat(h.category,"/").concat(h.tags[w],".json"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({articlePath:"".concat(h.category,"/").concat(h.subCategory,"/-").concat(c),thumbnail:h.imageText[0][0],title:h.title,subTitle:h.subTitle,date:h.date})}).then((function(e){return e.json()})));Promise.all(u).then((function(t){console.log(t);for(var n=[],a=[],r=0;r<h.tags.length;r++)n.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/related/".concat(h.category,"/").concat(h.tags[r],"/").concat(t[r].name,".json"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({articlePath:"".concat(h.category,"/").concat(h.subCategory,"/-").concat(c),thumbnail:h.imageText[0][0],title:h.title,subTitle:h.subTitle,date:h.date,id:t[r].name})}).then((function(e){return e.json()}))),a.push({id:t[r].name,value:h.tags[r]});h.tags=[].concat(a),Promise.all(n).then((function(t){1===f?d.update(h).then((function(e){d.once("value").then((function(e){Q(!0)}))})):fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,".json?auth=").concat(e),{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){h.promoId=e.name,d.update(h).then((function(e){d.once("value").then((function(e){Q(!0)}))}))}))}))}))}else 1===f?d.update(h).then((function(e){d.once("value").then((function(e){Q(!0)}))})):fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/Promo/".concat(s,".json?auth=").concat(e),{method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){h.promoId=e.name,d.update(h).then((function(e){d.once("value").then((function(e){Q(!0)}))}))}))}})).catch((function(e){return console.log(e)}))}))}))}))}))}))}},disabled:!!ae,children:"Spasi"})]})]}),Object(h.jsxs)("div",{id:z.a.category,children:[Object(h.jsx)("label",{htmlFor:"category",children:"Kategorija"}),Object(h.jsxs)("select",{id:"category",ref:We,onChange:function(e){switch(e.target.value){case"Vijesti":de(Object(N.a)(te.vijesti));break;case"Biznis":de(Object(N.a)(te.biznis));break;case"Sport":de(Object(N.a)(te.sport));break;case"Magazin":de(Object(N.a)(te.magazin));break;case"Lifestyle":de(Object(N.a)(te.lifestyle));break;case"Scitech":de(Object(N.a)(te.scitech));break;case"Auto":de(Object(N.a)(te.auto))}},children:[Object(h.jsx)("option",{children:"Vijesti"}),Object(h.jsx)("option",{children:"Biznis"}),Object(h.jsx)("option",{children:"Sport"}),Object(h.jsx)("option",{children:"Magazin"}),Object(h.jsx)("option",{children:"Lifestyle"}),Object(h.jsx)("option",{children:"Scitech"}),Object(h.jsx)("option",{children:"Auto"})]}),Object(h.jsx)("label",{id:z.a.subcategory,children:"Podkategorija"}),Object(h.jsx)("select",{ref:tt,value:me,onChange:function(e){be(e.target.value)},children:ie.map((function(e){return Object(h.jsx)("option",{children:e},Object(M.a)())}))})]}),Object(h.jsxs)("div",{id:z.a.tag,children:[Object(h.jsx)("h4",{children:"Tagovi"}),Object(h.jsx)("input",{type:"text",onKeyDown:function(e){if(13===e.keyCode){var t=e.target.value;t&&(e.target.value="",t.includes(".")&&(t=(t=t.split(".")).join("_")),J((function(e){var n=Object(N.a)(e);return n.push(t),console.log(n),n})))}}}),Object(h.jsx)("div",{id:z.a.tagContainer,ref:Ge,children:H.map((function(e){return Object(h.jsxs)("div",{className:z.a.tagItem,children:[Object(h.jsx)("span",{children:e.value?e.value:e}),Object(h.jsx)("i",{onClick:rt,class:"fas fa-times"})]},Object(M.a)())}))})]}),Object(h.jsxs)("div",{id:z.a.commentsAllowed,children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:"Dozvoli komentare:"})}),Object(h.jsxs)("div",{id:z.a.commentBundle,ref:et,children:[Object(h.jsxs)("div",{className:z.a.commentItem,children:[Object(h.jsx)("label",{htmlFor:"komentda",children:"Da"}),Object(h.jsx)("input",{type:"radio",id:"komentda",name:"koment",defaultChecked:!0})]}),Object(h.jsxs)("div",{className:z.a.commentItem,children:[Object(h.jsx)("label",{htmlFor:"komentne",children:"Ne"}),Object(h.jsx)("input",{type:"radio",id:"komentne",name:"koment"})]})]})]})]})]})})]})},ce=n(53),ae=n.n(ce),re={vijesti:"#d33d3d",biznis:"#ef6f3e",sport:"#55ac53",magazin:"#a45091",lifestyle:"#e2a600",scitech:"#40afee",auto:"#487baf"},oe=function(e){return Object(c.useEffect)((function(){console.log(e)}),[]),Object(h.jsx)("div",{id:ae.a.articleLink,children:Object(h.jsxs)(r.b,{to:{pathname:encodeURI("/".concat(e.category,"/").concat(e.subCategory,"/").concat(tt(e.title),"/").concat(e.id)),state:void 0},children:[Object(h.jsx)("div",{id:ae.a.articleLinkImage,children:Object(h.jsx)("img",{src:e.imageUrl})}),Object(h.jsxs)("div",{id:ae.a.articleLinkText,children:[Object(h.jsx)("h3",{style:{color:re[e.category.toLowerCase()]},children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]})]})})},se={vijesti:"#d33d3d",biznis:"#ef6f3e",sport:"#55ac53",magazin:"#a45091",lifestyle:"#e2a600",scitech:"#40afee",auto:"#487baf"};function ie(e,t){return new Date(t,e,0).getDate()}var le=function(e){var t,n,c=new Date,a=[c.getFullYear(),c.getMonth()+1,c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds()];if(e){n=e.split(/-|:| /);for(var r=0;r<n.length;r++)n[r]=+n[r];var o,s,i,l,d,j;o=a[0]-n[0];var u=!1,m=!1,b=!1,h=!1,O=!1;(s=a[1]-n[1])<0&&(u=!0),(i=a[2]-n[2])<0&&(m=!0),(l=a[3]-n[3])<0&&(b=!0),(d=a[4]-n[4])<0&&(h=!0),(j=a[5]-n[5])<0&&(O=!0),t=(t="".concat(u&&o>0||0===s&&m&&o>0?o-1:s>=0&&o>0?o:o-1," ").concat(m&&s>0?s-1:m&&s<0||0===i&&b&&s<0?12-Math.abs(s-1):0===i&&b&&s>0?12-Math.abs(s-1===0?-12:s-1):!m&&s<0?12-Math.abs(s):s," ").concat(b&&i>0?i-1:l>=0&&l<=1&&h&&i<0?ie(c.getMonth()+1,c.getFullYear())-Math.abs(i-(ie(n[2],n[0])>ie(c.getMonth()+1,c.getFullYear())&&c.getMonth()+1===2&&28===ie(2,c.getFullYear())?-1:ie(n[2],n[0])>ie(c.getMonth()+1,c.getFullYear())&&c.getMonth()+1===2&&29===ie(2,c.getFullYear())||ie(n[2],n[0])>ie(c.getMonth()+1,c.getFullYear())?0:ie(n[2],n[0])<ie(c.getMonth()+1,c.getFullYear())?2:1)):b&&i<0?ie(c.getMonth()+1,a[0])-Math.abs(i-(ie(n[2],n[0])>ie(c.getMonth()+1,a[0])?0:ie(n[2],n[0])<ie(c.getMonth()+1,c.getFullYear())?2:1)):!b&&i<0?ie(c.getMonth()+1,a[0])-Math.abs(i+(ie(n[2],n[0])>ie(c.getMonth()+1,a[0])?1:ie(n[2],n[0])<ie(c.getMonth()+1,c.getFullYear())?-1:0)):b&&0===i&&s-1===0?a[2]-1:i," ").concat(h&&l>0?l-1:h&&l<0||d>=0&&d<=1&&O&&l<0?24-Math.abs(l-1):0===i&&s-1===0&&h&&l<0?l-1:0===i&&s-1===0&&!h&&l<0?l:!h&&l<0?24-Math.abs(l):d>=0&&d<=1&&O&&l>0?l-1:l," ").concat(O&&d>0?d-1:O&&d<0?60-Math.abs(d-1):!O&&d<0?60-Math.abs(d):d," ").concat(O?60-Math.abs(j):j)).split(" ");var f=!1,p="";return t.forEach((function(e,t){if(0!==+e&&e>0&&!f)switch(f=!0,t){case 0:p="".concat(e," god");break;case 1:p="".concat(e," mje");break;case 2:if(1==e[e.length-1]&&11!=e){p="".concat(e," dan");break}p="".concat(e," dana");break;case 3:var n=e;(n=n.split("")).forEach((function(t,c){c===n.length-1&&(1==t&&11!=e?p="".concat(e," sat"):2!=t&&3!=t&&4!=t||!(e<=4||e>=22)?0!=t&&5!=t&&6!=t&&7!=t&&8!=t&&9!=t&&11!=e&&12!=e&&13!=e&&14!=e||(p="".concat(e," sati")):p="".concat(e," sata"))}));break;case 4:p="".concat(e," min");break;case 5:p="".concat(e," sek")}})),p}},de=function(){var e=Object(c.useState)(Object(N.a)(te.vijesti)),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)("BiH"),s=Object(l.a)(o,2),j=s[0],u=s[1],b=Object(c.useState)(Object(N.a)(te.po\u010detna)),O=Object(l.a)(b,2),f=O[0],p=O[1],g=Object(c.useState)("Vijesti"),x=Object(l.a)(g,2),v=x[0],k=x[1],y=Object(c.useState)(!0),_=Object(l.a)(y,2),C=_[0],I=_[1],D=Object(c.useState)(!1),w=Object(l.a)(D,2),S=w[0],B=w[1],T=Object(c.useState)(!1),A=Object(l.a)(T,2),P=A[0],R=A[1],E=Object(c.useState)(!1),F=Object(l.a)(E,2),H=F[0],z=F[1],J=Object(c.useState)(!1),U=Object(l.a)(J,2),K=U[0],Y=U[1],Z=Object(c.useState)(!1),G=Object(l.a)(Z,2),q=(G[0],G[1]),W=Object(c.useState)(!1),Q=Object(l.a)(W,2),$=Q[0],ee=(Q[1],Object(c.useState)(!1)),ne=Object(l.a)(ee,2),ce=ne[0],ae=ne[1],oe=Object(c.useState)([{},{},{},{},{},{},{}]),se=Object(l.a)(oe,2),ie=se[0],de=se[1],je=Object(c.useState)(null),ue=Object(l.a)(je,2),me=ue[0],be=ue[1],he=Object(c.useState)(null),Oe=Object(l.a)(he,2),fe=Oe[0],pe=Oe[1],ge=Object(c.useState)(!1),xe=Object(l.a)(ge,2),ve=(xe[0],xe[1],Object(c.useState)(!1)),ke=Object(l.a)(ve,2),ye=ke[0],_e=ke[1],Ce=Object(c.useRef)(),Ie=Object(c.useRef)(),De=Object(c.useRef)(),we=Object(c.useRef)(),Se=Object(c.useRef)(),Ne=Object(c.useRef)(),Be=Object(c.useRef)(),Te=Object(c.useRef)(),Ae=Object(c.useRef)(),Le=Object(c.useRef)(),Pe=Object(c.useRef)(),Re=(Object(i.useHistory)(),Object(c.useState)([])),Ee=Object(l.a)(Re,2),Fe=Ee[0],Me=Ee[1],He=Object(c.useState)(!1),ze=Object(l.a)(He,2),Je=ze[0],Ue=ze[1];Object(c.useEffect)((function(){console.log(te),ie&&console.log(ie[0]),console.log(ie)})),Object(c.useEffect)((function(){console.log(Ce.current.value),Ze("init")}),[]),Object(c.useEffect)((function(){Fe&&console.log(Fe)}),[Fe]);var Ke=function(e,t){"dva"===t?(k(e.target.value),"Sporedni sadr\u017eaj"===Ce.current.value&&"Po\u010detna"===Pe.current.value&&(console.log(e.target.value),a(Object(N.a)(te[e.target.value.toLowerCase()])),u(te[e.target.value.toLowerCase()][0]))):"jedan"===t&&u(e.target.value)},Ve=function(e,t){Me([]);var n=(e&&e.target||Pe.current).value;switch("two"===t&&"Po\u010detna"===Pe.current.value&&"Glavni sadr\u017eaj"===Ce.current.value?Y(!1):Y(!0),"two"===t&&"Po\u010detna"!==Pe.current.value&&u(te[n.toLowerCase()][0]),"Sporedni sadr\u017eaj"!==Ce.current.value&&"Po\u010detna"!==Pe.current.value?a(Object(N.a)(te[n.toLowerCase()])):(console.log(v),"Po\u010detna"===Pe.current.value&&te[v.toLowerCase()]?(a(Object(N.a)(te[v.toLowerCase()])),u(te[v.toLowerCase()][0])):te[v.toLowerCase()]||"Po\u010detna"!==Pe.current.value?(a(Object(N.a)(te[Pe.current.value.toLowerCase()])),u(te[Pe.current.value.toLowerCase()][0])):(a(Object(N.a)(te.vijesti)),u(te.vijesti[0]))),n){case"Po\u010detna":if("two"===t){p(Object(N.a)(te.po\u010detna)),k(te.po\u010detna[0]),C&&Ze("init");break}case"Vijesti":if("jedan"===t){a(Object(N.a)(te.vijesti)),u(te.vijesti[0]);break}if("two"===t){p(Object(N.a)(te.vijesti)),k(te.vijesti[0]),C&&Ze("init");break}case"Biznis":if("jedan"===t){a(Object(N.a)(te.biznis)),u(te.biznis[0]);break}if("two"===t){p(Object(N.a)(te.biznis)),k(te.biznis[0]),C&&Ze("init");break}case"Sport":if("jedan"===t){a(Object(N.a)(te.sport)),u(te.sport[0]);break}if("two"===t){p(Object(N.a)(te.sport)),k(te.sport[0]),C&&Ze("init");break}case"Magazin":if("jedan"===t){a(Object(N.a)(te.magazin)),u(te.magazin[0]);break}if("two"===t){p(Object(N.a)(te.magazin)),k(te.magazin[0]),C&&Ze("init");break}case"Lifestyle":if("jedan"===t){a(Object(N.a)(te.lifestyle)),u(te.lifestyle[0]);break}if("two"===t){p(Object(N.a)(te.lifestyle)),k(te.lifestyle[0]),C&&Ze("init");break}case"Scitech":if("jedan"===t){a(Object(N.a)(te.scitech)),u(te.scitech[0]);break}if("two"===t){p(Object(N.a)(te.scitech)),k(te.scitech[0]),C&&Ze("init");break}case"Auto":if("jedan"===t){a(Object(N.a)(te.auto)),u(te.auto[0]);break}if("two"===t){p(Object(N.a)(te.auto)),k(te.auto[0]),C&&Ze("init");break}}};Object(c.useEffect)((function(){!C&&v&&ye?(Ve(null,"two"),_e(!1)):!C&&v?Ze("init"):C&&ye&&(Ve(null,"two"),_e(!1))}),[C,v,ye]);var Ye=function(e){e.target.id.includes("overlay")&&!Je&&(B(!1),"Po\u010detna"===Pe.current.value&&"Glavni sadr\u017eaj"===Ce.current.value&&Y(!1),Me([]),be(null),ce&&(ae(!1),Ve(null,"two")))},Ze=function(e){q(!0);var t=void 0;if(console.log(e),"init"===e)"Glavni sadr\u017eaj"===Ce.current.value?t=m.ref("viewContent/".concat(Ce.current.value,"/").concat(Pe.current.value)):"Sporedni sadr\u017eaj"===Ce.current.value&&(t=m.ref("viewContent/".concat(Ce.current.value,"/").concat(Pe.current.value,"/").concat(v)),console.log("viewContent/".concat(Ce.current.value,"/").concat(Pe.current.value,"/").concat(v))),t.get().then((function(e){if(e.exists){var t=e.val();if(console.log(t),!t)return void("Sporedni sadr\u017eaj"!==Ce.current.value||"Auto"===v&&"Scitech"===v?"Sporedni sadr\u017eaj"===Ce.current.value&&Pe.current.value==="Po\u010detna"("Auto"===v||"Scitech"===v)||"Sporedni sadr\u017eaj"===Ce.current.value&&"Po\u010detna"!==Pe.current.value?de([{},{},{},{}]):de([{},{},{},{},{},{},{}]):de([{},{},{},{},{},{}]));var n=[];for(var c in t)n.push(t[c]),console.log(t[c]);console.log(n[0]);var a=[];n[0].forEach((function(e,t){console.log(e[1]),console.log(e[0]),Array.isArray(e)&&a.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e[1],"/-").concat(e[0],".json")).then((function(e){return e.json()})))})),Promise.all(a).then((function(e){console.log(e);for(var t=[],c=0;c<e.length;c++)e[c].timeDiff=le(e[c].date);if(e.length<7){var a=0;n[0].forEach((function(n){n?(t.push(e[a]),a++):t.push({})})),console.log(t),t.forEach((function(e){console.log(Object.keys(e).length)})),de(t)}else de(e)}))}}));else{var n=Ie.current.value;t=m.ref("articles/".concat(n,"/").concat(j)),console.log(j),t.get().then((function(e){if(e.exists){var t=e.val(),n=[],c=0;for(var a in t)n.push(t[a]),n[c].timeDiff=le(n[c].date),c++;n.reverse(),Me(n)}}))}},Ge=function(e){if(De.current)for(var t=0;t<De.current.children.length;t++)De.current.children[t].contains(e.target)&&(console.log(Fe[t]),pe(t),Ue(!0))};Object(c.useEffect)((function(){}),[]);var Xe=function(e){$||(be(e),console.log(e))},qe=function(){be(null)},We=function(e){"Da"===e.target.textContent?(de((function(e){var t=Object(N.a)(e);return t[me]=Fe[fe],t})),Ue(!1),B(!1),Me([]),be(null),pe(null)):"Ne"===e.target.textContent&&(Ue(!1),pe(null))},Qe=function(e,t){e.target.value;"dodaj"===t?(R(!P),ce?ae(!1):H&&z(!1)):"zamjeni"===t?(z(!H),P?R(!1):ce&&ae(!1)):"edituj"===t&&(ae(!0),Y(!1),P?R(!1):H&&z(!1))},$e=function(e){var t;if(H)if(C){if(C&&we.current.contains(e.target))for(var n=0;n<we.current.children.length;n++)if(we.current.children[n].contains(e.target)){var c={dragPos:+(t=n)};e.dataTransfer.setData("text",JSON.stringify(c))}}else if(Ne.current&&Ne.current.contains(e.target)){for(var a=0;a<Ne.current.children.length;a++)Ne.current.children[a].contains(e.target)&&(t=0===a?4:5);var r={dragPos:+t,place:"right"};e.dataTransfer.setData("text",JSON.stringify(r))}else if(Se.current.contains(e.target))for(var o=0;o<Se.current.children.length;o++)if(Se.current.children[o].contains(e.target)){var s={dragPos:+(t=o),place:"left"};e.dataTransfer.setData("text",JSON.stringify(s))}},et=function(e){H&&e.preventDefault()},tt=function(e){e.preventDefault();var t=0;if(H)if(C){if(C&&we.current.contains(e.target))for(var n=0;n<we.current.children.length;n++)we.current.children[n].contains(e.target)&&function(){t=n;var c=e.dataTransfer.getData("text");c=JSON.parse(c),de((function(e){var n=Object(N.a)(e),a=Object(N.a)(e);return n[c.dragPos]=Object(d.a)({},a[t]),n[t]=Object(d.a)({},a[c.dragPos]),n}))}()}else{if(Ne.current&&Ne.current.contains(e.target))for(var c=0;c<Ne.current.children.length;c++)Ne.current.children[c].contains(e.target)&&function(){0===c?t=4:1===c&&(t=5);var n=e.dataTransfer.getData("text");n=JSON.parse(n),de((function(e){var c=Object(N.a)(e),a=Object(N.a)(e);return c[n.dragPos]=Object(d.a)({},a[t]),c[t]=Object(d.a)({},a[n.dragPos]),c}))}();if(Se.current.contains(e.target)){for(var a=0;a<Se.current.children.length;a++)Se.current.children[a].contains(e.target)&&(t=a);var r=e.dataTransfer.getData("text");r=JSON.parse(r),console.log(r),"right"===r.place?de((function(e){var n=Object(N.a)(e),c=Object(N.a)(e);return n[r.dragPos]=Object(d.a)({},c[t]),n[t]=Object(d.a)({},c[r.dragPos]),n})):"left"===r.place&&de((function(e){var n=Object(N.a)(e),c=Object(N.a)(e);return n[me]=Object(d.a)({},c[t]),n[t]=Object(d.a)({},c[me]),n}))}}};return Object(c.useEffect)((function(){console.log(Fe)}),[Fe]),Object(h.jsxs)(h.Fragment,{children:[S&&Object(h.jsxs)(V,{handleCloseOverlay:Ye,children:[Object(h.jsxs)("div",{id:L.a.allArticlesHeader,children:[Object(h.jsxs)("select",{onChange:function(e){return Ve(e,"jedan")},defaultValue:"",ref:Ie,disabled:!(!K||"Po\u010detna"===Pe.current.value)||!(!K||"Sporedni sadr\u017eaj"!==Ce.current.value||"Po\u010detna"!==Pe.current.value),value:K&&"Po\u010detna"!==Pe.current.value?Pe.current.value:K&&"Sporedni sadr\u017eaj"===Ce.current.value&&"Po\u010detna"===Pe.current.value?v:null,children:[Object(h.jsx)("option",{disabled:!0,label:" -- Izaberi opciju -- "}),Object(h.jsx)("option",{children:"Vijesti"}),Object(h.jsx)("option",{children:"Biznis"}),Object(h.jsx)("option",{children:"Sport"}),Object(h.jsx)("option",{children:"Magazin"}),Object(h.jsx)("option",{children:"Lifestyle"}),Object(h.jsx)("option",{children:"Scitech"}),Object(h.jsx)("option",{children:"Auto"})]}),K&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("select",{value:j,onChange:function(e){return Ke(e,"jedan")},children:n.map((function(e){return Object(h.jsx)("option",{children:e},Object(M.a)())}))}),Object(h.jsx)("button",{id:L.a.fetchBtn,onClick:Ze,children:"Prika\u017ei sadr\u017eaj"})]}),Object(h.jsx)("div",{id:L.a.allArticlesItems,ref:De,children:Fe&&Fe.map((function(e){return Object(h.jsxs)("div",{className:L.a.articleFetchItem,onClick:Ge,style:{flexDirection:"column"},children:[Object(h.jsxs)("div",{className:L.a.addingBundler,children:[Object(h.jsx)("div",{className:L.a.articleFetchItemImgCnt,children:Object(h.jsx)("img",{src:e.images[0]})}),Object(h.jsxs)("div",{className:L.a.articleItemFetchTitles,children:[Object(h.jsx)("h3",{style:{color:"".concat(re[e.category.toLowerCase()])},children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]})]}),Object(h.jsxs)("div",{className:L.a.articleItemFetchFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:L.a.articleItemFetchBundle,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]},Object(M.a)())}))})]}),Je&&Object(h.jsx)(X,{ref:Be,handleClick:We})]}),ce&&Object(h.jsxs)(V,{handleCloseOverlay:Ye,children:[Object(h.jsxs)("div",{id:L.a.allArticlesHeader,children:[Object(h.jsxs)("select",{onChange:function(e){return Ve(e,"jedan")},defaultValue:"",ref:Ie,children:[Object(h.jsx)("option",{disabled:!0,label:" -- Izaberi opciju -- "}),Object(h.jsx)("option",{children:"Vijesti"}),Object(h.jsx)("option",{children:"Biznis"}),Object(h.jsx)("option",{children:"Sport"}),Object(h.jsx)("option",{children:"Magazin"}),Object(h.jsx)("option",{children:"Lifestyle"}),Object(h.jsx)("option",{children:"Scitech"}),Object(h.jsx)("option",{children:"Auto"})]}),K&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("select",{value:j,onChange:function(e){return Ke(e,"jedan")},children:n.map((function(e){return Object(h.jsx)("option",{children:e},Object(M.a)())}))}),Object(h.jsx)("button",{id:L.a.fetchBtn,onClick:Ze,children:"Prika\u017ei sadr\u017eaj"})]}),Object(h.jsx)("div",{id:L.a.allArticlesItems,ref:De,children:Fe&&Fe.map((function(e){return Object(h.jsx)("div",{className:L.a.articleFetchItem,onMouseDown:function(t){return function(e,t){console.log(t),1!=e.button&&4!=e.buttons||alert("ne moze se koristiti srednji klik")}(t,e)},children:Object(h.jsxs)(r.b,{to:{pathname:"/adminpanel",state:{articleData:e}},children:[Object(h.jsxs)("div",{className:L.a.editBundler,children:[Object(h.jsx)("div",{className:L.a.articleFetchItemImgCnt,children:Object(h.jsx)("img",{src:e.images[0]})}),Object(h.jsxs)("div",{className:L.a.articleItemFetchTitles,children:[Object(h.jsx)("h3",{style:{color:"".concat(re[e.category.toLowerCase()])},children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]})]}),Object(h.jsxs)("div",{className:L.a.articleItemFetchFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:L.a.articleItemFetchBundle,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]})},Object(M.a)())}))})]}),Je&&Object(h.jsx)(X,{ref:Be,handleClick:We})]}),Object(h.jsxs)("div",{id:L.a.editArticles,children:[Object(h.jsx)("div",{id:L.a.allArticles}),Object(h.jsx)("div",{id:L.a.allArticlesMain,children:Object(h.jsxs)("div",{id:L.a.allArticlesMainBody,children:[Object(h.jsxs)("div",{id:L.a.allArticlesMainBodyHeader,children:[Object(h.jsxs)("select",{onChange:function(e){"Glavni sadr\u017eaj"===e.target.value?(I(!0),Pe.current.value="Po\u010detna",_e(!0)):(I(!1),Pe.current.value="Po\u010detna",p(Object(N.a)(te["po\u010detna"])),k("Vijesti"),_e(!0))},ref:Ce,value:C?"Glavni sadr\u017eaj":"Sporedni sadr\u017eaj",children:[Object(h.jsx)("option",{children:"Glavni sadr\u017eaj"}),Object(h.jsx)("option",{children:"Sporedni sadr\u017eaj"})]}),Object(h.jsxs)("select",{onChange:function(e){return Ve(e,"two")},defaultValue:"Po\u010detna",ref:Pe,children:[Object(h.jsx)("option",{children:"Po\u010detna"}),Object(h.jsx)("option",{children:"Vijesti"}),Object(h.jsx)("option",{children:"Biznis"}),Object(h.jsx)("option",{children:"Sport"}),Object(h.jsx)("option",{children:"Magazin"}),Object(h.jsx)("option",{children:"Lifestyle"}),Object(h.jsx)("option",{children:"Scitech"}),Object(h.jsx)("option",{children:"Auto"})]}),!C&&Object(h.jsx)("select",{onChange:function(e){return Ke(e,"dva")},value:v,defaultValue:"Vijesti",children:f.map((function(e){return Object(h.jsx)("option",{children:e},Object(M.a)())}))}),Object(h.jsxs)("div",{id:L.a.chooseModeCnt,children:[Object(h.jsx)("input",{type:"checkbox",id:"adding",name:"dodajswitch",value:"Dodaj clanak",onClick:function(e){Qe(e,"dodaj")},disabled:!ie.length,checked:P,ref:Te}),Object(h.jsx)("label",{htmlFor:"adding",children:"Dodaj \u010dlanak"}),Object(h.jsx)("input",{type:"checkbox",id:"switching",name:"dodajswitch",value:"Zamjeni clanak",onClick:function(e){Qe(e,"zamjeni")},disabled:!ie.length,checked:H,ref:Ae}),Object(h.jsx)("label",{htmlFor:"switching",children:"Zamjeni poziciju"}),Object(h.jsx)("input",{type:"checkbox",id:"editing",name:"dodajswitch",value:"Edituj clanak",onClick:function(e){Qe(e,"edituj")},disabled:!ie.length,checked:ce,ref:Le}),Object(h.jsx)("label",{htmlFor:"editing",children:"Edituj \u010dlanak"})]}),Object(h.jsx)("div",{id:L.a.saveChanges,children:Object(h.jsx)("button",{onClick:function(){var e=Ce.current.value,t=Ce.current.nextSibling.value,n=m.ref("viewContent/".concat(e,"/").concat(t).concat("Sporedni sadr\u017eaj"===e?"/"+v:""));console.log(v),console.log("viewContent/".concat(e,"/").concat(t).concat("Sporedni sadr\u017eaj"===e?"/"+v:"")),console.log(ie);var c,a={},r=0;if(Ne.current||C||(c=!0),ie.forEach((function(e,t){c?t<4&&(e.id?(a[r]=[],a[r][0]=e.id,a[r][1]="".concat(e.category,"/").concat(e.subCategory),r++):(a[r]="",r++)):e.id?(a[r]=[],a[r][0]=e.id,a[r][1]="".concat(e.category,"/").concat(e.subCategory),r++):(a[r]="",r++)})),console.log(a),n.get().then((function(n){if(n.exists){var c=n.val();if(console.log(c),c){var r=Object.keys(c);console.log(r),alert("does exist"),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/viewContent/".concat(e,"/").concat(t).concat("Sporedni sadr\u017eaj"===e?"/"+v:"","/").concat(r[0],".json"),{method:"PATCH",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}else alert("does not exist"),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/viewContent/".concat(e,"/").concat(t).concat("Sporedni sadr\u017eaj"===e?"/"+v:"",".json"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}})),!C)Ce.current.nextSibling.nextSibling.value},children:"Spasi izmjene"})})]}),!C&&Object(h.jsxs)("div",{className:L.a.articleSubCnt,style:"Po\u010detna"!==Pe.current.value&&"Scitech"!==v||"Po\u010detna"!==Pe.current.value&&"Auto"!==v||"Po\u010detna"===Pe.current.value&&("Auto"===v||"Scitech"===v)?{gridTemplateColumns:"1fr"}:null,children:[Object(h.jsx)("div",{className:L.a.subLeft,ref:Se,children:ie.map((function(e,t){return 0!==Object.keys(e).length&&t<4?P?Object(h.jsxs)("div",{className:L.a.subLeftItem,onMouseEnter:function(){return Xe(t)},onMouseLeave:qe,children:[me!==t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:L.a.subLeftItemImg,children:Object(h.jsx)("img",{src:e.images[0]})}),Object(h.jsxs)("div",{className:L.a.subLeftItemText,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:L.a.subLeftItemBundle,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:L.a.subLeftBundleRight,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]})," ",me===t&&Object(h.jsx)("div",{className:L.a.addArticleLeft,children:Object(h.jsx)("i",{class:"fas fa-plus",onClick:function(){return B(!0)}})})]},Object(M.a)()):Object(h.jsx)("div",{className:L.a.subLeftItem,onMouseEnter:function(){return Xe(t)},onMouseLeave:qe,draggable:!0,onDragStart:function(e){return $e(e)},onDrop:function(e){return tt(e)},onDragOver:function(e){return et(e)},children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:L.a.subLeftItemImg,children:Object(h.jsx)("img",{src:e.images[0]})}),Object(h.jsxs)("div",{className:L.a.subLeftItemText,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:L.a.subLeftItemBundle,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:L.a.subLeftBundleRight,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]})},Object(M.a)()):t<=3&&P?Object(h.jsx)("div",{className:1!==t?L.a.addArticle:"".concat(L.a.addArticle),onMouseEnter:function(){return Xe(t)},children:Object(h.jsx)("i",{class:"fas fa-plus",onClick:function(){return B(!0)}})},Object(M.a)()):t<=3&&!P?Object(h.jsx)("div",{className:L.a.emptySub},Object(M.a)()):void 0}))}),"Po\u010detna"===Pe.current.value&&"Scitech"!==v&&"Auto"!==v&&Object(h.jsx)("div",{className:L.a.subRight,ref:Ne,children:ie.map((function(e,t){if(0!==Object.keys(e).length){if(t>=4&&t<=5)return P?Object(h.jsxs)("div",{className:L.a.subRightItem,onMouseEnter:function(){return Xe(t)},onMouseLeave:qe,children:[me!==t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:L.a.subRightText,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:L.a.subRightBundle,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:L.a.subRightBundleRight,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]}),me===t&&Object(h.jsx)("div",{className:L.a.addArticle,onMouseEnter:function(){return Xe(t)},style:{borderTop:"0.1rem solid #e5e7eb"},children:Object(h.jsx)("i",{class:"fas fa-plus",onClick:function(){return B(!0)}})},Object(M.a)())]},Object(M.a)()):Object(h.jsxs)("div",{className:L.a.subRightItem,onMouseEnter:function(){return Xe(t)},onMouseLeave:qe,draggable:!0,onDragStart:function(e){return $e(e)},onDrop:function(e){return tt(e)},onDragOver:function(e){return et(e)},children:[Object(h.jsxs)("div",{className:L.a.subRightText,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:L.a.subRightBundle,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:L.a.subRightBundleRight,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]},Object(M.a)())}else{if(t>=4&&t<6&&P)return Object(h.jsx)("div",{className:L.a.addArticle,onMouseEnter:function(){return Xe(t)},children:Object(h.jsx)("i",{class:"fas fa-plus",onClick:function(){return B(!0)}})},Object(M.a)());if(t>=4&&t<6&&!P)return Object(h.jsx)("div",{className:L.a.emptySub},Object(M.a)())}}))})]}),C&&Object(h.jsx)("div",{id:L.a.allArticlesMainBodyContent,ref:we,children:ie&&ie.map((function(e,t){return P?0!==Object.keys(e).length?1!==t?Object(h.jsxs)("div",{className:L.a.articleItemSm,onMouseEnter:function(){return Xe(t)},onMouseLeave:qe,children:[me!==t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:L.a.articleImgCnt,children:[Object(h.jsx)("img",{src:e.images[0]}),e.images.length>1&&Object(h.jsx)("i",{class:"far fa-images"})]}),Object(h.jsxs)("div",{className:L.a.articleTitles,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:L.a.articleFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0,Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})," ",me===t&&Object(h.jsx)("div",{className:L.a.addArticle,style:{borderTop:"0.1rem solid #e5e7eb",borderBottom:"0.1rem solid #e5e7eb"},children:Object(h.jsx)("i",{class:"fas fa-plus",onClick:function(){return B(!0)}})})]},Object(M.a)()):Object(h.jsxs)("div",{className:L.a.articleItemBg,onMouseEnter:function(){return Xe(t)},onMouseLeave:qe,children:[me!==t&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:L.a.articleImageCntBg,children:Object(h.jsx)("img",{src:e.images[0]})}),Object(h.jsxs)("div",{className:L.a.articleItemBgHeader,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:L.a.articleItemBgFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:L.a.articleItemBgFooterBundle,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]}),me===t&&Object(h.jsx)("div",{className:L.a.addArticle,style:{borderTop:"0.1rem solid #e5e7eb",borderBottom:"0.1rem solid #e5e7eb"},children:Object(h.jsx)("i",{class:"fas fa-plus",onClick:function(){return B(!0)}})})]},Object(M.a)()):Object(h.jsx)("div",{className:1!==t?L.a.addArticle:"".concat(L.a.addArticle," ").concat(L.a.addArticleBg),style:{borderTop:"0.1rem solid #e5e7eb",borderBottom:"0.1rem solid #e5e7eb"},onMouseEnter:function(){return Xe(t)},children:Object(h.jsx)("i",{class:"fas fa-plus",onClick:function(){return B(!0)}})},Object(M.a)()):0!==Object.keys(e).length?1!==t?Object(h.jsxs)("div",{className:L.a.articleItemSm,onMouseEnter:function(){return Xe(t)},onMouseLeave:qe,draggable:!0,onDragStart:function(e){return $e(e)},onDrop:function(e){return tt(e)},onDragOver:function(e){return et(e)},children:[Object(h.jsxs)("div",{className:L.a.articleImgCnt,children:[Object(h.jsx)("img",{src:e.images&&e.images[0]}),e.images&&e.images.length>1&&Object(h.jsx)("i",{class:"far fa-images"})]}),Object(h.jsxs)("div",{className:L.a.articleTitles,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:L.a.articleFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?Object.keys(e.comments).length:0,Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]},Object(M.a)()):Object(h.jsxs)("div",{className:L.a.articleItemBg,onMouseEnter:function(){return Xe(t)},onMouseLeave:qe,draggable:!0,onDragStart:function(e){return $e(e)},onDrop:function(e){return tt(e)},onDragOver:function(e){return et(e)},children:[Object(h.jsx)("div",{className:L.a.articleImageCntBg,children:Object(h.jsx)("img",{src:e.images[0]})}),Object(h.jsxs)("div",{className:L.a.articleItemBgHeader,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:e.title})]}),Object(h.jsxs)("div",{className:L.a.articleItemBgFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:L.a.articleItemBgFooterBundle,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comment"})," ",e.comments?e.comments.length:0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor!==Object?0:Object.keys(e.shares).length]})]})]})]},Object(M.a)()):Object(h.jsx)("div",{className:1!==t?L.a.empty:L.a.emptyBg},Object(M.a)())}))})]})})]})]})},je=n(16),ue=n.n(je),me=n(54),be=n.n(me),he=function(e){var t=Object(c.useRef)();Object(c.useEffect)((function(){console.log(e)}),[e]);return Object(h.jsx)("div",{className:be.a.postComment,children:Object(h.jsxs)("div",{className:be.a.postCommentBundle,children:[Object(h.jsx)("textarea",{name:"komentar",className:be.a.postCommentTextarea,placeholder:"upi\u0161i komentar",ref:t}),Object(h.jsx)("button",{children:Object(h.jsxs)("span",{onClick:function(){if(t.current.value.length>0){var n=JSON.parse(localStorage.getItem("userObj")),c=n.displayName,a=n.avatarColor,r=new Date,o={userName:c,avatarColor:a,date:"".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate()," ").concat(r.getHours(),":").concat(r.getMinutes(),":").concat(r.getSeconds()),comment:t.current.value},s=b.currentUser.uid;fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e.path.category,"/").concat(e.path.subCategory,"/-").concat(e.path.id,"/comments.json"),{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){t.current.value="",e.getComments&&(console.log(e),console.log(e.getComments),e.getComments(!0)),console.log(n);var c={articlePath:"".concat(e.path.category,"/").concat(e.path.subCategory,"/-").concat(e.path.id),commentId:n.name};fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(s,"/comments/comLength.json")).then((function(e){return e.json()})).then((function(e){console.log(e);var t=e+1;console.log(t);var n=[fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(s,"/comments/").concat(null===e?0:e,"/").concat(c.commentId,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(s,"/comments/comLength.json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:t}).then((function(e){return e.json()}))];Promise.all(n).then((function(e){console.log(e)}))}))}))}},children:[Object(h.jsx)("i",{class:"fas fa-pen"})," Objavi komentar"]})})]})})},Oe=n(35),fe=n(19),pe=n.n(fe),ge=function(e){var t=Object(c.useContext)(x),n=Object(i.useHistory)(),a=Object(i.useLocation)(),o=Object(c.useRef)(),s=Object(c.useRef)(),j=Object(c.useState)(a.state.articleData?Array.isArray(e.commentIndex)?0===a.state.articleData.comments[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes?0:a.state.articleData.comments[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes:0===a.state.articleData.comments[e.commentIndex].commentLikes?0:a.state.articleData.comments[e.commentIndex].commentLikes:e.commentLikes?e.commentLikes:0),u=Object(l.a)(j,2),m=u[0],b=u[1],O=Object(c.useState)(a.state.articleData?Array.isArray(e.commentIndex)?0===a.state.articleData.comments[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes?0:a.state.articleData.comments[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes:0===a.state.articleData.comments[e.commentIndex].commentDislikes?0:a.state.articleData.comments[e.commentIndex].commentDislikes:e.commentDislikes?e.commentDislikes:0),f=Object(l.a)(O,2),p=f[0],g=f[1],v=Object(c.useState)(null),k=Object(l.a)(v,2),y=k[0],_=k[1],C=Object(c.useState)(!1),I=Object(l.a)(C,2),D=I[0],w=I[1],S=Object(c.useState)(!1),B=Object(l.a)(S,2);B[0],B[1];Object(c.useEffect)((function(){console.log(e.commentIndex),console.log(e.topComment,e.commentIndex),console.log(e.negativeComment,e.commentIndex),console.log(e)}),[]);var T=function(e,t){if(console.log(e),e)for(var n in e)if(t===e[n])return n.split("-").join(".")},A=function(t){if(w(!0),!D){var n=localStorage.getItem("userIp"),c=a.state.articleData?"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(a.state.articleData.category,"/").concat(a.state.articleData.subCategory,"/-").concat(a.state.articleData.id,"/comments/").concat(Array.isArray(e.commentIndex)?e.commentIndexDB[0]:e.commentIndexDB).concat(Array.isArray(e.commentIndexDB)?"/replies/"+e.commentIndexDB[1]:"",".json"):"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e.path,".json");console.log(c),fetch(c).then((function(e){return e.json()})).then((function(c){console.log(c),console.log(e.commentIndex);var a=!1,r=void 0;if("like"===t){if(c.commentDislikes&&(r=T(c.commentDislikes,n)),console.log(r),c.commentLikes)for(var o in c.commentLikes)n===c.commentLikes[o]&&(a=!0);if(r||a){if(!r||a)return void w(!1);b((function(e){if(c.commentLikes){var t=Object(d.a)({},c.commentLikes);return t[n.split(".").join("-")]=n,t}return Object(Oe.a)({},n.split(".").join("-"),n)})),g((function(e){if(c.commentDislikes){var t=Object(d.a)({},c.commentDislikes);return void 0!==Object.keys(t).find((function(e){return e===r.split(".").join("-")}))&&delete t[r.split(".").join("-")],0===Object.keys(t).length?0:t}}))}else b((function(e){if(console.log(c.commentLikes),c.commentLikes){var t=Object(d.a)({},c.commentLikes);return t[n.split(".").join("-")]=n,t}return Object(Oe.a)({},n.split(".").join("-"),n)}))}else{if(c.commentLikes&&(r=T(c.commentLikes,n)),c.commentDislikes)for(var s in c.commentDislikes)n===c.commentDislikes[s]&&(a=!0);if(r||a){if(!r||a)return void w(!1);g((function(e){if(c.commentDislikes){var t=Object(d.a)({},c.commentDislikes);return t[n.split(".").join("-")]=n,t}return Object(Oe.a)({},n.split(".").join("-"),n)})),b((function(e){if(c.commentLikes){var t=Object(d.a)({},c.commentLikes);return void 0!==Object.keys(t).find((function(e){return e===r.split(".").join("-")}))&&delete t[r.split(".").join("-")],console.log(t),0===Object.keys(t).length?0:t}}))}else g((function(e){if(c.commentDislikes){var t=Object(d.a)({},c.commentDislikes);return t[n.split(".").join("-")]=n,t}return Object(Oe.a)({},n.split(".").join("-"),n)}))}console.log(!1),console.log(Object.keys(c).length),console.log(c),_((function(e){return"like"!==t||a?"dislike"!==t||a?void 0:r?["/commentDislikes/",n,"/commentLikes/"]:["/commentDislikes/",n]:r?["/commentLikes/",n,"/commentDislikes/"]:["/commentLikes/",n]}))}))}};Object(c.useEffect)((function(){if(y){console.log(m),console.log(p),y.commentLikes=m,y.commentDislikes=p,console.log(y);var t=y[1].split(".").join("-"),c=a.state.articleData?"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(a.state.articleData.category,"/").concat(a.state.articleData.subCategory,"/-").concat(a.state.articleData.id,"/comments/").concat(Array.isArray(e.commentIndexDB)?e.commentIndexDB[0]:e.commentIndexDB+y[0]+t).concat(Array.isArray(e.commentIndexDB)?"/replies/"+e.commentIndexDB[1]+y[0]+t:"",".json"):"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e.path).concat(y[0]).concat(t,".json");if(console.log(c),2===y.length)fetch("".concat(c),{method:"PUT",body:JSON.stringify(y[1]),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){if(console.log(t),a.state.articleData){var c=Object(N.a)(JSON.parse(JSON.stringify(a.state.articleData.comments)));console.log(a.state.articleData.comments),console.log(c),console.log(e.commentIndex),Array.isArray(e.commentIndex)?"/commentLikes/"===y[0]?c[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes=Object(d.a)({},m):"/commentDislikes/"===y[0]&&(c[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes=Object(d.a)({},p)):"/commentLikes/"===y[0]?c[e.commentIndex].commentLikes=Object(d.a)({},m):"/commentDislikes/"===y[0]&&(c[e.commentIndex].commentDislikes=Object(d.a)({},p)),console.log(c),console.log(c[e.commentIndex]),console.log(e),n.replace({state:{articleData:Object(d.a)(Object(d.a)({},a.state.articleData),{},{comments:Object(N.a)(c)})}}),w(!1)}else{var r=JSON.parse(JSON.stringify(e.commentData));Array.isArray(e.commentIndex)?"/commentLikes/"===y[0]?r[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes=Object(d.a)({},m):"/commentDislikes/"===y[0]&&(r[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes=Object(d.a)({},p)):"/commentLikes/"===y[0]?r[e.commentIndex].commentLikes=Object(d.a)({},m):"/commentDislikes/"===y[0]&&(r[e.commentIndex].commentDislikes=Object(d.a)({},p)),e.setCommentData(Object(N.a)(r)),w(!1)}})),_(null);else{var r=a.state.articleData?"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(a.state.articleData.category,"/").concat(a.state.articleData.subCategory,"/-").concat(a.state.articleData.id,"/comments/").concat(Array.isArray(e.commentIndexDB)?e.commentIndexDB[0]:e.commentIndexDB+y[2]+t).concat(Array.isArray(e.commentIndexDB)?"/replies/"+e.commentIndexDB[1]+y[2]+t:"",".json"):"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e.path).concat(y[2]).concat(t,".json"),o=[fetch("".concat(c),{method:"PUT",body:JSON.stringify(y[1]),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})),fetch("".concat(r),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))];Promise.all(o).then((function(t){if(console.log(t),a.state.articleData){var c=Object(N.a)(JSON.parse(JSON.stringify(a.state.articleData.comments)));console.log(c),console.log(e.commentIndex),Array.isArray(e.commentIndex)?"/commentLikes/"===y[0]?(c[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes=Object(d.a)({},m),c[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes=p?Object(d.a)({},p):0):"/commentDislikes/"===y[0]&&(c[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes=m?Object(d.a)({},m):0,c[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes=Object(d.a)({},p)):"/commentLikes/"===y[0]?(c[e.commentIndex].commentLikes=Object(d.a)({},m),c[e.commentIndex].commentDislikes=p?Object(d.a)({},p):0):"/commentDislikes/"===y[0]&&(c[e.commentIndex].commentLikes=m?Object(d.a)({},m):0,c[e.commentIndex].commentDislikes=Object(d.a)({},p)),console.log(c),console.log(c[e.commentIndex]),console.log(e),n.replace({state:{articleData:Object(d.a)(Object(d.a)({},a.state.articleData),{},{comments:Object(N.a)(c)})}}),w(!1)}else{var r=JSON.parse(JSON.stringify(e.commentData));Array.isArray(e.commentIndex)?"/commentLikes/"===y[0]?(r[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes=Object(d.a)({},m),r[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes=p?Object(d.a)({},p):0):"/commentDislikes/"===y[0]&&(r[e.commentIndex[0]].replies[e.commentIndex[1]].commentLikes=m?Object(d.a)({},m):0,r[e.commentIndex[0]].replies[e.commentIndex[1]].commentDislikes=Object(d.a)({},p)):"/commentLikes/"===y[0]?(r[e.commentIndex].commentLikes=Object(d.a)({},m),r[e.commentIndex].commentDislikes=p?Object(d.a)({},p):0):"/commentDislikes/"===y[0]&&(r[e.commentIndex].commentLikes=m?Object(d.a)({},m):0,r[e.commentIndex].commentDislikes=Object(d.a)({},p)),e.setCommentData(Object(N.a)(r)),w(!1)}})),_(null)}}}),[y,m,p]),Object(c.useEffect)((function(){console.log(m);var e=localStorage.getItem("userIp");m&&Object.keys(m).length&&e&&Object.keys(m).find((function(t){return t===e.split(".").join("-")}))?o.current.style.opacity="0.5":o.current.style.opacity="1"}),[m]),Object(c.useEffect)((function(){if(console.log(p),p&&Object.keys(p).length){var e=localStorage.getItem("userIp");Object.keys(p).find((function(t){return t===e.split(".").join("-")}))?s.current.style.opacity="0.5":s.current.style.opacity="1"}else s.current.style.opacity="1"}),[p]),Object(c.useEffect)((function(){a&&console.log(a.state.articleData)}),[a]);return Object(h.jsxs)("div",{className:"Array"===e.commentIndex.constructor.name?"".concat(pe.a.commentContainerReply).concat(e.negativeComment?" "+pe.a.negativeComment:""):"".concat(pe.a.commentContainer).concat(e.topComment?" "+pe.a.topComment:"").concat(e.negativeComment?" "+pe.a.negativeComment:""),onClick:function(){},children:[Object(h.jsxs)("div",{className:pe.a.commentHeader,children:[Object(h.jsx)("div",{className:pe.a.commentHeaderFirst,children:Object(h.jsx)("i",{class:"fas fa-user",style:{backgroundColor:"#".concat(e.avatarColor),color:"rgb(255, 255, 255)",padding:"1.5rem",borderRadius:"0.3rem"}})}),Object(h.jsxs)("div",{className:pe.a.commentHeaderSecond,children:[Object(h.jsx)("h4",{children:Object(h.jsx)(r.b,{to:"/profil/".concat(e.displayName),children:e.displayName})}),Object(h.jsx)("p",{children:e.path?"prije ".concat(e.date?e.date:"1 sekund"):Object(h.jsx)(r.b,{to:a.state.articleData&&{pathname:"/komentar/".concat(Array.isArray(e.commentIndexDB)?e.commentIndexDB[1]:e.commentIndexDB),search:"?".concat(JSON.stringify({articleLink:"".concat(a.state.articleData.category,"/").concat(a.state.articleData.subCategory,"/-").concat(a.state.articleData.id),commentId:Array.isArray(e.commentIndexDB)?e.commentIndexDB[1]:e.commentIndexDB,parentCommentId:Array.isArray(e.commentIndexDB)?e.commentIndexDB[0]:void 0}))},children:"prije ".concat(e.date?e.date:"1 sekund")})})]})]}),Object(h.jsx)("div",{className:pe.a.commentBody,children:Object(h.jsx)("p",{children:e.comment})}),Object(h.jsxs)("div",{className:pe.a.commentFooter,children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("span",{className:pe.a.like,onClick:function(){A("like")},ref:o,children:[Object(h.jsx)("i",{class:"fas fa-long-arrow-alt-up"})," ",m&&Object.keys(m).length?Object.keys(m).length:0]}),Object(h.jsxs)("span",{className:pe.a.dislike,onClick:function(){A("dislike")},ref:s,children:[Object(h.jsx)("i",{class:"fas fa-long-arrow-alt-down"})," ",p&&Object.keys(p).length?Object.keys(p).length:0]})]}),Object(h.jsxs)("div",{className:pe.a.reportLikeParent,children:[Object(h.jsxs)("span",{className:pe.a.report,style:t.isLoggedIn?null:{marginRight:"0rem"},onClick:function(){return e.handleReport({commentId:Array.isArray(e.commentIndexDB)?e.commentIndexDB[1]:e.commentIndexDB,user:e.displayName,comment:e.comment,search:"?".concat(JSON.stringify({comLink:e.path,commentId:Array.isArray(e.commentIndexDB)?e.commentIndexDB[1]:e.commentIndexDB,parentCommentId:Array.isArray(e.commentIndexDB)?e.commentIndexDB[0]:void 0}))})},children:[Object(h.jsx)("i",{class:"far fa-flag"})," ",Object(h.jsx)("p",{children:"Prijavi"})]}),t.isLoggedIn&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{className:pe.a.divide}),Object(h.jsxs)("span",{className:pe.a.reply,onClick:function(){return e.handleReply(e.commentIndex)},children:[Object(h.jsx)("i",{class:"fas fa-pen"}),Object(h.jsx)("p",{children:"Odgovori"})]})]})]})]})]})},xe=n(55),ve=n.n(xe),ke=Object(c.forwardRef)((function(e,t){var n=Object(i.useLocation)(),a=Object(c.useRef)();return Object(h.jsxs)("div",{id:Array.isArray(e.commentIndex)?ve.a.commentReplyReplies:ve.a.commentReply,children:[Object(h.jsx)("textarea",{ref:a,placeholder:"upi\u0161i odgovor"}),Object(h.jsx)("div",{id:ve.a.commentReplyFooter,children:Object(h.jsxs)("span",{onClick:function(){console.log(n.state);var c=JSON.parse(localStorage.getItem("userObj"));if(c&&a.current.value.length>2){var r=c.displayName,o=c.avatarColor,s=new Date,i={userName:r,avatarColor:o,date:"".concat(s.getFullYear(),"-").concat(s.getMonth()+1,"-").concat(s.getDate()," ").concat(s.getHours(),":").concat(s.getMinutes(),":").concat(s.getSeconds()),comment:a.current.value},l=b.currentUser.uid,j=e&&e.path?e.path.split("/"):n.state.articleData.linkPath.split("/");j.splice(3),j=j.join("/"),console.log(e.path);var u=e.path?"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e.path,"/replies.json"):"https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(n.state.articleData.category,"/").concat(n.state.articleData.subCategory,"/-").concat(n.state.articleData.id,"/comments/").concat(Array.isArray(e.commentIndexDB)?e.commentIndexDB[0]:e.commentIndexDB,"/replies.json");fetch("".concat(u),{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(c){console.log(c),a.current.value="",e.getComments?e.getComments(!0):(t.current=t.current+1,e.setCommentData((function(t){var n=Object(N.a)(JSON.parse(JSON.stringify(t))),a=Array.isArray(e.commentIndex)?e.commentIndex[0]:e.commentIndex;return i.id=c.name,i.path="".concat(e.path,"/replies/").concat(c.name),n[a].replies=n[a].replies?[].concat(Object(N.a)(n[a].replies),[Object(d.a)({},i)]):[Object(d.a)({},i)],console.log(n),n})),e.setReplyIndex(null));var r={articlePath:e.path?j:"".concat(n.state.articleData.category,"/").concat(n.state.articleData.subCategory,"/-").concat(n.state.articleData.id),commentId:c.name,parentCommentId:Array.isArray(e.commentIndexDB)?e.commentIndexDB[0]:e.commentIndexDB};console.log(e.commentIndexDB),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(l,"/comments/comLength.json")).then((function(e){return e.json()})).then((function(e){console.log(e);var t=e+1;console.log(t);var n=[fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(l,"/comments/").concat(e,"/").concat(r.commentId,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(l,"/comments/comLength.json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:t}).then((function(e){return e.json()}))];Promise.all(n).then((function(e){console.log(e)}))}))}))}},children:[Object(h.jsx)("i",{class:"fas fa-pen"}),"\xa0 Odgovori"]})})]})})),ye=n(56),_e=n.n(ye),Ce=function(e){return Object(h.jsx)("div",{className:"".concat(_e.a.showCommentReplies).concat(e.showAll?" "+_e.a.showAll:e.showReply?"":" "+_e.a.showCommentMore),onClick:e.onClick,children:e.showAll?"PRIKA\u017dI SVE KOMENTARE (".concat(e.showAll,")"):e.showReply?"PRIKA\u017dI ODGOVORE (".concat(e.showReply,")"):e.loading?"U\u010ditavam...":!e.loading&&"PRIKA\u017dI JO\u0160 KOMENTARA"})},Ie=n(25),De=n.n(Ie),we=function(e){var t=Object(c.useRef)();return Object(h.jsxs)("div",{id:De.a.reportContainer,children:[Object(h.jsx)("div",{id:De.a.reportHeader,children:Object(h.jsx)("h3",{children:"Navedite razlog zbog kojeg \u017eelite prijaviti ovaj komentar?"})}),Object(h.jsxs)("div",{id:De.a.reportBody,children:[Object(h.jsxs)("div",{id:De.a.reportRadioBtns,ref:t,children:[Object(h.jsxs)("div",{className:De.a.bundleRadios,children:[Object(h.jsx)("input",{type:"radio",id:"reportChoice1",name:"report",value:"govor mr\u017enje",readonly:"readonly"}),Object(h.jsx)("label",{htmlFor:"reportChoice1",children:"Govor mr\u017enje"})]}),Object(h.jsxs)("div",{className:De.a.bundleRadios,children:[Object(h.jsx)("input",{type:"radio",id:"reportChoice2",name:"report",value:"negiranje genocida",readonly:"readonly"}),Object(h.jsx)("label",{htmlFor:"reportChoice2",children:"Negiranje genocida"})]}),Object(h.jsxs)("div",{className:De.a.bundleRadios,children:[Object(h.jsx)("input",{type:"radio",id:"reportChoice3",name:"report",value:"neprikladan rje\u010dnik",readonly:"readonly"}),Object(h.jsx)("label",{htmlFor:"reportChoice3",children:"Neprikladan rje\u010dnik"})]}),Object(h.jsxs)("div",{className:De.a.bundleRadios,children:[Object(h.jsx)("input",{type:"radio",id:"reportChoice4",name:"report",value:"off topic",readonly:"readonly"}),Object(h.jsx)("label",{htmlFor:"reportChoice4",children:"Off topic"})]}),Object(h.jsxs)("div",{className:De.a.bundleRadios,children:[Object(h.jsx)("input",{type:"radio",id:"reportChoice5",name:"report",value:"vrije\u0111anje",readonly:"readonly"}),Object(h.jsx)("label",{htmlFor:"reportChoice5",children:"Vrije\u0111anje"})]}),Object(h.jsxs)("div",{className:De.a.bundleRadios,children:[Object(h.jsx)("input",{type:"radio",id:"reportChoice6",name:"report",value:"spam"}),Object(h.jsx)("label",{htmlFor:"reportChoice6",children:"Spam"})]}),Object(h.jsxs)("div",{className:De.a.bundleRadios,children:[Object(h.jsx)("input",{type:"radio",id:"reportChoice7",name:"report",value:"reklama",readonly:"readonly"}),Object(h.jsx)("label",{htmlFor:"reportChoice7",children:"Reklama"})]})]}),Object(h.jsxs)("div",{id:De.a.confirm,children:[Object(h.jsx)("button",{onClick:function(){e.closeModal(null)},children:"Odustani"}),Object(h.jsx)("button",{onClick:function(){var n=new Date,c=n.getFullYear(),a=n.getMonth()+1,r=n.getDate();console.log(a),console.log(r),console.log(e.reportData),console.log(t.current.style);for(var o=[],s=e.reportData,i=0;i<t.current.children.length;i++)t.current.children[i].children[0].checked&&o.push(t.current.children[i].children[0]);o.length?(s.reason=o[0].value,fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/reports/".concat(c,"/").concat(a,"/").concat(r,".json"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),e.closeModal(null)):alert("Molimo, odaberite razlog prijave.")},children:"Prijavi komentar"})]}),Object(h.jsx)("p",{id:De.a.footerNote,children:"Ukoliko \u017eelite dopuniti va\u0161u prijavu ili prijaviti odre\u0111enog korisnika molimo da nas kontaktirate na poseban e-mail: komentari@klix.ba."})]})]})},Se=n(74),Ne=n(11),Be=n.n(Ne),Te=n(50),Ae=n.n(Te),Le=function(e){var t=e.data,n=e.indL;return Object(c.useState)((function(){console.log(t),console.log(n),console.log(3===n[1]&&1===n[0])}),[]),Object(h.jsxs)("div",{className:"".concat(Ae.a.linkedArticle).concat(1===n[1]?" ".concat(Ae.a.linkedArticleSolo):""),style:2===n[1]&&1===n[0]?{position:"static"}:null,children:[Object(h.jsx)("div",{className:Ae.a.imageContainer,children:Object(h.jsx)(r.b,{to:{pathname:encodeURI("/".concat(t.articlePath)),state:void 0},children:Object(h.jsx)("img",{src:t.thumbnail.replace("https://firebasestorage.googleapis.com","https://ik.imagekit.io/1cryg5xvxsq/tr:w-300")})})}),Object(h.jsxs)("div",{className:Ae.a.titles,children:[Object(h.jsx)("h3",{style:{color:"".concat(re[t.articlePath.split("/")[0].toLowerCase()])},children:t.subTitle}),Object(h.jsx)("h3",{children:Object(h.jsx)(r.b,{to:{pathname:encodeURI("/".concat(t.articlePath)),state:void 0},children:t.title})})]})]})},Pe=n(45),Re=n.n(Pe),Ee=function(e){var t=e.data;return Object(h.jsxs)("div",{className:Re.a.promoItem,children:[Object(h.jsx)("div",{className:Re.a.promoImageCnt,children:Object(h.jsx)(r.b,{to:{pathname:encodeURI("/".concat(t.category,"/").concat(t.subCategory,"/").concat(tt(t.title),"/").concat(t.id)),state:{articleData:t}},children:Object(h.jsx)("img",{src:t.imageText[0][0]})})}),Object(h.jsxs)("div",{className:Re.a.promoBody,children:[Object(h.jsxs)("div",{className:Re.a.promoTitles,children:[Object(h.jsx)("h3",{style:{color:se[t.category.toLowerCase()]},children:t.subTitle}),Object(h.jsx)("h3",{children:Object(h.jsx)(r.b,{to:{pathname:encodeURI("/".concat(t.category,"/").concat(t.subCategory,"/").concat(tt(t.title),"/").concat(t.id)),state:{articleData:t}},children:t.title})})]}),Object(h.jsxs)("div",{className:Re.a.promoFooter,children:[Object(h.jsx)("span",{children:t.date?le(t.date):""}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comments"})," 0",Object(h.jsx)("i",{class:"fas fa-share-alt"})," 0"]})]})]})]})},Fe=n(31),Me=n.n(Fe),He=function(e){console.log(e);var t=0;if(e.comments){for(var n=0;n<Object.keys(e.comments).length;n++)e.comments[Object.keys(e.comments)[n]].replies&&(t+=Object.keys(e.comments[Object.keys(e.comments)[n]].replies).length);return t+Object.keys(e.comments).length}return 0},ze=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){m.ref("dates/2022/3/8").once("value",function(){var e=Object(E.a)(R.a.mark((function e(t){var n,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],c=t.val(),console.log(c),!Object.keys(c).length){e.next=10;break}return n=o(c),e.next=7,n.then((function(e){return n=Object(N.a)(e)}));case 7:n.sort((function(e,t){return e.len-t.len>0?-1:e.len-t.len<0?1:0})),n.splice(2),n.length>=5?(n.splice(5),a(Object(N.a)(n))):m.ref("dates/2022/3/7").once("value",function(){var e=Object(E.a)(R.a.mark((function e(t){var c,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.val(),console.log(c),r=o(c),e.next=5,r.then((function(e){return r=Object(N.a)(e)}));case 5:r.sort((function(e,t){return e.len-t.len>0?-1:e.len-t.len<0?1:0})),r.splice(5-n.length),(r=r.concat(n)).sort((function(e,t){return e.len-t.len>0?-1:e.len-t.len<0?1:0})),a(Object(N.a)(r));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var o=function(e){return new Promise((function(t){for(var n=[],c=[],a=0;a<Object.keys(e).length;a++)c.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(Object.values(e)[a].path,"/").concat(Object.values(e)[a].id,".json")).then((function(e){return e.json()})));Promise.all(c).then((function(e){console.log(e);for(var c=0;c<e.length;c++)if(e[c].comments){var a=He(e[c]);a?a+Object.keys(e[c].comments).length+(e[c].shares.constructor===Object?Object.keys(e[c].shares).length:0)>=10&&(e[c].len=a+Object.keys(e[c].comments).length+(e[c].shares.constructor===Object?Object.keys(e[c].shares).length:0),n.push(e[c])):Object.keys(e[c].comments).length+(e[c].shares.constructor===Object?Object.keys(e[c].shares).length:0)>=10&&(e[c].len=Object.keys(e[c].comments).length+(e[c].shares.constructor===Object?Object.keys(e[c].shares).length:0),n.push(e[c]))}else e[c].shares.constructor===Object&&Object.keys(e[c].shares).length>=10&&(e[c].len=Object.keys(e[c].shares).length,n.push(e[c]));return console.log(n),t(n)}))}))};return Object(h.jsxs)("div",{id:Me.a.popularCnt,children:[Object(h.jsxs)("div",{id:Me.a.popularHeader,children:[Object(h.jsx)("h3",{children:"Popularno"}),Object(h.jsx)("span",{children:Object(h.jsx)("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),Object(h.jsx)("div",{id:Me.a.popularBody,children:n&&n.map((function(e){return Object(h.jsxs)("div",{className:Me.a.popularItem,children:[Object(h.jsx)("div",{className:Me.a.popularItemHeader,children:Object(h.jsx)("h3",{style:{color:"".concat(re[e.category.toLowerCase()])},children:e.subTitle})}),Object(h.jsx)("div",{className:Me.a.popularItemBody,children:Object(h.jsx)("p",{children:Object(h.jsx)(r.b,{to:{pathname:encodeURI("/".concat(e.category,"/").concat(e.subCategory,"/").concat(tt(e.title),"/").concat(e.id)),state:{articleData:Object(d.a)(Object(d.a)({},e),{},{linkPath:"/".concat(e.category,"/").concat(e.subCategory,"/").concat(tt(e.title),"/").concat(e.id)})}},children:e.title})})}),Object(h.jsxs)("div",{className:Me.a.popularItemFooter,children:[Object(h.jsx)("span",{className:Me.a.itemTime,children:le(e.date)}),Object(h.jsxs)("span",{className:Me.a.spanComShare,children:[Object(h.jsxs)("span",{className:Me.a.spanComment,children:[Object(h.jsxs)("svg",{class:"inline h-3 w-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[Object(h.jsx)("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),Object(h.jsx)("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]}),He(e)]}),Object(h.jsxs)("span",{className:Me.a.spanShare,children:[Object(h.jsx)("svg",{class:"ml-1 inline h-3 w-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(h.jsx)("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})})," ",e.shares.constructor===Object?Object.keys(e.shares).length:0]})]})]})]},Object(M.a)())}))})]})},Je={Vijesti:["BiH","Regija","Svijet","Dijaspora","Crna hronika","Humanitarne akcije"],Biznis:["Privreda","Finansije","Investicije","Smart Cash","Berza","Startupi","Posao"],Sport:["Nogomet","Ko\u0161arka","Tenis","Rukomet","Formula 1","Skijanje","Atletika","Borila\u010dki sportovi","Plivanje"],Magazin:["Kultura","Muzika","Film/TV","Showbiz","Zanimljivosti"],Lifestyle:["Moda i ljepota","Zdravlje","Veze i seks","Gastro","Ku\u0107a i ured","Putovanja","Bebe","Fitness","Ljubimci"],Scitech:["Nauka","Tehnologija"],Auto:["Testovi","Noviteti","Koncepti","Tuning"]},Ue=function(e){if(e.current){console.log(document.getElementsByTagName("header")[0]);var t=+window.getComputedStyle(document.getElementsByTagName("header")[0]).getPropertyValue("height").split("px")[0],n=+window.getComputedStyle(e.current.parentElement).getPropertyValue("margin-top").split("px")[0];e.current&&e.current.parentElement.getBoundingClientRect().top-t-n<=0&&(e.current.children[0].style.position="sticky",e.current.children[0].style.top="".concat(t+n,"px"))}},Ke=function(){var e=Object(c.useContext)(x),t=Object(i.useLocation)(),n=Object(i.useHistory)(),o=Object(c.useState)(null),s=Object(l.a)(o,2),j=s[0],u=s[1],b=Object(c.useState)([]),O=Object(l.a)(b,2),f=O[0],p=O[1],g=Object(c.useState)({}),v=Object(l.a)(g,2),k=v[0],y=v[1],_=Object(c.useState)([]),C=Object(l.a)(_,2),I=C[0],D=C[1],w=Object(c.useState)(!1),S=Object(l.a)(w,2),B=S[0],T=S[1],A=Object(c.useState)(!1),L=Object(l.a)(A,2),P=L[0],R=L[1],E=Object(c.useState)(!1),H=Object(l.a)(E,2),z=H[0],J=H[1],U=Object(c.useState)(null),K=Object(l.a)(U,2),V=K[0],Y=K[1],Z=Object(c.useState)(null),G=Object(l.a)(Z,2),X=G[0],q=G[1],W=Object(c.useState)(null),Q=Object(l.a)(W,2),$=Q[0],ee=Q[1],te=Object(c.useState)(""),ne=Object(l.a)(te,2),ce=ne[0],ae=ne[1],se=Object(c.useState)(0),ie=Object(l.a)(se,2),de=ie[0],je=ie[1],ue=Object(c.useState)([]),me=Object(l.a)(ue,2),be=me[0],fe=me[1],pe=Object(c.useState)([]),ge=Object(l.a)(pe,2),xe=ge[0],ve=ge[1],ke=Object(c.useRef)(),ye=Object(c.useRef)(),_e=Object(c.useRef)(null),Ce=Object(c.useRef)(),Ie=Object(c.useRef)(),De=Object(c.useRef)(0);Object(c.useEffect)((function(){function e(){Ue(Ce),Ue(Ie)}return window.scrollTo(0,0),console.log(j),window.twttr&&window.twttr.widgets.load(),console.log(window),window.instgrm&&(console.log(window.instgrm),window.instgrm.Embeds.process()),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),Object(c.useEffect)((function(){if(t.state){window.scrollTo(0,0),console.log(t.state),console.log(t.pathname),u(Object(d.a)({},t.state.articleData)),t.state.articleData.tags&&Qe(t.state.articleData.tags,t.state.articleData.category,"-".concat(t.state.articleData.id)),console.log(t.state.articleData),fetch("https://api.ipify.org/?format=json").then((function(e){return e.json()})).then((function(e){var n=m.ref("articles/".concat(t.state.articleData.category,"/").concat(t.state.articleData.subCategory,"/-").concat(t.state.articleData.id,"/visited/").concat(e.ip.split(".").join("_")));n.once("value",(function(c){var a=c.val();console.log(a),console.log("s"),console.log("articles/".concat(t.state.articleData.category,"/").concat(t.state.articleData.subCategory,"/-").concat(t.state.articleData.id,"/visited/").concat(e.ip.split(".").join("_"))),n.set(e.ip)}))})),m.ref("articles/Promo/".concat(t.state.articleData.category)).orderByKey().limitToLast(9).once("value",(function(e){console.log(e.val());var t=e.val(),n=[];if(t&&!(Object.keys(t).length<9)){!function e(t,n,c){console.log(t),console.log(n),console.log(c),t.length<3&&(t.some((function(e){return e===n}))||t.push(n),e(t,Math.floor(Math.random()*c),c))}(n,Math.floor(Math.random()*Object.keys(t).length),Object.keys(t).length),console.log(n);for(var c=[],a=0;a<n.length;a++)c.push(t[Object.keys(t)[n[a]]]);console.log(c),ve([].concat(c))}}));var e=0;if(t.state.articleData.comments){for(var c in t.state.articleData.comments)t.state.articleData.comments[c].replies&&(e+=Object.keys(t.state.articleData.comments[c].replies).length);De.current=e+Object.keys(t.state.articleData.comments).length}for(var a=t.state.articleData.articleText,r=[],o="",s=[],i=0,l=0;l<a.length;l++)"\n"===a[l]&&"\n"===a[l+1]&&(r.push({text:a.slice(i,l)}),i=l),l===a.length-1&&r.push({text:a.slice(i)});console.log(r);var j=[],b=null,h=!1,O=0,f=[];r.forEach((function(e){console.log(e);for(var t=0;t<e.text.length;t++)if("<"!==e.text[t]||"b"!==e.text[t+1]||">"!==e.text[t+2]||e.text.includes("<list>")||e.text.includes("</list>")?"<"!==e.text[t]||"/"!==e.text[t+1]||"b"!==e.text[t+2]||">"!==e.text[t+3]||e.text.includes("<list>")||e.text.includes("</list>")?"\n"===e.text[t]||h||(o=o.concat(e.text[t])):(f.push({bold:e.text.slice(b+3,t)}),t+=3,b=null,h=!1):(b=t,h=!0,o&&(f.push({text:o}),o="")),t===e.text.length-1||t>=e.text.length){console.log(O);var n=!1;if(""!==o){for(var c=0;c<o.length;c++)if("<"===o[c]&&"l"===o[c+1]&&"i"===o[c+2]&&"s"===o[c+3]&&"t"===o[c+4]&&">"===o[c+5])n=c+6;else if("<"===o[c]&&"/"===o[c+1]&&"l"===o[c+2]&&"i"===o[c+3]&&"s"===o[c+4]&&"t"===o[c+5]&&">"===o[c+6]){var a=o.slice(n,c);f.push({list:a})}n||f.push({text:o})}j.push(Object(N.a)(f)),O++,s.push({text:o}),o="",f=[]}})),console.log(r),console.log(s),console.log(j);var g=[],x=[],v=[],k="",_=!1,C=0,I=0,w="",S=!1,B=0,T=0,A=0,L=!1;j.forEach((function(e,t){console.log(e),e.forEach((function(e){for(var n in console.log(t),e){"list"===n&&(L=!0),console.log(e[n]);for(var c=0;c<e[n].length;c++){if("<"!==e[n][c]||"l"!==e[n][c+1]||"i"!==e[n][c+2]||"n"!==e[n][c+3]||"k"!==e[n][c+4]||">"!==e[n][c+5]||L)"<"!==e[n][c]||"/"!==e[n][c+1]||"l"!==e[n][c+2]||"i"!==e[n][c+3]||"n"!==e[n][c+4]||"k"!==e[n][c+5]||">"!==e[n][c+6]||L||(k=e[n].slice(C,c+7),I=c+7,x.push(k),console.log("s"),k.includes(" external")?(v.push({externalLink:k}),console.log(v)):(g[A]=[{link:k}],A++));else{if(k){for(var a=c+6;a<e[n].length;a++)if("<"===e[n][a]&&"/"===e[n][a+1]&&"l"===e[n][a+2]&&"i"===e[n][a+3]&&"n"===e[n][a+4]&&"k"===e[n][a+5]&&">"===e[n][a+6]){if(e[n].slice(c,a+7).includes(" external")){v.push({text:e[n].slice(I,c)}),I=0;break}g[A]=[e[n].slice(0,c)],A++}}else if(!k&&!S&&c-2>0)for(var r=c+6;r<e[n].length;r++)if("<"===e[n][r]&&"/"===e[n][r+1]&&"l"===e[n][r+2]&&"i"===e[n][r+3]&&"n"===e[n][r+4]&&"k"===e[n][r+5]&&">"===e[n][r+6]){if(e[n].slice(c,r+7).includes(" external")){v.push({text:e[n].slice(0,c)}),console.log(JSON.parse(JSON.stringify(v)));break}g[A]=[e[n].slice(0,c)],A++}_=!0,C=c}"<"===e[n][c]&&"e"===e[n][c+1]&&"m"===e[n][c+2]&&"b"===e[n][c+3]&&"e"===e[n][c+4]&&"d"===e[n][c+5]&&">"===e[n][c+6]?(w&&(g[A]=[e[n].slice(T,c)],I=0),S=!0,B=c):"<"===e[n][c]&&"/"===e[n][c+1]&&"e"===e[n][c+2]&&"m"===e[n][c+3]&&"b"===e[n][c+4]&&"e"===e[n][c+5]&&"d"===e[n][c+6]&&">"===e[n][c+7]&&(w=e[n].slice(B,c+8),T=c+8,g[A]=[{embed:w}],A++),c!==e[n].length-1||_||S?c===e[n].length-1&&_&&!S?(c>I&&v.push({text:e[n].slice(I)}),_=!1):c===e[n].length-1&&!_&&S&&(v.push({text:e[n].slice(T)}),S=!1):v.push(Object(Oe.a)({},n,e[n]))}"list"===n&&(L=!1),k=""}})),g[A]=Object(N.a)(v),A++,v=[]})),console.log(g),console.log(s),console.log(x);var P=[],R=[];x.forEach((function(e,t){if(console.log(e),e.includes(" external")){e=e.slice(6,e.length-7),console.log(e);var n=e.split(" ");console.log(n),P.push({external:{url:n[0],text:n[1]}})}else if(e.includes(" image")){var c=e.slice(6,e.length-7),a="";console.log(c);for(var r=0;r<c.length;r++)" "===c[r]&&"e"===c[r-1]&&"g"===c[r-2]&&"a"===c[r-3]&&"m"===c[r-4]&&"i"===c[r-5]&&" "===c[r-6]&&(a=c.slice(r+1),c=(c=c.slice(0,r)).split(" "),console.log(c),c.push(a));console.log(c),P.push({image:{url:c[0],text:c[2]}})}else{var o=e.slice(6,e.length-7);console.log(o),(o=o.split(" ")).splice(o.length-1);var s="".concat(o.length>2?o.map((function(e,t){if(0!==t)return e})).join(" ").slice(1):o[1],"/-").concat(o[0]);console.log(s);var i=o[1].split("/");for(var l in Je)if(l.toLowerCase().includes(i[0]))for(var d=0;d<Je[l].length;d++)Je[l][d].toLowerCase().includes(i[1])&&(s="".concat(l,"/").concat(Je[l][d]));fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(s,".json")).then((function(e){return e.json()})).then((function(e){console.log(e);var t,n=e.title.split(" "),c=[];n.forEach((function(e){c.push(e.toLowerCase())})),t=(t=c.join("-")).split(",").join("").split(" ").join("-"),D((function(n){var c=Object(N.a)(n);return c.push({title:e.title,subTitle:e.subTitle,imageUrl:e.images[0],linkPath:"/".concat(e.category,"/").concat(e.subCategory,"/").concat(t,"/").concat(e.id),category:e.category,subCategory:e.subCategory,id:e.id}),c}))}))}t===x.length-1&&(console.log(R),console.log(P),y([].concat(P)))})),p(g)}else{console.log(n.location.pathname);var E=n.location.pathname.split("/");console.log(E);var F={category:E[1],subCategory:E[2],id:E[4]};"Magazin"===E[1]&&"Film"===E[2]&&(F.subCategory="Film/TV",F.id=E[5]),console.log(JSON.parse(JSON.stringify(F))),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(F.category,"/").concat(F.subCategory,"/-").concat(F.id,".json")).then((function(e){return e.json()})).then((function(e){D([]),console.log(e);var t=[],c=[];if(e.comments){for(var a in e.comments)if(e.comments[a].replies){for(var r in e.comments[a].replies)c.push(e.comments[a].replies[r]);t.push(e.comments[a]),t[t.length-1].replies=Object(N.a)(c),c=[]}else t.push(e.comments[a]);e.comments=[].concat(t)}var o,s=e.title.split(" "),i=[];s.forEach((function(e){i.push(e.toLowerCase())})),o=(o=i.join("-")).split(",").join("").split(" ").join("-"),e.timeDiff=le(e.date),e.linkPath="/".concat(e.category,"/").concat(e.subCategory,"/").concat(o,"/").concat(e.id),n.replace({state:{articleData:Object(d.a)({},JSON.parse(JSON.stringify(e)))}})}))}}),[t]),Object(c.useEffect)((function(){j&&(console.log(j.shares),console.log(j.images[0]),console.log(typeof j.images),console.log(j.comments),console.log(Array.isArray(j.comments)))}),[j]),Object(c.useEffect)((function(){console.log(k)}),[k]);var we=[],Ne=Object(c.useState)([]),Te=Object(l.a)(Ne,2),Ae=Te[0];Te[1];Object(c.useEffect)((function(){console.log(Ae)}),[Ae]);var Pe=!1,Re=!1,Fe=!1,Me=0,He=0,Ke=[],Ve=0,Ye=!1;console.log(f),f.map((function(e,t){console.log(window.twttr),console.log(e),e.map((function(t){for(var n in t)if("bold"===n&&1===e.length)we.push(Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)("b",{children:t[n]},Object(M.a)()),Object(h.jsx)("br",{})]},Object(M.a)()));else if("link"===n)t[n].includes(" external")?(console.log(t[n]),console.log(k[0].url),console.log(k[0].text),we.push(Object(h.jsx)("a",{href:k[0].external.url,target:"_blank",rel:"noreferrer noopener",children:k[0].external.text},Object(M.a)()))):t[n].includes(" image")?(console.log(k),console.log(k[He].image.url),we.push(Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{style:{width:"100%",height:"initial"},src:k[He].image.url},Object(M.a)()),"blank"!==k[He].image.text?Object(h.jsx)("p",{className:Be.a.textBelowImage,children:k[He].image.text}):Object(h.jsx)("br",{})]})),Re=!0,He++):I.length>0&&(console.log(I),console.log(Me),Pe=!0,we.push(Object(h.jsx)(oe,{subTitle:I[Me].subTitle,title:I[Me].title,imageUrl:I[Me].imageUrl,linkPath:I[Me].linkPath,category:I[Me].category,subCategory:I[Me].subCategory,id:I[Me].id},Object(M.a)())),I.length-1>Me&&Me++);else if("embed"===n)console.log(t[n]),t[n].includes("YouTube video player")?we.push(Object(h.jsx)("div",{className:Be.a.ytConfig,children:Object(F.a)(t[n])})):we.push(Object(h.jsx)("div",{style:{maxWidth:"70%",margin:"auto"},children:Object(F.a)(t[n])})),Fe=!0;else if("list"===n){var c=t[n].split(" || ");console.log(c);for(var r=0,o=0,s=[],i=[],l="",d=0;d<c.length;d++)if(c[d].includes("<link>")&&c[d].includes("</link>")||c[d].includes("<b>")&&c[d].includes("</b>"))for(var u=0;u<c[d].length;u++){if("<"===c[d][u]&&"b"===c[d][u+1]&&">"===c[d][u+2])o=u+3,u+=2;else if("<"===c[d][u]&&"/"===c[d][u+1]&&"b"===c[d][u+2]&&">"===c[d][u+3])l&&(i.push(Object(h.jsx)("span",{children:l},Object(M.a)())),l=""),i.push(Object(h.jsx)("b",{children:c[d].slice(o,u)},Object(M.a)())),o=0,u+=3;else if("<"===c[d][u]&&"l"===c[d][u+1]&&"i"===c[d][u+2]&&"n"===c[d][u+3]&&"k"===c[d][u+4]&&">"===c[d][u+5])r=u+6,u+=5;else if("<"===c[d][u]&&"/"===c[d][u+1]&&"l"===c[d][u+2]&&"i"===c[d][u+3]&&"n"===c[d][u+4]&&"k"===c[d][u+5]&&">"===c[d][u+6]){var m=c[d].slice(r,u),b=m.split(" ")[0];m=m.replace(b+" ",""),l&&(i.push(Object(h.jsx)("span",{children:l},Object(M.a)())),l=""),i.push(Object(h.jsx)("a",{href:b,target:"_blank",rel:"noreferrer noopener",children:m},Object(M.a)())),console.log(m),console.log(b),r=0,u+=6}else r||o||(l=l.concat(c[d][u]));u===c[d].length-1&&(l&&i.push(Object(h.jsx)("span",{children:l},Object(M.a)())),s.push(Object(h.jsx)("li",{children:i},Object(M.a)())),console.log(i),console.log(s),i=[],l=[])}else s.push(Object(h.jsx)("li",{children:c[d]},Object(M.a)()));console.log(j.listOrder),console.log(j),"ol"===j.listOrder[Ve]?we.push(Object(h.jsx)("ol",{children:s},Object(M.a)())):"ul"===j.listOrder[Ve]&&we.push(Object(h.jsx)("ul",{children:s},Object(M.a)())),Ve++,console.log(l)}else if(e.length>1){if("bold"===n)Ke.push(Object(h.jsx)("b",{children:t[n]},Object(M.a)()));else if("externalLink"===n){var O=t[n];console.log(O),console.log(t),console.log(n);var f=(O=(O=O.slice(6,O.length-8)).split(" "))[0];O.splice(0,1),O.splice(O.length-1,1);var p=O.join(" ");console.log(p),Ke.push(Object(h.jsx)("a",{href:f,target:"_blank",rel:"noreferrer noopener",children:p},Object(M.a)())),He++}else Ke.push(Object(h.jsx)("span",{children:t[n]},Object(M.a)()));Ke.length===e.length&&(console.log(Ke),we.push(Object(h.jsx)(a.a.Fragment,{children:Object(h.jsx)("p",{children:Ke},Object(M.a)())},Object(M.a)())),Ke=[])}else if(console.log(t[n]),1===e.length&&"externalLink"===n){console.log(t[n]);var g=t[n],x=(g=(g=g.slice(6,g.length-8)).split(" "))[0];g.splice(0,1),g.splice(g.length-1,1);var v=g.join(" ");console.log(v),we.push(Object(h.jsx)("a",{href:x,target:"_blank",rel:"noreferrer noopener",style:{display:"block"},children:v},Object(M.a)())),He++}else we.push(Object(h.jsx)(a.a.Fragment,{children:Object(h.jsx)("p",{children:t[n]},Object(M.a)())},Object(M.a)()))})),Pe?(we.splice(we.length-2,1),Pe=!1,Ye=!0):Re?Re=!1:Fe?(Fe=!1,window.instgrm&&window.instgrm.Embeds.process()):Ye?Ye=!1:we.push(Object(h.jsx)("br",{},Object(M.a)())),console.log(f.length),f.length,console.log(we)}));Object(c.useEffect)((function(){B&&(V||Y(ke.current.getBoundingClientRect().top))}),[B]);var Ze=function(){ke.current.style.width="62.5%",ke.current.style.height="85vh",ke.current.style.top="7vh",ke.current.style.transform="translateX(-50%)",ye.current.style.color="#c4c4c4"},Ge=function(e){switch(ke.current.style.width="90%",ke.current.style.height="150vh",ye.current.style.color="#fff",ke.current.style.transform="translateX(-50%)",e){case"normal":ke.current.style.top="0vh";break;case"upper":ke.current.style.transform="translate(-50%, -10%)";break;case"middle":ke.current.style.transform="translate(-50%, -20%)";break;case"lower":ke.current.style.transform="translate(-50%, -30%)"}},Xe=function(){P?(R(!1),Ze()):(R(!0),Ge("middle"))};Object(c.useEffect)((function(){ke.current&&(console.log(ke.current.style.top),console.log(ke.current.style.left))}),[ke]);Object(c.useEffect)((function(){}),[z]),Object(c.useEffect)((function(){P?ke.current&&(ke.current.style.cursor="grab"):ke.current&&(ke.current.style.cursor="zoom-in")}),[P]);var qe=function(e,t){"right"===t?de<j.images.length-1?(je((function(e){return e+1})),ke.current.src=j.imageText[de+1][0]):de===j.images.length-1&&(je(0),ke.current.src=j.imageText[0][0]):"left"===t&&(0===de?(je(j.images.length-1),ke.current.src=j.imageText[de][0]):(je((function(e){return e-1})),ke.current.src=j.imageText[de-1][0]))},We=function(e){T(!0),je(e)},Qe=function(e,t,n){var c,a=m.ref("related/".concat(t)),r=[],o=[],s=Object(Se.a)(e);try{for(s.s();!(c=s.n()).done;){var i=c.value;a.child(i.constructor===Object?i.value:i).orderByKey().limitToLast(4).once("value",(function(e){console.log(e.val());var t=e.val(),c=function(e){console.log(t[e].articlePath);var c=t[e].articlePath.split("/")[t[e].articlePath.split("/").length-1];if(c!==n&&r.filter((function(e){return e.id!==c})).length===r.length){var a=t[e].articlePath.split("/");"Film"===a[1]&&"TV"===a[2]?(a[1]="Film/TV",a[2]=a[3].slice(1)):a[2]=a[2].slice(1),a.splice(2,0,tt(t[e].title)),delete t[e].articlePath,console.log(a.join("/")),t[e].articlePath=a.join("/"),console.log(t[e]),r.push(Object(d.a)(Object(d.a)({},t[e]),{},{id:c})),o.push(new Date(t[e].date))}};for(var a in t)c(a);console.log(r),console.log(o);var s;s=r.sort((function(e,t){var n=new Date(e.date);return new Date(t.date)-n})),console.log(s),s.length>3&&s.splice(3),fe(Object(N.a)(s))}))}}catch(l){s.e(l)}finally{s.f()}},$e=function(){m.ref("articles/".concat(j.category,"/").concat(j.subCategory,"/-").concat(j.id)).child("shares").once("value",(function(e){console.log(e.val());var t=e.val();fetch("https://api.ipify.org/?format=json").then((function(e){return e.json()})).then((function(e){1===t.length&&""===t[0]?(m.ref("articles/".concat(j.category,"/").concat(j.subCategory,"/-").concat(j.id,"/shares")).set(Object(Oe.a)({},e.ip.split(".").join("_"),e.ip)),u((function(t){var n=Object(d.a)({},t);return delete n.shares,n.shares={},n.shares[e.ip.split(".").join("_")]=e.ip,n}))):Object.values(j.shares).some((function(t){return t===e.ip}))||(m.ref("articles/".concat(j.category,"/").concat(j.subCategory,"/-").concat(j.id,"/shares/").concat([e.ip.split(".").join("_")])).set(e.ip),u((function(t){var n=Object(d.a)({},t);return n.shares[e.ip.split(".").join("_")]=e.ip,n})))}))}))};return Object(h.jsxs)("div",{id:Be.a.articleParent,children:[B&&Object(h.jsx)("div",{onClick:function(e){e.target.id.includes("clickedSlider")&&(T(!1),P&&R(!1))},onWheel:function(){P||T(!1)},id:Be.a.clickedSlider,children:Object(h.jsxs)("div",{id:Be.a.sliderMainImgContainer,children:[Object(h.jsxs)("div",{id:Be.a.sliderHeaderBar,children:[Object(h.jsx)("span",{id:Be.a.slideNumbers,children:"".concat(de+1," / ").concat(j.images.length)}),Object(h.jsxs)("span",{id:Be.a.slideZoomExpand,children:[!P&&Object(h.jsx)("i",{class:"fas fa-search-plus",onClick:Xe}),P&&Object(h.jsx)("i",{class:"fas fa-search-minus",onClick:Xe}),Object(h.jsx)("i",{class:"fas fa-expand",onClick:function(e){ke.current.parentElement.requestFullscreen(),e.target.className="fas fa-compress",document.fullscreenElement&&(document.exitFullscreen(),e.target.className="fas fa-expand")}})]})]}),Object(h.jsx)("img",{ref:ke,src:j&&j.imageText[de][0],onMouseDown:function(){P&&(console.log("mousedown"),ke.current.style.cursor="grabbing",_e.current=setTimeout((function(){J(!0)}),250))},onMouseUp:function(e){if(clearTimeout(_e.current),_e.current=null,P&&(ke.current.style.cursor="grab",ke.current.style.transform="none",ke.current.style.top="7vh","upper"===ce?ke.current.style.transform="translate(-50%, -10%)":"middle"===ce?ke.current.style.transform="translate(-50%, -20%)":"lower"===ce?ke.current.style.transform="translate(-50%, -30%)":ke.current.style.top="0",ke.current.style.left="50%",q(null),ee(null)),!z){var t=ke.current.offsetHeight/3,n=e.clientY-ke.current.getBoundingClientRect().top;n<t?P?(R(!1),Ze()):(R(!0),Ge("upper"),ae("upper")):n>=t&&n<=2*t?P?(R(!1),Ze()):(R(!0),Ge("middle"),ae("middle")):P?(R(!1),Ze()):(R(!0),Ge("lower"),ae("lower"))}z&&J(!1)},onMouseMove:function(e){if(console.log("mousemove"),P&&z&&ke.current.style){var t=ke.current.width,n=ke.current.height,c=ke.current.style.left,a=ke.current.style.top;q(e.clientX),ee(e.clientY),console.log(X),console.log($);if(console.log(ke.current.style),console.log(Object.assign({},ke.current.style)),console.log(c),console.log(a),console.log(c.replace(/\D/g,"")),console.log(typeof+a.replace(/\D/g,"")),c=+c.replace(/\D/g,""),a=+a.replace(/\D/g,""),console.log(e.clientX),console.log(e.clientY),console.log(t),console.log(n),console.log(ke.current.offsetLeft),console.log(ke.current.offsetTop),console.log(ke.current.offsetTop-e.clientY),console.log(ke.current.offsetLeft-e.clientX),X&&$){var r=X-e.clientX,o=$-e.clientY;console.log(X),console.log(e.clientX),console.log(e.clientY),console.log($),console.log(o),console.log(ke.current.offsetTop),console.log(ke.current.offsetTop-o);var s=[ke.current.offsetLeft-r,ke.current.offsetTop-o];ke.current.style.top=s[1]+"px",ke.current.style.left=s[0]+"px"}}}}),Object(h.jsx)("div",{id:Be.a.sliderRight,onClick:function(e){return qe(0,"right")},children:Object(h.jsx)("i",{class:"fas fa-long-arrow-alt-right"})}),Object(h.jsx)("div",{id:Be.a.sliderLeft,onClick:function(e){return qe(0,"left")},children:Object(h.jsx)("i",{class:"fas fa-long-arrow-alt-left"})}),Object(h.jsx)("div",{id:Be.a.sliderFooterBar,ref:ye,children:"blank"===j.imageText[de][1]?"":j.imageText[de][1]})]})}),Object(h.jsxs)("div",{id:Be.a.articleHeader,children:[Object(h.jsx)("h3",{style:{color:j&&"".concat(re[j.category.toLowerCase()])},children:j&&j.subTitle}),Object(h.jsx)("h1",{children:j&&j.title})]}),Object(h.jsxs)("div",{id:Be.a.articleBody,children:[Object(h.jsx)("div",{id:Be.a.articleSidebarLeft,ref:Ce,children:Object(h.jsxs)("div",{id:Be.a.bundleDiv,children:[Object(h.jsxs)("div",{id:Be.a.postedData,children:[Object(h.jsx)("div",{id:Be.a.postedDataOne,children:Object(h.jsx)("i",{class:"fas fa-user",style:{backgroundColor:"rgb(209,213,219)",color:"#fff",padding:"1.2rem",borderRadius:".3rem",fontSize:"1.6rem"}})}),Object(h.jsxs)("div",{id:Be.a.postedDataTwo,children:[Object(h.jsx)("h3",{children:j&&(j.sponsored?"Sponzorirani \u010dlanak":j.author)||"R. D."}),Object(h.jsx)("p",{children:le(j&&j.date)})]})]}),Object(h.jsxs)("div",{id:Be.a.commentsShare,children:[Object(h.jsxs)("div",{id:Be.a.comments,children:[Object(h.jsx)("h2",{children:j&&"Ne"===j.commentsAllowed?Object(h.jsx)("svg",{class:"h-5 w-5 inline my-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",style:{width:"2rem"},children:Object(h.jsx)("path",{style:{color:"rgb(75,85,99)",fontSize:"1rem"},"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):j&&!j.comments?0:j&&j.comments?De.current:0}),Object(h.jsx)("p",{children:j&&"Ne"===j.commentsAllowed?"komentari":j&&j.comments&&1===Object.values(j.comments).length?"komentar":"komentara"})]}),Object(h.jsxs)("div",{id:Be.a.shares,children:[Object(h.jsx)("h2",{children:j?j.shares.constructor===Object?Object.keys(j.shares).length:0:""}),Object(h.jsx)("p",{children:"dijeljenja"})]})]}),Object(h.jsx)("div",{id:Be.a.shareArticle,children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{onClick:function(){var e=window.location.href,t="https://www.facebook.com/sharer/sharer.phpu=".concat(e);window.open(t,"NewWindow","menubar=no,toolbar=no,status=no,width=570,height=570")},children:Object(h.jsx)("i",{class:"fab fa-facebook"})}),Object(h.jsx)("li",{onClick:function(){var t=encodeURIComponent(j.title),n=window.location.href,c=e.isLoggedIn?e.isLoggedIn:"anonymous",a=j.tags.length?j.tags[0].constructor===Object?j.tags.map((function(e){return e.value})).join(", "):j.tags.join(", "):"",r="https://twitter.com/intent/tweet?url=".concat(n,"&text=").concat(t,"&via=").concat(c,"&hashtags=").concat(a);window.open(r,"NewWindow","menubar=no,toolbar=no,status=no,width=570,height=570"),$e()},children:Object(h.jsx)("i",{class:"fab fa-twitter"})}),Object(h.jsx)("li",{children:Object(h.jsx)("i",{class:"far fa-envelope"})})]})})]})}),Object(h.jsxs)("div",{id:Be.a.articleBodyContent,children:[j&&j.images.length>1?Object(h.jsxs)("div",{id:Be.a.imageSliderContainer,children:[Object(h.jsx)("div",{id:Be.a.mainSliderImage,children:Object(h.jsx)("img",{onClick:function(){T((function(e){return!e})),je(0)},src:j.imageText[0][0]})}),Object(h.jsx)("div",{id:Be.a.sliderImages,children:j.imageText.map((function(e,t){return t<4&&0!==t?Object(h.jsx)("img",{src:e[0],onClick:function(){return We(t)}},Object(M.a)()):4===t&&j.imageText.length-5>0?Object(h.jsxs)("div",{id:Be.a.clickForMore,children:[Object(h.jsxs)("span",{onClick:function(){return We(t)},children:["+",j.imageText.length-5]}),Object(h.jsx)("img",{src:e[0],onClick:function(){return We(t)}})]},Object(M.a)()):4===t&&Object(h.jsx)("img",{src:e[0],onClick:function(){return We(t)}},Object(M.a)())}))}),Object(h.jsx)("p",{children:j&&("blank"===j.imageText[0][1]?"":j.imageText[0][1])})]}):Object(h.jsxs)("div",{id:Be.a.imageContainer,children:[Object(h.jsx)("img",{src:j&&j.imageText[0][0]}),Object(h.jsx)("div",{id:Be.a.captionTxt,children:Object(h.jsx)("p",{children:j&&("blank"===j.imageText[0][1]?"":j.imageText[0][1])})})]}),Object(h.jsx)("div",{id:Be.a.articleText,children:we}),Object(h.jsx)("div",{id:Be.a.tags,children:j&&j.tags&&t.state&&t.state.articleData&&function(){var e=[];return t.state.articleData.tags.forEach((function(t){if(t.value)if(t.value.includes("_")){var n={id:t.id},c=t.value.split("_");n.value=c.join("."),e.push(n)}else e.push(t);else if(t.includes("_")){var a=t.split("_");a=a.join("."),e.push(a)}else e.push(t)})),e}(j.tags).map((function(e){return Object(h.jsx)("span",{children:Object(h.jsx)(r.b,{to:"/tagovi/".concat(j&&j.category,"/").concat(e.constructor===Object?e.value:e),children:e.constructor===Object?e.value:e})},Object(M.a)())}))}),j&&"Da"===j.commentsAllowed&&Object(h.jsxs)("div",{id:Be.a.addComment,children:[Object(h.jsx)("h3",{children:"Komentari"}),e.isLoggedIn&&Object(h.jsx)(he,{path:{category:t.state&&t.state.articleData.category,subCategory:t.state&&t.state.articleData.subCategory,id:t.state&&t.state.articleData.id}}),Object(h.jsx)("button",{className:Be.a.showComments,children:Object(h.jsxs)(r.b,{to:j&&{pathname:"".concat(j.linkPath?j.linkPath:"/".concat(j.category,"/").concat(j.subCategory,"/").concat(tt(j.title),"/").concat(j.id),"/komentari"),state:{articleData:j}},children:["PRIKA\u017dI SVE KOMENTARE (",j&&!j.comments?0:j&&j.comments?De.current:0,")"]})})]}),Object(h.jsxs)("div",{id:Be.a.linkedArticles,children:[be.length>0&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{id:Be.a.linkedArticlesHeader,children:[Object(h.jsx)("h3",{children:"Vezani \u010dlanci"}),Object(h.jsx)("i",{class:"fas fa-link"})]}),Object(h.jsx)("div",{id:Be.a.linkedArticlesBody,style:1===be.length?{gridTemplateColumns:"33%",justifyContent:"center"}:2===be.length?{gridTemplateColumns:"repeat(2, minmax(30%, 1fr))"}:null,children:be.map((function(e,t){return Object(h.jsx)(Le,{data:e,indL:[t,be.length]},Object(M.a)())}))})]}),Object(h.jsxs)("div",{id:Be.a.linkedPromo,children:[Object(h.jsxs)("div",{id:Be.a.linkedPromoHeader,children:[Object(h.jsx)("h3",{children:"Promo"}),Object(h.jsx)("i",{class:"fas fa-mouse-pointer"})]}),Object(h.jsx)("div",{id:Be.a.linkedPromoBody,children:xe.map((function(e,t){return Object(h.jsx)(Ee,{data:e})}))})]})]})]}),Object(h.jsx)("div",{id:Be.a.articleSidebarRight,ref:Ie,children:Object(h.jsx)(ze,{})})]})]})},Ve=function(e){var t=0;console.log(e);for(var n=0;n<e.length;n++)if(e[n].replies&&(t+=e[n].replies.length),n===e.length-1)return t+=e.length,console.log(t),t},Ye=function(e){var t=0;for(var n in e)e[n].replies&&(t+=Object.keys(e[n].replies).length);return Object.keys(e).length+t},Ze=function(e){var t=[];console.log(e);for(var n=0;n<e.length;n++)e[n].replies&&e[n].replies.length>2&&t.push(n);if(t.length)return[].concat(t);console.log(t)},Ge=function(){var e=Object(c.useContext)(x),t=Object(i.useLocation)(),n=Object(i.useHistory)(),o=Object(c.useState)([]),s=Object(l.a)(o,2),j=s[0],u=s[1],m=Object(c.useState)(null),b=Object(l.a)(m,2),O=b[0],f=b[1],p=Object(c.useState)(!0),g=Object(l.a)(p,2),v=g[0],k=g[1],y=Object(c.useState)(!1),_=Object(l.a)(y,2),C=_[0],I=_[1],D=Object(c.useState)([]),w=Object(l.a)(D,2),S=w[0],B=w[1],T=Object(c.useState)([]),A=Object(l.a)(T,2),L=A[0],P=A[1],R=Object(c.useState)(null),E=Object(l.a)(R,2),F=E[0],H=E[1],z=Object(c.useRef)(null),J=Object(c.useRef)(void 0),U=Object(c.useRef)(void 0),K=Object(c.useRef)(0),Y=Object(c.useRef)(),Z=Object(c.useRef)();Object(c.useEffect)((function(){function e(){Ue(Y),Ue(Z)}return console.log(""),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),Object(c.useEffect)((function(){if(t.state||console.log(t),t.state&&v){if(console.log(t.state),!z.current){if(console.log(t.state.articleData.comments),t.state.articleData.comments){var e=Object(N.a)(Object.values(t.state.articleData.comments));e.reverse(),u(Object(N.a)(e))}z.current="initialized"}t.state.articleData.comments?K.current=Ve(t.state.articleData.comments):k(!1),fetch("https://api.ipify.org/?format=json").then((function(e){return e.json()})).then((function(e){localStorage.setItem("userIp",e.ip),console.log(e)})),("number"===typeof O||Array.isArray(O))&&f(null),window.scrollTo(0,0),console.log(t.state),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(t.state.articleData.category,"/").concat(t.state.articleData.subCategory,"/-").concat(t.state.articleData.id,"/comments.json")).then((function(e){return e.json()})).then((function(e){console.log(e);var c=[];if(e){var a=[];for(var r in e)if(console.log(r),c.push(e[r]),c[c.length-1].id=r,e[r].replies){for(var o in e[r].replies)a.push(e[r].replies[o]),a[a.length-1].id=[r,o];c[c.length-1].replies=Object(N.a)(a),a=[]}console.log(c),c.reverse();var s=W([].concat(c)),i=Ze(s);i&&B(i),console.log(s),u(Object(N.a)(s)),X(s.length),k(!1),K.current=Ve(s),n.replace({state:{articleData:Object(d.a)(Object(d.a)({},JSON.parse(JSON.stringify(t.state.articleData))),{},{comments:Object(N.a)(JSON.parse(JSON.stringify(s)))})}}),I(!0)}}))}else if(!t.state){console.log(n.location.pathname);var c=n.location.pathname.split("/");console.log(c);var a={category:c[1],subCategory:c[2],id:c[4]};console.log(a),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(a.category,"/").concat(a.subCategory,"/-").concat(a.id,".json")).then((function(e){return e.json()})).then((function(e){console.log(e);var t=[],c=[];if(e.comments){for(var a in e.comments)if(e.comments[a].replies){for(var r in e.comments[a].replies)c.push(e.comments[a].replies[r]);t.push(e.comments[a]),t[t.length-1].replies=Object(N.a)(c),c=[]}else t.push(e.comments[a]);e.comments=[].concat(t)}var o,s=e.title.split(" "),i=[];s.forEach((function(e){i.push(e.toLowerCase())})),o=(o=i.join("-")).split(",").join("").split(" ").join("-"),e.timeDiff=le(e.date),e.linkPath="/".concat(e.category,"/").concat(e.subCategory,"/").concat(o,"/").concat(e.id),n.replace({state:{articleData:Object(d.a)({},JSON.parse(JSON.stringify(e)))}})}))}}),[t,v]);var G=function(e,t){if("replies"===t){var n=function(t){return t===e};console.log(S.findIndex(n)),B((function(e){var t=Object(N.a)(e),c=S.findIndex(n);return t.splice(c,1),console.log(t),t.length?t:[]}))}else console.log("check"),P((function(e){var t=Object(N.a)(e);return t.splice(0,1),console.log(t),t.length>0?t:[]}))},X=function(e){var t=e/3,n=[],c=0;if(t>1){t%1===0?t--:t.toFixed();for(var a=0;a<t;a++)c+=3,n.push(c);P([].concat(n)),console.log(n)}},q=function(e){f(e)},W=function(e){for(var t=[],n=0;n<e.length;n++)e[n].commentLikes&&Object.keys(e[n].commentLikes).length>=5&&(e[n].commentDislikes&&Object.keys(e[n].commentLikes).length>=Object.keys(e[n].commentDislikes).length+5||!e[n].commentDislikes&&Object.keys(e[n].commentLikes).length>=5)&&t.push([n,Object.keys(e[n].commentLikes).length]);if(console.log(t),t.length>0){J.current=[t[0]],U.current=[];for(var c=0,a=[].concat(t),r=0;r<t.length;r++)if(t.length>=2&&(J.current[0][1]<t[r][1]&&(J.current=[t[r]],c=r),r===t.length-1&&(a.splice(c,1),console.log(a),a.length)))for(var o=0;o<a.length;o++)0===o&&(U.current=[a[0]]),U.current[0][1]<a[o][1]&&(U.current=[a[o]]);console.log(J.current),console.log(U.current);var s=Object(N.a)(JSON.parse(JSON.stringify(e))),i=Object(d.a)({},s.slice(J.current[0][0],J.current[0][0]+1)),l=void 0;return s.splice(J.current[0][0],1),s.splice(0,0,i[0]),U.current.length&&(l=U.current[0][0]>J.current[0][0]?s.slice(U.current[0][0],U.current[0][0]+1):s.slice(U.current[0][0]+1,U.current[0][0]+2),console.log(l),s.splice(1,0,l[0]),U.current[0][0]>J.current[0][0]?s.splice(U.current[0][0]+1,1):s.splice(U.current[0][0]+2,1)),console.log(s),s}return e},Q=function(e){H(e)};return Object(h.jsxs)(h.Fragment,{children:[F&&Object(h.jsx)(V,{navZ:!0,children:Object(h.jsx)(we,{closeModal:H,reportData:F})}),Object(h.jsxs)("div",{id:ue.a.commentPageContainer,children:[Object(h.jsxs)("div",{id:ue.a.commentPageContainerHeader,children:[Object(h.jsxs)("div",{id:ue.a.headerBundle,children:[Object(h.jsx)("h3",{style:{color:t.state&&t.state.articleData&&"".concat(re[t.state.articleData.category.toLowerCase()])},children:t.state&&t.state.articleData.subTitle}),Object(h.jsx)("h1",{onClick:function(){console.log(t.state.articleData)},children:Object(h.jsx)(r.b,{to:t.state&&{pathname:t.state.articleData.linkPath,state:{articleData:t.state.articleData}},children:t.state&&t.state.articleData.title})})]}),Object(h.jsxs)("div",{id:ue.a.headerShares,children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",t.state&&t.state.articleData.shares.constructor===Object?Object.keys(t.state.articleData.shares).length:0]})]}),Object(h.jsxs)("div",{id:ue.a.commentPageContainerBody,children:[Object(h.jsx)("div",{id:ue.a.commentSidebarLeft,ref:Y,children:Object(h.jsxs)("div",{id:ue.a.bundleDiv,children:[Object(h.jsxs)("div",{id:ue.a.postedData,children:[Object(h.jsx)("div",{children:Object(h.jsx)("i",{class:"fas fa-user",style:{backgroundColor:"rgb(209,213,219)",color:"#fff",padding:"1.2rem",borderRadius:".3rem",fontSize:"1.6rem"}})}),Object(h.jsxs)("div",{id:ue.a.postedDataTwo,children:[Object(h.jsx)("h3",{children:t.state&&t.state.articleData.author||"R. D."}),Object(h.jsx)("p",{children:le(t.state&&t.state.articleData.date)})]})]}),Object(h.jsxs)("div",{id:ue.a.commentsShare,children:[Object(h.jsxs)("div",{id:ue.a.comments,children:[Object(h.jsx)("h2",{children:K.current}),Object(h.jsx)("p",{children:"komentara"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:t.state&&t.state.articleData.shares.constructor===Object?Object.keys(t.state.articleData.shares).length:0}),Object(h.jsx)("p",{children:"dijeljenja"})]})]}),Object(h.jsx)("div",{id:ue.a.shareArticle,children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)("i",{class:"fab fa-facebook"})}),Object(h.jsx)("li",{children:Object(h.jsx)("i",{class:"fab fa-twitter"})}),Object(h.jsx)("li",{children:Object(h.jsx)("i",{class:"far fa-envelope"})})]})})]})}),Object(h.jsxs)("div",{id:ue.a.commentBodyContent,children:[Object(h.jsxs)("div",{id:ue.a.commentBodyHeader,children:[Object(h.jsxs)("div",{id:ue.a.commentBodyHeaderInfo,children:[Object(h.jsxs)("h3",{children:["Komentari (",K.current,")"]}),Object(h.jsx)("div",{id:ue.a.povratakNaClanak,children:Object(h.jsxs)(r.b,{to:t.state&&{pathname:t.state.articleData.linkPath,state:{articleData:t.state.articleData}},children:[Object(h.jsx)("i",{class:"far fa-arrow-alt-circle-left"})," Povratak na \u010dlanak"]})})]}),Object(h.jsx)("div",{id:ue.a.commentBodyHeaderTypeSignIn,children:e.isLoggedIn?Object(h.jsx)(he,{path:t.state&&{category:t.state.articleData.category,subCategory:t.state.articleData.subCategory,id:t.state.articleData.id},getComments:k}):Object(h.jsx)(r.b,{to:"/login",children:Object(h.jsx)("div",{id:ue.a.prijavaKorisnika,children:"Prijava korisnika"})})}),Object(h.jsxs)("div",{id:ue.a.commentBodyHeaderAlert,children:[Object(h.jsx)("span",{children:"NAPOMENA:"})," \xa0",Object(h.jsx)("span",{children:"Komentarisanje \u010dlanaka na portalu Klix.ba dozvoljeno je samo registrovanim korisnicima. Molimo korisnike da se suzdr\u017ee od vrije\u0111anja, psovanja i vulgarnog izra\u017eavanja. Komentari odra\u017eavaju stavove isklju\u010divo njihovih autora, koji zbog govora mr\u017enje mogu biti i krivi\u010dno gonjeni. Kao \u010ditatelj prihvatate mogu\u0107nost da me\u0111u komentarima mogu biti prona\u0111eni sadr\u017eaji koji mogu biti u suprotnosti sa va\u0161im vjerskim, moralnim i drugim na\u010delima i uvjerenjima. Svaki korisnik prije pisanja komentara mora se upoznati sa"}),"\xa0",Object(h.jsx)(r.b,{to:{pathname:"/komentari"},target:"_blank",style:t.state&&{color:t.state.articleData&&"".concat(re[t.state.articleData.category.toLowerCase()])},children:"Pravilima i uslovima kori\u0161tenja komentara."})]})]}),Object(h.jsxs)("div",{id:ue.a.commentBody,children:[C&&Ve(j)===Ve(t.state.articleData.comments)&&j.map((function(e,t){return t!==O?Array.isArray(O)?(L.length>0&&t<L[0]||0===L.length)&&Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(ge,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,topComment:(J.current&&J.current.length&&0===t||U.current&&U.current.length&&1===t)&&"topComment",negativeComment:e.commentDislikes&&Object.keys(e.commentDislikes).length>=(e.commentLikes?Object.keys(e.commentLikes).length+5:5),date:le(e.date),handleReply:q,handleReport:Q}),e.replies&&e.replies.map((function(n,c){return Object(h.jsxs)(a.a.Fragment,{children:[S.length>0&&void 0!==S.find((function(e){return e===t}))&&c<2&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ge,{commentIndex:[t,c],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,negativeComment:n.commentDislikes&&Object.keys(n.commentDislikes).length>=(n.commentLikes?Object.keys(n.commentLikes).length+5:5),date:le(n.date),handleReply:q,handleReport:Q}),O[1]===c&&O[0]===t?Object(h.jsx)(ke,{commentIndex:[t,c],commentIndexDB:n.id,getComments:k}):null]}),(S.length&&void 0===S.find((function(e){return e===t}))||!S.length)&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ge,{commentIndex:[t,c],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,negativeComment:n.commentDislikes&&Object.keys(n.commentDislikes).length>=(n.commentLikes?Object.keys(n.commentLikes).length+5:5),date:le(n.date),handleReply:q,handleReport:Q}),O[1]===c&&O[0]===t?Object(h.jsx)(ke,{commentIndex:[t,c],commentIndexDB:n.id,getComments:k}):null]}),S.length>0&&S.length&&void 0!==S.find((function(e){return e===t}))&&1===c?Object(h.jsx)(Ce,{onClick:function(){return G(t,"replies")},showReply:e.replies.length-2}):null]},Object(M.a)())})),L.length>0&&t===L[0]-1&&Object(h.jsx)(Ce,{onClick:function(){return G(t,"showMore")}})]},Object(M.a)()):(L.length>0&&t<L[0]||0===L.length)&&(e.replies?Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(ge,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,topComment:(J.current&&J.current.length&&0===t||U.current&&U.current.length&&1===t)&&"topComment",negativeComment:e.commentDislikes&&Object.keys(e.commentDislikes).length>=(e.commentLikes?Object.keys(e.commentLikes).length+5:5),date:le(e.date),handleReply:q,handleReport:Q}),e.replies.map((function(n,c){return Object(h.jsxs)(a.a.Fragment,{children:[S.length>0&&void 0!==S.find((function(e){return e===t}))&&c<2?Object(h.jsx)(ge,{commentIndex:[t,c],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,negativeComment:n.commentDislikes&&Object.keys(n.commentDislikes).length>=(n.commentLikes?Object.keys(n.commentLikes).length+5:5),date:le(n.date),handleReply:q,handleReport:Q},Object(M.a)()):null,void 0!==(S.length&&S.find((function(e){return e===t})))&&S.length?null:Object(h.jsx)(ge,{commentIndex:[t,c],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,negativeComment:n.commentDislikes&&Object.keys(n.commentDislikes).length>=(n.commentLikes?Object.keys(n.commentLikes).length+5:5),date:le(n.date),handleReply:q,handleReport:Q},Object(M.a)()),S.length>0&&S.length&&void 0!==S.find((function(e){return e===t}))&&1===c?Object(h.jsx)(Ce,{onClick:function(){return G(t,"replies")},showReply:e.replies.length-2}):null]},Object(M.a)())})),L.length>0&&t===L[0]-1&&Object(h.jsx)(Ce,{onClick:function(){return G(t,"showMore")}})]},Object(M.a)()):Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(ge,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,topComment:(J.current&&J.current.length&&0===t||U.current&&U.current.length&&1===t)&&"topComment",negativeComment:e.commentDislikes&&Object.keys(e.commentDislikes).length>=(e.commentLikes?Object.keys(e.commentLikes).length+5:5),date:le(e.date),handleReply:q,handleReport:Q},Object(M.a)()),L.length>0&&t===L[0]-1&&Object(h.jsx)(Ce,{onClick:function(){return G(t,"showMore")}})]},Object(M.a)())):e.replies?e.replies?Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(ge,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,topComment:(J.current&&J.current.length&&0===t||U.current&&U.current.length&&1===t)&&"topComment",negativeComment:e.commentDislikes&&Object.keys(e.commentDislikes).length>=(e.commentLikes?Object.keys(e.commentLikes).length+5:5),date:le(e.date),handleReply:q,handleReport:Q}),Object(h.jsx)(ke,{commentIndex:t,commentIndexDB:e.id,getComments:k}),e.replies.map((function(n,c){return Object(h.jsxs)(h.Fragment,{children:[S.length>0&&void 0!==S.find((function(e){return e===t}))&&c<2?Object(h.jsx)(ge,{commentIndex:[t,c],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,negativeComment:n.commentDislikes&&Object.keys(n.commentDislikes).length>=(n.commentLikes?Object.keys(n.commentLikes).length+5:5),date:le(n.date),handleReply:q,handleReport:Q},Object(M.a)()):null,(void 0===(S.length&&S.find((function(e){return e===t})))||!S.length)&&Object(h.jsx)(ge,{commentIndex:[t,c],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,negativeComment:n.commentDislikes&&Object.keys(n.commentDislikes).length>=(n.commentLikes?Object.keys(n.commentLikes).length+5:5),date:le(n.date),handleReply:q,handleReport:Q},Object(M.a)()),S.length>0&&S.length&&void 0!==S.find((function(e){return e===t}))&&1===c?Object(h.jsx)(Ce,{onClick:function(){return G(t,"replies")},showReply:e.replies.length-2}):null]})})),L.length>0&&t===L[0]-1&&Object(h.jsx)(Ce,{onClick:function(){return G(t,"showMore")}})]},Object(M.a)()):void 0:Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(ge,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,topComment:(J.current&&J.current.length&&0===t||U.current&&U.current.length&&1===t)&&"topComment",negativeComment:e.commentDislikes&&Object.keys(e.commentDislikes).length>=(e.commentLikes?Object.keys(e.commentLikes).length+5:5),date:le(e.date),handleReply:q,handleReport:Q}),Object(h.jsx)(ke,{commentIndex:t,commentIndexDB:e.id,getComments:k}),L.length>0&&t===L[0]-1&&Object(h.jsx)(Ce,{onClick:function(){return G(t,"showMore")}})]},Object(M.a)())})),Object(h.jsx)("div",{id:ue.a.povratakNaClanak,style:{justifyContent:"right",marginTop:"1rem",marginBottom:"1rem"},children:Object(h.jsxs)(r.b,{to:t.state&&{pathname:t.state.articleData.linkPath,state:{articleData:t.state.articleData}},children:[Object(h.jsx)("i",{class:"far fa-arrow-alt-circle-left"})," Povratak na \u010dlanak"]})})]})]}),Object(h.jsx)("div",{id:ue.a.commentSidebarRight,ref:Z,children:Object(h.jsx)(ze,{})})]})]})]})},Xe=n(29),qe=n.n(Xe),We=function(e,t){var n=m.ref("dates/2022/3/7");return new Promise((function(c){n.once("value",(function(n){var a=[],r=n.val();for(var o in r)a.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(r[o].path,"/").concat(r[o].id,".json")).then((function(e){return e.json()})));Promise.all(a).then((function(n){return n.sort((function(t,n){return(t[e].constructor===Object?Object.keys(t[e]).length:0)-(n[e].constructor===Object?Object.keys(n[e]).length:0)>0?-1:(t[e].constructor===Object?Object.keys(t[e]).length:0)-(n[e].constructor===Object?Object.keys(n[e]).length:0)<0?1:0})),n.splice(15-t.length),(t=t.concat(n)).sort((function(t,n){return Object.keys(t[e]).length-Object.keys(n[e]).length>0?-1:Object.keys(t[e]).length-Object.keys(n[e]).length<0?1:0})),console.log(t),c(t)}))}))}))},Qe=function(e,t){return new Promise(function(){var n=Object(E.a)(R.a.mark((function n(c){var a,r,o,s,i;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(e),a=m.ref("dates/2022/3/7"),s=[],i="",e[1].length<15&&(r=We("visited",e[1]),s.push(r),i="visited"),e[2].length<15&&(o=We("shares",e[2]),s.push(o),i=i.concat("shares")),!("po\u010detna"===t&&e[0].length<15)){n.next=9;break}return n.next=9,a.once("value",(function(t){var n=t.val(),c=[],a=Object.keys(n).reverse();a.splice(15-e[0].length),console.log(a);for(var r=0;r<a.length;r++)c.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(n[a[r]].path,"/").concat(n[a[r]].id,".json")).then((function(e){return e.json()})));s.unshift.apply(s,c),console.log(s)}));case 9:Promise.all(s).then((function(t){console.log(t);var n=[];return i.includes("visited")&&!i.includes("shares")||!i.includes("visited")&&i.includes("shares")?(n.push.apply(n,Object(N.a)(t.slice(t.length-1))),t.splice(t.length-1)):i.includes("visited")&&i.includes("shares")&&(n.push.apply(n,Object(N.a)(t.slice(t.length-2,e.length-1))),n.push.apply(n,Object(N.a)(t.slice(t.length-1))),t.splice(t.length-2)),console.log(t),e[0].length<15?n.unshift(Object(N.a)(e[0].concat(t))):n.unshift(e[0]),!i.includes("visited")&&i.includes("shares")?n.splice(1,0,e[1]):i.includes("visited")&&!i.includes("shares")?n.push(e[2]):i.includes("visited")||i.includes("shares")||(n.push(e[1]),n.push(e[2])),console.log(n),c(n)}));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},$e=function(e){return new Promise(function(){var t=Object(E.a)(R.a.mark((function t(n){var c,a,r,o,s,i,l,d,j,u,b,h,O,f;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e),[],c=m.ref("dates/2022/3/8"),[],a=[],console.log(te.vijesti),"Po\u010detna"!==e)for(r=0;r<te[e.toLowerCase()].length;r++)!function(t){var n=m.ref("articles/".concat(e,"/").concat(te[e.toLowerCase()][t])).orderByKey().limitToLast(15);a.push(n.once("value",(function(e){})))}(r);return o=c.once("value",(function(e){})),console.log(o),console.log(a),s=[],i=[],t.next=14,o.then((function(e){return s[0]=e.val()}));case 14:if(Object.keys(s[0]).length)for(l in s[0])i.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(s[0][l].path,"/").concat(s[0][l].id,".json")).then((function(e){return e.json()})));if("Po\u010detna"!==e){t.next=24;break}return t.next=18,o.then((function(e){return s=e.val()}));case 18:return t.next=20,Promise.all(i);case 20:s=t.sent,console.log(s),t.next=31;break;case 24:return t.next=26,Promise.all([].concat(i,a));case 26:d=t.sent,s[0]=d.slice(0,i.length),d.splice(0,i.length),j=d.reduce((function(e,t,n){var c=[];for(var a in t.val())c.push(t.val()[a]);return[].concat(Object(N.a)(e),c)}),[]),s.push(Object(N.a)(j));case 31:if(s.reverse(),console.log(s),u=[],"Po\u010detna"===e?u.push(s):"Po\u010detna"!==e&&(s[0].sort((function(e,t){return new Date(e.date)-new Date(t.date)>0?-1:new Date(e.date)-t.date<0?1:0})),s[0].length>15&&s[0].splice(15),u.push(s[0]),u.push(s[1]),console.log(u)),console.log(u),b=JSON.parse(JSON.stringify("Po\u010detna"===e?s:s[1])),h=[],O=[],console.log(b),b.forEach((function(e){e.visited&&e.visited.constructor===Object&&Object.keys(e.visited).length>=10&&h.push(e),e.shares.constructor===Object&&Object.keys(e.shares).length>=10&&O.push(e)})),h.sort((function(e,t){return Object.keys(e.visited).length-Object.keys(t.visited).length>0?-1:Object.keys(e.visited).length-Object.keys(t.visited).length<0?1:0})),O.sort((function(e,t){return(e.shares.constructor===Object?Object.keys(e.shares).length:0)-(t.shares.constructor===Object?Object.keys(t.shares).length:0)>0?-1:(e.shares.constructor===Object?Object.keys(e.shares).length:0)-(t.shares.constructor===Object?Object.keys(t.shares).length:0)<0?1:0})),"Po\u010detna"!==e&&u.pop(),u.push(h),u.push(O),console.log(u),u[0].length>15&&u[0].splice(15),u[1].length>15&&u[1].splice(15),u[2].length>15&&u[2].splice(15),u[1].splice(2),15!==u[0].length||15!==u[1].length||15!==u[2].length){t.next=55;break}n(u),t.next=60;break;case 55:return t.next=57,Qe(u,"Po\u010detna"===e?"Po\u010detna":"other").then((function(e){return e}));case 57:f=t.sent,console.log(f),n(f);case 60:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},et=function(e){var t=e.route,n=Object(c.useState)([{first:[],second:[],third:[],current:"first"}]),a=Object(l.a)(n,2),o=a[0],s=a[1];Object(c.useEffect)(Object(E.a)(R.a.mark((function e(){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$e(t),e.next=3,n.then((function(e){return e}));case 3:n=e.sent,console.log(n),s([{first:Object(N.a)(n[0]),second:Object(N.a)(n[1]),third:Object(N.a)(n[2]),current:"first"}]);case 6:case"end":return e.stop()}}),e)}))),[]),Object(c.useEffect)((function(){o[0].first.length&&console.log(o),console.log(o)}),[o]);var i=function(e){switch(e.target.textContent){case"Najnovije":s((function(e){return[Object(d.a)(Object(d.a)({},e[0]),{},{current:"first"})]}));break;case"Naj\u010ditanije":s((function(e){return[Object(d.a)(Object(d.a)({},e[0]),{},{current:"second"})]}));break;case"Preporuke":s((function(e){return[Object(d.a)(Object(d.a)({},e[0]),{},{current:"third"})]}))}};return Object(h.jsxs)("div",{id:qe.a.sideBar,children:[Object(h.jsxs)("div",{id:qe.a.sideBarControls,children:[Object(h.jsx)("div",{className:"".concat(qe.a.sideBarControlItem).concat("first"===o[0].current?" "+qe.a.itemActive:""),onClick:i,children:"Najnovije"}),Object(h.jsx)("div",{className:"".concat(qe.a.sideBarControlItem).concat("second"===o[0].current?" "+qe.a.itemActive:""),onClick:i,children:"Naj\u010ditanije"}),Object(h.jsx)("div",{className:"".concat(qe.a.sideBarControlItem).concat("third"===o[0].current?" "+qe.a.itemActive:""),onClick:i,children:"Preporuke"})]}),Object(h.jsx)("div",{id:qe.a.sideBarContent,children:o[0][o[0].current].length?o[0][o[0].current].map((function(e){return Object(h.jsxs)("div",{className:qe.a.sideBarItem,children:[Object(h.jsx)("h3",{style:{color:"".concat(re[e.category.toLowerCase()])},children:e.subTitle}),Object(h.jsx)("p",{children:Object(h.jsx)(r.b,{to:{pathname:encodeURI("/".concat(e.category,"/").concat(e.subCategory,"/").concat(tt(e.title),"/").concat(e.id)),state:{articleData:e}},children:e.title})}),Object(h.jsxs)("div",{className:qe.a.sideBarItemBundle,children:[Object(h.jsx)("span",{children:le(e.date)}),Object(h.jsxs)("div",{className:qe.a.sideBarItemBundleRight,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comments"}),He(e)]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",e.shares.constructor===Object?Object.keys(e.shares).length:0]})]})]})]},Object(M.a)())})):null})]})},tt=function(e){var t,n=e.split(" "),c=[];return console.log(n),n.forEach((function(e){c.push(e.toLowerCase())})),t=(t=c.join("-")).split(",").join("").split(" ").join("-"),console.log(c),t},nt=function(e){var t=e.route,n=Object(c.useState)([]),a=Object(l.a)(n,2),o=a[0],s=a[1];return Object(c.useEffect)((function(){m.ref("viewContent/Glavni sadr\u017eaj/".concat(t)).once("value",(function(e){e.exists()&&function(){var t=e.val();console.log(t);var n=[];for(var c in t)t[c].forEach((function(e){n.push("".concat(e[1],"/-").concat(e[0]))}));console.log(n);for(var a=[],r=[],o=0;o<n.length;o++)r.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(n[o],".json")).then((function(e){return e.json()})));Promise.all(r).then((function(e){console.log(e);for(var t=0;t<e.length;t++){for(var c in a.push(JSON.parse(JSON.stringify(e[t]))),se)if(c===e[t].category.toLowerCase()&&a[t]){a[t].subTitleClr=se[c];var r=tt(e[t].title);a[t].linkPath="/".concat(e[t].category,"/").concat(e[t].subCategory,"/").concat(r,"/").concat(e[t].id)}if(a[t]&&(a[t].timeDiff=le(e[t].date),a[t].comments&&a[t].comments.constructor===Object)){var o=[],i=[];for(var l in a[t].comments)if(a[t].comments[l].replies){for(var d in a[t].comments[l].replies)i.push(a[t].comments[l].replies[d]);o.push(a[t].comments[l]),o[o.length-1].replies=Object(N.a)(i),i=[]}else o.push(a[t].comments[l]);a[t].comments=[].concat(o),console.log(o)}console.log(a[t]),t===n.length-1&&(console.log(a),s([].concat(a)))}}))}()}))}),[]),Object(c.useEffect)((function(){console.log(o)}),[o]),Object(h.jsxs)("div",{id:T.a.homeMain,children:[Object(h.jsx)("div",{id:T.a.main,children:o.length>1&&o.map((function(e,t){return 1!==t?Object(h.jsxs)("div",{className:T.a.mainBox,children:[Object(h.jsx)("div",{className:T.a.mainBoxImg,children:Object(h.jsxs)(r.b,{to:{pathname:encodeURI(e.linkPath),state:{articleData:e}},children:[Object(h.jsx)("img",{src:e.imageText[0][0],alt:""}),e.images.length>1&&Object(h.jsx)("i",{class:"far fa-images"})]})}),Object(h.jsxs)("div",{className:T.a.mainBoxHeader,children:[Object(h.jsx)("h3",{style:{color:e.subTitleClr},children:e.subTitle}),Object(h.jsx)("h3",{children:Object(h.jsx)(r.b,{to:{pathname:encodeURI(e.linkPath),state:{articleData:e}},children:e.title})})]}),Object(h.jsxs)("div",{className:T.a.mainBoxFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:T.a.mainBoxFooterBundle,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comments"}),e.comments?Ve(e.comments):0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",1===e.shares.length&&""===e.shares[0]?0:Object.keys(e.shares).length]})]})]})]},Object(M.a)()):Object(h.jsxs)("div",{className:T.a.mainBoxBig,children:[Object(h.jsx)("div",{className:T.a.mainBoxImg,children:Object(h.jsxs)(r.b,{to:{pathname:encodeURI(e.linkPath),state:{articleData:e}},children:[Object(h.jsx)("img",{src:e.imageText[0][0],alt:""}),e.images.length>1&&Object(h.jsx)("i",{class:"far fa-images"})]})}),Object(h.jsxs)("div",{className:T.a.mainBoxHeader,children:[Object(h.jsx)("h3",{children:e.subTitle}),Object(h.jsx)("h3",{children:Object(h.jsx)(r.b,{to:{pathname:encodeURI(e.linkPath),state:{articleData:e}},children:e.title})})]}),Object(h.jsxs)("div",{className:T.a.mainBoxFooter,children:[Object(h.jsx)("span",{children:e.timeDiff}),Object(h.jsxs)("div",{className:T.a.mainBoxFooterBundle,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comments"}),e.comments?Ve(e.comments):0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",1===e.shares.length&&""===e.shares[0]?0:Object.keys(e.shares).length]})]})]})]},Object(M.a)())}))}),Object(h.jsx)(et,{route:t})]})},ct=n(15),at=n.n(ct),rt=function(e){var t=e.route,n=Object(c.useState)([]),a=Object(l.a)(n,2),o=a[0],s=a[1],i=Object(c.useState)([]),j=Object(l.a)(i,2),u=j[0],b=j[1];return Object(c.useEffect)((function(){"Po\u010detna"===t&&m.ref("articles/Promo").once("value",(function(e){console.log(e.val());var t=e.val(),n=[];for(var c in t)n=n.concat(Object.values(t[c]).reverse().slice(0,20));n.sort((function(e,t){return new Date(e.date)-new Date(t.date)>0?-1:new Date(e.date)-new Date(t.date)<0?1:0})),n.splice(20),b(n),console.log(n)}));fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/viewContent/Sporedni sadr\u017eaj/".concat(t,".json")).then((function(e){return e.json()})).then((function(e){console.log(e);var n=[],c={};for(var a in e)"Magazin"===t&&"Film"===a?c["Film/TV"]=Object.values(e[a].TV)[0]:c[a]=Object.values(e[a])[0];n.push(Object(d.a)({},c)),console.log(n);var r=[];for(var o in n[0])n[0][o].forEach((function(e){r.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e[1],"/-").concat(e[0],".json")).then((function(e){return e.json()})))}));Promise.all(r).then((function(e){console.log(e);var c=[],a=[],r=0;for(var o in n[0])c.push({category:o,data:e.slice(r,r+n[0][o].length)}),r+=n[0][o].length;te[t.toLowerCase()].forEach((function(e){c.forEach((function(t){t.category===e&&a.push(t)}))})),console.log(a),s(a)}))}))}),[]),Object(c.useEffect)((function(){console.log(o)}),[o]),Object(h.jsxs)(h.Fragment,{children:[o.length?o.map((function(e){return Object(h.jsxs)("div",{id:at.a.sub,children:[Object(h.jsxs)("div",{id:at.a.subBodyHeader,children:[Object(h.jsx)("span",{style:{backgroundColor:"".concat(re["Po\u010detna"!==t?t.toLowerCase():e.category.toLowerCase()])}}),Object(h.jsx)("h3",{children:e.category})]}),Object(h.jsxs)("div",{id:at.a.subBody,style:4===e.data.length?{gridTemplateColumns:"1fr"}:null,children:[Object(h.jsx)("div",{id:at.a.subBodyLeft,children:e.data.map((function(n,c){if(c<4)return Object(h.jsxs)("div",{className:at.a.subBodyItem,children:[Object(h.jsx)("div",{className:"".concat(at.a.itemImg," ").concat(4===e.data.length?at.a.itemImgFour:null),children:Object(h.jsxs)(r.b,{to:{pathname:encodeURI("/".concat(n.category,"/").concat(n.subCategory,"/").concat(tt(n.title),"/").concat(n.id)),state:{articleData:n}},children:[Object(h.jsx)("img",{src:n.imageText[0][0]}),n.images.length>1&&Object(h.jsx)("i",{class:"far fa-images"})]})}),Object(h.jsxs)("div",{className:at.a.itemText,children:[Object(h.jsx)("h3",{style:{color:se["Po\u010detna"!==t?t.toLowerCase():e.category.toLowerCase()]},children:n.subTitle}),Object(h.jsx)("h3",{children:Object(h.jsx)(r.b,{to:{pathname:encodeURI("/".concat(n.category,"/").concat(n.subCategory,"/").concat(tt(n.title),"/").concat(n.id)),state:{articleData:n}},children:n.title})})]}),Object(h.jsxs)("div",{className:at.a.itemBundle,children:[Object(h.jsx)("span",{children:le(n.date)}),Object(h.jsxs)("div",{className:at.a.itemBundleR,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comments"}),n.comments?Ye(n.comments):0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"}),n.shares.constructor===Object?Object.keys(n.shares).length:0]})]})]})]},Object(M.a)())}))}),e.data.length>4?Object(h.jsx)("div",{className:at.a.subBodyItemsBundle,children:e.data.map((function(t,n){if(n>=4)return Object(h.jsxs)("div",{className:at.a.subBodyBundleItem,children:[Object(h.jsxs)("div",{className:at.a.itemText,children:[Object(h.jsx)("h3",{style:{color:se[e.category.toLowerCase()]},children:t.subTitle}),Object(h.jsx)("h3",{children:Object(h.jsx)(r.b,{to:{pathname:encodeURI("/".concat(t.category,"/").concat(t.subCategory,"/").concat(tt(t.title),"/").concat(t.id)),state:{articleData:t}},children:t.title})})]}),Object(h.jsxs)("div",{className:at.a.itemBundle,children:[Object(h.jsx)("span",{children:le(t.date)}),Object(h.jsxs)("div",{className:at.a.itemBundleRight,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comments"}),t.comments?Ye(t.comments):0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"}),t.shares.constructor===Object?Object.keys(t.shares).length:0]})]})]})]},Object(M.a)())}))}):null]})]},Object(M.a)())})):null,u.length?Object(h.jsxs)("div",{id:at.a.promoCnt,children:[Object(h.jsxs)("div",{id:at.a.promoHeader,children:[Object(h.jsx)("span",{}),Object(h.jsx)("h3",{children:"Promo"})]}),Object(h.jsx)("div",{id:at.a.promoBody,children:u.map((function(e,t){return Object(h.jsxs)("div",{className:at.a.subBodyItem,children:[t<4?Object(h.jsx)("div",{className:"".concat(at.a.itemImg," ").concat(at.a.itemImgFour),children:Object(h.jsxs)(r.b,{to:{pathname:encodeURI("/".concat(e.category,"/").concat(e.subCategory,"/").concat(tt(e.title),"/").concat(e.id)),state:{articleData:e}},children:[Object(h.jsx)("img",{src:e.imageText[0][0]}),e.images.length>1&&Object(h.jsx)("i",{class:"far fa-images"})]})}):null,Object(h.jsxs)("div",{className:at.a.itemText,children:[Object(h.jsx)("h3",{style:{color:se[e.category.toLowerCase()]},children:e.subTitle}),Object(h.jsx)("h3",{children:Object(h.jsx)(r.b,{to:{pathname:encodeURI("/".concat(e.category,"/").concat(e.subCategory,"/").concat(tt(e.title),"/").concat(e.id)),state:{articleData:e}},children:e.title})})]}),Object(h.jsxs)("div",{className:at.a.itemBundle,children:[Object(h.jsx)("span",{children:le(e.date)}),Object(h.jsxs)("div",{className:at.a.itemBundleR,children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-comments"}),e.comments?Ye(e.comments):0]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("i",{class:"fas fa-share-alt"}),e.shares.constructor===Object?Object.keys(e.shares).length:0]})]})]})]},Object(M.a)())}))})]}):null]})},ot=function(e){var t=e.route;return Object(c.useEffect)((function(){window.scrollTo(0,0)})),Object(h.jsxs)("div",{children:[Object(h.jsx)(nt,{route:t}),Object(h.jsx)(rt,{route:t})]},Object(M.a)())},st=n(32),it=n.n(st),lt=function(){window.location.reload()},dt=function(e){return Object(c.useEffect)((function(){console.log(e)}),[]),Object(h.jsxs)("div",{className:it.a.commentContainer,children:[Object(h.jsxs)("div",{className:it.a.commentHeader,children:[Object(h.jsx)("div",{className:it.a.commentHeaderFirst,children:Object(h.jsx)("i",{class:"fas fa-user",style:{backgroundColor:"#".concat(e.commentData.avatarColor),color:"#fff",padding:"1.5rem",borderRadius:".3rem"}})}),Object(h.jsxs)("div",{className:it.a.commentHeaderSecond,children:[Object(h.jsx)("h4",{onClick:lt,children:e.commentData.userName}),Object(h.jsx)("p",{children:Object(h.jsx)(r.b,{to:{pathname:"/komentar/".concat(e.commentData.commentId),state:{articleLink:e.commentData.articlePath,commentId:e.commentData.commentId,parentCommentId:e.commentData.parentCommentId},search:"?".concat(JSON.stringify({articleLink:e.commentData.articlePath,commentId:e.commentData.commentId,parentCommentId:e.commentData.parentCommentId}))},children:"prije ".concat(le(e.commentData.date))})})]})]}),Object(h.jsx)("div",{className:it.a.commentBody,children:Object(h.jsx)("p",{children:e.commentData.comment})}),Object(h.jsxs)("div",{className:it.a.commentFooter,children:[Object(h.jsxs)("div",{className:it.a.commentFooterF,children:[Object(h.jsxs)("span",{className:it.a.like,children:[Object(h.jsx)("i",{class:"fas fa-long-arrow-alt-up"})," ",e.commentData.commentLikes?Object.keys(e.commentData.commentLikes).length:0]}),Object(h.jsxs)("span",{className:it.a.dislike,children:[Object(h.jsx)("i",{class:"fas fa-long-arrow-alt-down"})," ",e.commentData.commentDislikes?Object.keys(e.commentData.commentDislikes).length:0]})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("span",{className:it.a.report,onClick:function(){return e.handleReport({commentId:e.commentData.commentId,user:e.commentData.userName,comment:e.commentData.comment,search:"?".concat(JSON.stringify({comLink:"".concat(e.commentData.articlePath,"/comments/").concat(e.commentData.parentCommentId?e.commentData.parentCommentId:e.commentData.commentId).concat(e.commentData.parentCommentId?"/replies/"+e.commentData.commentId:""),commentId:e.commentData.commentId,parentCommentId:e.commentData.parentCommentId?e.commentData.parentCommentId:void 0}))})},children:[Object(h.jsx)("i",{class:"far fa-flag"})," ",Object(h.jsx)("p",{children:"Prijavi"})]}),Object(h.jsxs)("span",{className:it.a.reply,children:[Object(h.jsx)("i",{class:"fas fa-pen"}),Object(h.jsx)("p",{children:"Odgovori"})]})]})]})]})},jt=n(33),ut=n.n(jt),mt=function(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(c.useContext)(x),s=Object(c.useState)(!1),i=Object(l.a)(s,2),j=i[0],u=i[1],b=Object(c.useState)(!0),O=Object(l.a)(b,2),f=O[0],p=O[1],g=Object(c.useState)(!1),v=Object(l.a)(g,2),k=v[0],y=v[1];o.user;Object(c.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(c.useEffect)((function(){f&&_()}),[f]),Object(c.useEffect)((function(){if(console.log(Object.assign({},n.comments)),n.comments&&f){console.log(n.comments);var e=[],t=[],c={},r=Object.keys(Object.assign({},n.comments)).length-1;for(var o in console.log(r),n.comments){var s=Object.values(n.comments[o])[0].articlePath,i=Object.values(n.comments[o])[0].commentId,l=Object.values(n.comments[o])[0].parentCommentId;s&&i&&(t.push(o),c[o]=Object.values(n.comments[o])[0],e.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(s,"/comments/").concat(l?"/"+l:i).concat(l?"/replies/"+i:"",".json")).then((function(e){return e.json()}))))}Promise.all(e).then((function(e){console.log(e),console.log(t),console.log(c),p(!1),a((function(a){var o=Object(d.a)({},a),s=[t[0],t[t.length-1]];console.log(s),console.log(n.comLength-1-r-2),console.log(n.comLength-1-r);for(var i=0,l=+s[0];l<=+s[1];l++)o.comments[l]=Object(d.a)({},e[i]),o.comments[l]=Object(d.a)(Object(d.a)({},o.comments[l]),c[l]),i++;return console.log(o.comments),console.log(o),o})),n.comLength-1-r-3>0||n.comLength-1-r>0?u(!0):u(!1)}))}}),[n]);var _=function(){var e=JSON.parse(localStorage.getItem("userObj"));e&&!Object.keys(n).length&&a(Object(d.a)({},e));var t=m.ref("users").child("".concat(e.uId)).child("comments");t.child("comLength").once("value",(function(e){var c=e.val(),r=n.comments?n.comments.length-1:0,o=!1;c-1-r-3<0&&(o=!0),t.orderByKey().startAt("".concat(o?0:r?c-1-r-3:c-1-2)).endAt("".concat(r?c-1-r-1:c-1)).once("value",(function(e){console.log(e.val());var t=e.val();if(t){var n=t.constructor===Array?t.filter((function(e){return void 0!==e&&null!==e})).reverse():Object.values(t).reverse();console.log(n),a((function(e){var t=Object(d.a)({},JSON.parse(JSON.stringify(e)));if(t.comments){var a=Object(N.a)(t.comments);t.comments=[].concat(Object(N.a)(a),Object(N.a)(n))}else t.comments=Object(N.a)(n);return t.comLength||(t.comLength=c),console.log(t),t}))}}))}))},C=function(){p(!0)},I=function(e){console.log(e),y(e)};return Object(h.jsxs)(h.Fragment,{children:[k&&Object(h.jsx)(V,{navZ:!0,children:Object(h.jsx)(we,{closeModal:y,reportData:k})}),Object(h.jsxs)("div",{id:ut.a.userInfoContainer,children:[Object(h.jsxs)("div",{id:ut.a.userInfo,children:[Object(h.jsxs)("div",{id:ut.a.userInfoF,style:{backgroundColor:"#".concat(o.user.avatarColor)},children:[Object(h.jsx)("i",{class:"fas fa-user",style:{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"#fff",padding:"1rem",borderRadius:".5rem",fontSize:"1.3rem"}}),Object(h.jsx)("h1",{children:n.displayName})," (",Object(h.jsx)(r.b,{to:"/mojprofil",children:"uredi profil"})," |",Object(h.jsx)(r.b,{onClick:function(){o.logout()},to:"/",children:"odjavi se"}),")"]}),Object(h.jsxs)("div",{id:ut.a.userData,children:[Object(h.jsxs)("div",{className:ut.a.userDataItem,children:[Object(h.jsx)("h3",{children:"Spol"}),Object(h.jsx)("p",{children:n.gender})]}),Object(h.jsxs)("div",{className:ut.a.userDataItem,children:[Object(h.jsx)("h3",{children:"Boja avatara"}),Object(h.jsx)("p",{children:n.avatarColor})]}),Object(h.jsxs)("div",{className:ut.a.userDataItem,children:[Object(h.jsx)("h3",{children:"Banovan"}),Object(h.jsx)("p",{children:n.banned})]}),Object(h.jsxs)("div",{className:ut.a.userDataItem,children:[Object(h.jsx)("h3",{children:"Registrovan"}),Object(h.jsx)("p",{children:n.registered})]}),Object(h.jsxs)("div",{className:ut.a.userDataItem,children:[Object(h.jsx)("h3",{children:"Komentari"}),Object(h.jsx)("p",{children:n.comLength})]})]})]}),Object(h.jsx)("div",{id:ut.a.commentContainer,children:Object(h.jsxs)("div",{id:ut.a.comments,children:[Object(h.jsx)("h3",{children:"Komentari korisnika"}),Object(h.jsxs)("div",{children:[n.comments&&!f&&n.comments.map((function(e,t){return Object(h.jsx)(dt,{commentData:e,index:t,handleReport:I},Object(M.a)())})),n.comments&&f&&n.comments.map((function(e,t){return e.avatarColor?Object(h.jsx)(dt,{commentData:e,index:t,handleReport:I},Object(M.a)()):null})),j&&f?Object(h.jsx)(Ce,{loading:f,onClick:C}):null,j&&!f?Object(h.jsx)(Ce,{loading:f,onClick:C}):null]})]})})]})]})},bt=n(65),ht=n.n(bt),Ot=n(34),ft=n.n(Ot),pt=new j.a.auth.GoogleAuthProvider,gt=new j.a.auth.FacebookAuthProvider;pt.addScope("https://www.googleapis.com/auth/contacts.readonly"),gt.addScope("user_birthday");var xt=function(){var e=Object(c.useContext)(x),t=Object(c.useState)(),a=Object(l.a)(t,2),o=(a[0],a[1],Object(c.useState)(null)),s=Object(l.a)(o,2),d=s[0],u=s[1],m=Object(c.useState)(!1),O=Object(l.a)(m,2),f=(O[0],O[1],Object(i.useHistory)()),p=Object(c.useRef)(),g=Object(c.useRef)(),v=Object(c.useRef)(),k=b.currentUser,y=function(){var t=Object(E.a)(R.a.mark((function t(n){var c,a,r,o;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),c="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat("AIzaSyDDpLMfCuKs4jQJwf_5xsNQ5VuSBPZtIDk"),console.log(p.current.value),r=void 0,p.current.value.includes("@")){t.next=15;break}return t.next=7,fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/userNames/".concat(p.current.value,".json"));case 7:return o=t.sent,t.next=10,o.json();case 10:if(r=t.sent,console.log(r),r){t.next=15;break}return u("Korisnicko ime ne postoji."),t.abrupt("return");case 15:return t.next=17,fetch(c,{method:"POST",body:JSON.stringify({email:r||p.current.value,password:g.current.value,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(t){t&&(v.current.checked?(j.a.auth().setPersistence(j.a.auth.Auth.Persistence.LOCAL),localStorage.setItem("rememberMe",!0)):v.current.checked||j.a.auth().setPersistence(j.a.auth.Auth.Persistence.SESSION),a=new Date((new Date).getTime()+1e3*+t.expiresIn),b.onAuthStateChanged((function(n){if(n){(new Date).toJSON().slice(0,10).split("-").reverse().join(".");e.signUp(n.uid),v.current.checked||e.login(t.idToken,a.toISOString()),console.log(t),f.push("/")}})))})).catch((function(e){console.log(e)}));case 17:b.signInWithEmailAndPassword(r||p.current.value,g.current.value).then((function(e){e.user.providerData[0].uid.slice(0,10);console.log(e.user),console.log(e.user.refreshToken)})).catch((function(e){console.log(e),e.code.includes("user-not-found")?u("Email adresa ne odgovara nijednom profilu."):e.code.includes("password")?u("Lozinka je neispravna."):e.code.includes("too-many-requests")&&u("Previse puta ste unijeli pogresne podatke, tako da pristup ovom profilu je privremeno zabranjen, molimo vas pokusajte kasnije, ili resetujte lozinku.")}));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){k&&console.log(k)}),[k]);var _=function(t){t="fb"===t?gt:pt,v.current.checked?v.current.checked&&(j.a.auth().setPersistence(j.a.auth.Auth.Persistence.LOCAL),localStorage.setItem("rememberMe",!0)):j.a.auth().setPersistence(j.a.auth.Auth.Persistence.SESSION),b.signInWithPopup(t).then((function(t){var n=t.credential;console.log(n);var c=n.signInMethod.includes("google")?"gooUser":"fbUser";b.onAuthStateChanged((function(t){if(t){console.log(t),c=c.concat(t.providerData[0].uid.slice(0,10));var n=(new Date).toJSON().slice(0,10).split("-").reverse().join(".");e.signUp(t.uid,c,n);var a=new Date((new Date).getTime()+36e5);localStorage.getItem("rememberMe")||e.login(t.refreshToken,a.toISOString()),f.push("/")}})),console.log(k)}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Prijava korisnika"}),Object(h.jsxs)("p",{children:["Na portal se mo\u017ee\u0161 prijaviti ili registrovati putem svog Facebook ",Object(h.jsx)("br",{}),"ili Google ra\u010duna."]}),Object(h.jsxs)("form",{id:ft.a.loginForm,onSubmit:y,children:[d&&Object(h.jsx)("div",{id:ft.a.error,children:Object(h.jsx)("h3",{children:d})}),Object(h.jsxs)("div",{id:ft.a.fbgoo,children:[Object(h.jsx)("div",{id:ft.a.fb,onClick:function(){return _("fb")},children:Object(h.jsx)("i",{class:"fab fa-facebook"})}),Object(h.jsx)("div",{id:ft.a.goo,onClick:function(){return _("goo")},children:Object(h.jsx)("img",{src:n(108).default})})]}),Object(h.jsxs)("div",{id:ft.a.nastavite,children:[Object(h.jsx)("span",{}),"ili nastavite sa",Object(h.jsx)("span",{})]}),Object(h.jsxs)("div",{id:ft.a.username,children:[Object(h.jsx)("label",{htmlFor:"username",children:"Korisni\u010dko ime ili e-mail adresa"}),Object(h.jsx)("input",{ref:p,type:"text",required:!0,id:"username"})]}),Object(h.jsxs)("div",{id:ft.a.password,children:[Object(h.jsx)("label",{htmlFor:"password",children:"Lozinka"}),Object(h.jsx)("input",{ref:g,type:"password",id:"password"})]}),Object(h.jsxs)("div",{id:ft.a.remember,children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox",ref:v}),Object(h.jsx)("span",{className:ft.a.checkmark}),"Zapamti me"]}),Object(h.jsx)(r.b,{to:"/resetpass",children:"Zaboravljena lozinka?"})]}),Object(h.jsx)("button",{type:"submit",children:"Prijavi se"})]})]})},vt=function(e){var t=Object(c.useContext)(x);b.currentUser,Object(i.useHistory)();return Object(c.useEffect)((function(){}),[]),Object(h.jsx)("div",{id:t.isLoggedIn?ht.a.borderTwo:ht.a.border,children:e.children})},kt=function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(S,{}),Object(h.jsx)(vt,{children:e.children})]})},yt=n(57),_t=n.n(yt),Ct=function(){return Object(h.jsxs)("div",{id:_t.a.footer,children:[Object(h.jsx)("nav",{children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"Po\u010detna"}),Object(h.jsx)("li",{children:"Impressum"}),Object(h.jsx)("li",{children:"Komentari"}),Object(h.jsx)("li",{children:"Kontakt"}),Object(h.jsx)("li",{children:"Marketing"}),Object(h.jsx)("li",{children:"O nama"}),Object(h.jsx)("li",{children:"Privatnost"}),Object(h.jsx)("li",{children:"RSS"})]})}),Object(h.jsxs)("div",{id:_t.a.followUs,children:["Pratite nas ",Object(h.jsx)("i",{class:"fab fa-facebook"}),Object(h.jsx)("i",{class:"fab fa-twitter"}),Object(h.jsx)("i",{class:"fab fa-instagram"}),Object(h.jsx)("i",{class:"fab fa-youtube"}),Object(h.jsx)("i",{class:"fab fa-linkedin"})]}),Object(h.jsx)("div",{id:_t.a.cpr,children:"Copyright 2000-2021 InvolSoft d.o.o. Sarajevo. ISSN 2143-3271. Sva prava zadr\u017eana. Zabranjeno preuzimanje sadr\u017eaja bez dozvole izdava\u010da."})]})},It=n(13),Dt=n.n(It),wt=function(){var e=Object(c.useContext)(x),t=Object(c.useState)({username:"",password:"",success:""}),n=Object(l.a)(t,2),a=n[0],r=n[1],o=Object(c.useRef)(),s=Object(c.useRef)(),i=Object(c.useRef)(),j=Object(c.useRef)(),u=Object(c.useRef)(),O=Object(c.useState)({username:"",avatarColor:"",password:"",gender:""}),f=Object(l.a)(O,2);f[0],f[1];Object(c.useEffect)((function(){for(var t=e.user.avatarColor,n=0;n<s.current.children.length;n++){var c=window.getComputedStyle(s.current.children[n]).getPropertyValue("background-color").match(/(\d+)/g);(c=p(+c[0],+c[1],+c[2]))===t&&s.current.children[n].children[0].click()}"\u017denski"===e.user.gender&&u.current.children[1].children[0].click()}),[]);var p=function(e,t,n){return[e,t,n].map((function(e){return e.toString(16).padStart(2,"0")})).join("")},g=function(){var t=Object(E.a)(R.a.mark((function t(){var n,c,a,l,h,O,f,g,x,k,y,_,C;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r((function(e){return Object(d.a)(Object(d.a)({},e),{},{success:""})})),n=o.current.value.trim().length>=4&&o.current.value.trim().length<=20?o.current.value.trim():"",c=o.current.value.trim().length>=4&&o.current.value.trim().length<=20,console.log(c),console.log(n),i.current.value.trim().length>0&&(a=/\d/.test(i.current.value.trim())),l=!0,g=0;g<s.current.children.length;g++)s.current.children[g].children[0].checked&&(h=(h=window.getComputedStyle(s.current.children[g]).getPropertyValue("background-color")).match(/(\d+)/g),h=p(+h[0],+h[1],+h[2]));for(x=0;x<u.current.children.length;x++)u.current.children[x].children[0].checked&&(O=u.current.children[x].children[1].textContent);if(i.current.value.trim().length>=6&&j.current.value.trim()===i.current.value.trim()&&a?(f=i.current.value,r((function(e){return Object(d.a)(Object(d.a)({},e),{},{password:""})}))):i.current.value.trim().length>=6&&j.current.value.trim()!==i.current.value.trim()&&j.current.value.trim().length>0&&a?(l=!1,r((function(e){return Object(d.a)(Object(d.a)({},e),{},{password:"Lozinke se ne podudaraju."})}))):i.current.value.trim().length>=6&&0===j.current.value.trim().length&&a?(l=!1,r((function(e){return Object(d.a)(Object(d.a)({},e),{},{password:"Ponovite lozinku."})}))):i.current.value.trim().length<6&&i.current.value.trim().length>0&&a?(l=!1,r((function(e){return Object(d.a)(Object(d.a)({},e),{},{password:"Lozinka mora imati minimalno 6 karaktera."})}))):i.current.value.trim().length<6&&i.current.value.trim().length>0&&!a?(l=!1,r((function(e){return Object(d.a)(Object(d.a)({},e),{},{password:"Lozinka mora imati minimalno 6 karaktera i barem jedan broj"})}))):i.current.value.trim().length>=6&&!a?(l=!1,r((function(e){return Object(d.a)(Object(d.a)({},e),{},{password:"Lozinka mora imati minimalno jedan broj"})}))):0===i.current.value.trim().length&&0===j.current.value.trim().length&&r((function(e){return Object(d.a)(Object(d.a)({},e),{},{password:""})})),console.log(h),console.log(n||e.user.displayName),n.includes(" ")&&c?(l=!1,r((function(e){return Object(d.a)(Object(d.a)({},e),{},{username:"Korisni\u010dko ime ne mo\u017ee imati razmak, koristite _ ili -"})}))):n.includes(" ")&&!c?(l=!1,r((function(e){return Object(d.a)(Object(d.a)({},e),{},{username:"Korisni\u010dko ime ne mo\u017ee imati razmak, koristite _ ili -, i mora imati izme\u0111u 4 i 20 karaktera"})}))):n.includes(" ")||c?(n=n||e.user.displayName,r((function(e){return Object(d.a)(Object(d.a)({},e),{},{username:""})}))):(l=!1,r((function(e){return Object(d.a)(Object(d.a)({},e),{},{username:"Korisni\u010dko ime mora imati izme\u0111u 4 i 20 karaktera"})}))),f=f||"",O=O||"",!l){t.next=34;break}return t.next=18,v(n);case 18:if(y=t.sent,console.log(y),console.log("see?"),!y&&n!==e.user.displayName){t.next=26;break}return r((function(e){return Object(d.a)(Object(d.a)({},e),{},{success:"Trenutno korisni\u010dko ime je zauzeto."})})),t.abrupt("return");case 26:return _=[fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/userNames/".concat(n,".json"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b.currentUser.email)}).then((function(e){return e.json()})),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/userNames/".concat(e.user.displayName,".json"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))],t.next=29,Promise.all(_);case 29:C=t.sent,console.log(C);case 31:console.log("why?"),e.setUserObj((function(t){return k=Object(d.a)(Object(d.a)({},t),{},{displayName:n,avatarColor:h||e.user.avatarColor,password:f||(e.user.password?e.user.password:""),gender:O})})),b.onAuthStateChanged((function(e){e&&(f&&e.updatePassword(f).then((function(){console.log("update successful")})).catch((function(e){console.log(e)})),m.ref("/users/".concat(e.uid,"/userData")).update(Object(d.a)({},k)).then((function(e){r((function(e){return Object(d.a)(Object(d.a)({},e),{},{success:"Uspje\u0161no ste editovali profil."})}))})))}));case 34:window.scrollTo(0,0);case 35:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var e=Object(E.a)(R.a.mark((function e(t){var n,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/userNames/".concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,console.log(c),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){}),[]),Object(h.jsx)("div",{id:Dt.a.border,children:Object(h.jsxs)("div",{id:Dt.a.editProfileContainer,children:[Object(h.jsx)("div",{id:Dt.a.possibleErrors,children:a.success?Object(h.jsx)("h2",{children:a.success}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:a.username.length>0?a.username:""}),Object(h.jsx)("h2",{children:a.password.length>0?a.password:""})]})}),Object(h.jsxs)("div",{className:Dt.a.editProfileItem,children:[Object(h.jsx)("h2",{children:"Editovanje profila"}),Object(h.jsx)("p",{children:"Uredite va\u0161 korisni\u010dki profil"})]}),Object(h.jsxs)("div",{className:"".concat(Dt.a.editProfileItem," ").concat(Dt.a.bundle),children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:"Korisni\u010dko ime"})}),Object(h.jsxs)("div",{id:Dt.a.username,children:[Object(h.jsx)("div",{children:"www.klix.ba/profil/"}),Object(h.jsx)("input",{ref:o,type:"text",defaultValue:e.user.displayName,spellCheck:!1})]})]}),Object(h.jsxs)("div",{className:"".concat(Dt.a.editProfileItem," ").concat(Dt.a.bundle),children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:"Boja avatara"})}),Object(h.jsxs)("div",{id:Dt.a.colors,ref:s,children:[Object(h.jsx)("div",{className:Dt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:Dt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:Dt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:Dt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:Dt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:Dt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:Dt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:Dt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:Dt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:Dt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:Dt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:Dt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:Dt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})}),Object(h.jsx)("div",{className:Dt.a.radioField,children:Object(h.jsx)("input",{type:"radio",name:"radiobutton"})})]})]}),Object(h.jsxs)("div",{className:"".concat(Dt.a.editProfileItem," ").concat(Dt.a.bundle),children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:"Lozinka"})}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{id:Dt.a.password,type:"password",ref:i})})]}),Object(h.jsxs)("div",{className:"".concat(Dt.a.editProfileItem," ").concat(Dt.a.bundle),children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:"Ponovi lozinku"})}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{id:Dt.a.passwordConfirm,type:"password",ref:j})})]}),Object(h.jsxs)("div",{className:"".concat(Dt.a.editProfileItem," ").concat(Dt.a.bundle),children:[Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:"Spol"})}),Object(h.jsxs)("div",{id:Dt.a.gender,ref:u,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{className:Dt.a.xd,id:"spol",name:"spol",type:"radio",defaultChecked:!0}),Object(h.jsx)("label",{htmlFor:"spol",children:"Mu\u0161ki"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{id:"spol2",className:Dt.a.gender2,name:"spol",type:"radio"}),Object(h.jsx)("label",{htmlFor:"spol",children:"\u017denski"})]})]})]}),Object(h.jsxs)("div",{className:"".concat(Dt.a.editProfileItem),children:[Object(h.jsx)("h2",{children:"Napomena"}),Object(h.jsx)("p",{children:"Na komentarima i drugim servisima portala \u0107e biti prikazano samo Va\u0161e korisni\u010dko ime i spol, dok nijedan drugi podatak ne\u0107e biti javno dostupan."})]}),Object(h.jsx)("div",{id:Dt.a.saveBtn,children:Object(h.jsx)("button",{onClick:g,children:"Spasi"})})]})})},St=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(wt,{})})},Nt=n(75),Bt=n.n(Nt),Tt=(n(36),function(){return Object(h.jsx)("div",{id:Bt.a.border,children:Object(h.jsx)(ne,{})})}),At=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(Tt,{})})},Lt=function(){return Object(h.jsx)(Ke,{})},Pt=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(de,{})})},Rt=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(Ge,{})})},Et=n(66),Ft=n.n(Et),Mt=function(){return Object(h.jsx)("div",{id:Ft.a.commentRulesCnt,children:Object(h.jsxs)("div",{id:Ft.a.commentRulesBody,children:[Object(h.jsx)("h1",{children:"Pravila i uslovi kori\u0161tenja komentara"}),Object(h.jsxs)("p",{children:["Internet portal Klix.ba je najposje\u0107eniji i najrelevantniji internet medij u Bosni i Hercegovini koji postoji vi\u0161e od 20 godina, a kojeg posje\u0107uje veliki broj korisnika iz Bosne i Hercegovine i dijaspore. Dok ve\u0107ina korisnika nije registrovana i ne pi\u0161e komentare, jedan dio korisnika predstavljaju ",Object(h.jsx)("b",{children:"registrovani korisnici"})," portala Klix.ba i oni aktivno u\u010destvuju u ",Object(h.jsx)("b",{children:"diskusijama"})," na \u010dlancima kroz komentare."]}),Object(h.jsx)("p",{children:"Klix.ba ozbiljno shvata problem govora mr\u017enje u komentarima i poduzimamo sve mjere kako bismo onemogu\u0107ili objavljivanje sadr\u017eaja koji poti\u010de na nasilje ili mr\u017enju. S obzirom da dnevni broj komentara mo\u017ee biti jako veliki, trenutno je nemogu\u0107e sve komentare pregledati u stvarnom vremenu i reagovati na one koji kr\u0161e pravila i uslove kori\u0161tenja, pa je mogu\u0107e da u pojedinim komentarima jo\u0161 uvijek nai\u0111ete na poneki sadr\u017eaj koji predstavlja govor mr\u017enje."}),Object(h.jsxs)("p",{children:["Stoga, molimo sve korisnike da koriste"," ",Object(h.jsx)("b",{children:"opciju za prijavu komentara"}),"koja se nalazi pored svakog komentara (govor mr\u017enje, neprikladan rije\u010dnik, off topic, vrije\u0111anje, spam, reklama) i tako nam pomognu kako bismo prijavljene komentare prioritetnije pregledali. Neprimjerene komentare mo\u017eete prijaviti i putem e-maila\xa0",Object(h.jsx)("b",{children:"komentari@klix.ba"}),", \u0161to je i na\u010din slu\u017ebene \u017ealbe."]}),Object(h.jsx)("h3",{children:"Svi korisnici su du\u017eni da se pridr\u017eavaju sljede\u0107ih pravila uslova kori\u0161tenja:"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"Komentari odra\u017eavaju stavove njihovih autora, a ne nu\u017eno i stavove uredni\u0161tva i novinara internet portala Klix.ba."}),Object(h.jsx)("li",{children:"Molimo korisnike da se suzdr\u017ee od vrije\u0111anja, psovanja i vulgarnog izra\u017eavanja."}),Object(h.jsx)("li",{children:"Komentari koji su agresivni, bezobrazni, uvredljivi po bilo kojoj osnovi bit \u0107e uklonjeni. Ne pi\u0161ite komentare koji podsti\u010du na mr\u017enju. Li\u010dni i necivilizirani napadi na bilo koga mogu rezultirati potpunom zabranom komentarisanja."}),Object(h.jsx)("li",{children:"Klix.ba zadr\u017eava pravo da zabrani komentarisanje na pojedine \u010dlanke."}),Object(h.jsx)("li",{children:"Zbog velikog broja komentara Klix.ba nije du\u017ean obrisati sve komentare koji kr\u0161e pravila."}),Object(h.jsx)("li",{children:"Svaki \u010ditatelj koji koristi govor mr\u017enje mo\u017ee biti krivi\u010dno gonjen."}),Object(h.jsx)("li",{children:"Klix.ba ima pravo i obavezu na zahtjev zvani\u010dnih organa dostaviti sve podatke o korisniku \u010diji komentari sadr\u017ee govor mr\u017enje."}),Object(h.jsx)("li",{children:"Portal Klix.ba zadr\u017eava pravo da obri\u0161e komentar bez najave i obja\u0161njenja."}),Object(h.jsx)("li",{children:"Kao \u010ditalac tako\u0111er prihvatate mogu\u0107nost da me\u0111u komentarima mogu biti prona\u0111eni sadr\u017eaji koji mogu biti u suprotnosti sa va\u0161im vjerskim, moralnim i drugim na\u010delima i uvjerenjima. Na takve komentare ne odgovarajte neprimjerenim rije\u010dima ve\u0107 ukoliko su uvredljivi prijavite ih po gore opisanom modelu."})]})]})})},Ht=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(Mt,{})})},zt=n(22),Jt=n.n(zt),Ut=function(e){var t=Object(i.useLocation)(),n=Object(i.useHistory)(),o=Object(c.useState)([]),s=Object(l.a)(o,2),j=s[0],u=s[1],m=Object(c.useState)({}),O=Object(l.a)(m,2),f=O[0],p=O[1],g=Object(c.useState)(null),x=Object(l.a)(g,2),v=x[0],k=x[1],y=Object(c.useState)([]),_=Object(l.a)(y,2),C=_[0],I=_[1],D=Object(c.useState)(!1),w=Object(l.a)(D,2),S=w[0],N=w[1],B=Object(c.useRef)(0);Object(c.useEffect)((function(){if(t)if(console.log(t),console.log(t.state),t.state)t.search?n.replace({pathname:t.pathname,state:Object(d.a)({},t.state)}):fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(t.state.articleLink||t.state.articlePath,".json")).then((function(e){return e.json()})).then((function(e){console.log(e),p({author:e.author,title:e.title,subTitle:e.subTitle,category:e.category.toLowerCase(),shares:e.shares?e.shares:0,date:e.date,commentsLength:Ye(e.comments),linkPath:"/".concat(e.category,"/").concat(e.subCategory,"/").concat(tt(e.title),"/").concat(e.id)}),B.current=Ye(e.comments);var n=void 0,c="".concat(e.category,"/").concat(e.subCategory,"/-").concat(e.id);for(var a in e.comments)if(t.state.parentCommentId){if(a===t.state.parentCommentId){var r=[];console.log(e.comments[a]),(n=[Object(d.a)({},e.comments[a])])[0].path="".concat(c,"/comments/").concat(a),n[0].id=a;for(var o=0,s=0,i=Object.values(e.comments[a].replies);s<i.length;s++){var l=i[s];r.push(l);var j=Object.keys(e.comments[a].replies)[o];r[r.length-1].path="".concat(c,"/comments/").concat(a,"/replies/").concat(j),r[r.length-1].id=j,o++}n[0].replies=[].concat(r),console.log(n[0]),console.log(n),u(n);var m=Ze(n);console.log(m),m&&I(m)}}else if(a===t.state.commentId){if(console.log(e.comments[a]),(n=[Object(d.a)({},e.comments[a])])[0].path="".concat(c,"/comments/").concat(a),n[0].id=a,n[0].replies){for(var b=[],h=0,O=0,f=Object.values(e.comments[a].replies);O<f.length;O++){var g=f[O];b.push(g);var x=Object.keys(e.comments[a].replies)[h];b[b.length-1].path="".concat(c,"/comments/").concat(a,"/replies/").concat(x),b[b.length-1].id=x,h++}n[0].replies=[].concat(b)}console.log(n[0]),u(n);var v=Ze(n);console.log(v),v&&I(v)}}));else if(t.search){var e=JSON.parse(t.search.slice(1).split("%22").join('"'));console.log(e),n.replace({pathname:t.pathname,state:Object(d.a)({},e)})}else{var c=JSON.parse(localStorage.getItem("userObj")).uId||b.currentUser.uid,a=t.pathname.split("/");a=a[a.length-1],console.log(a),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/users/".concat(c,"/comments.json")).then((function(e){return e.json()})).then((function(e){for(var c in e)if(Object.keys(e[c])[0]===a){console.log(Object.values(e[c])[0]);var r=Object.values(e[c])[0],o="https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(r.articlePath,"/comments/").concat(r.parentCommentId?r.parentCommentId:r.commentId,".json");console.log(o),console.log(r),n.replace({pathname:t.pathname,state:Object(d.a)({},r)})}}))}}),[t]);var T=function(e){k(e)},A=function(){I([])};Object(c.useEffect)((function(){console.log(e)}),[]);var L=function(e){console.log(e),N(e)};return Object(c.useEffect)((function(){j&&console.log(j)}),[j]),Object(h.jsxs)(h.Fragment,{children:[S&&Object(h.jsx)(V,{navZ:!0,children:Object(h.jsx)(we,{closeModal:N,reportData:S})}),Object(h.jsxs)("div",{id:Jt.a.commentLinkContainer,children:[Object(h.jsxs)("div",{id:Jt.a.commentPageContainerHeader,children:[Object(h.jsxs)("div",{id:Jt.a.headerBundle,children:[Object(h.jsx)("h3",{style:{color:"".concat(re[f.category])},children:f.subTitle}),Object(h.jsx)("h1",{children:Object(h.jsx)(r.b,{to:f.linkPath,children:f.title})})]}),Object(h.jsxs)("div",{id:Jt.a.headerShares,children:[Object(h.jsx)("i",{class:"fas fa-share-alt"})," ",f&&f.shares&&f.shares.constructor===Object?Object.keys(f.shares).length:0]})]}),Object(h.jsxs)("div",{id:Jt.a.commentPageContainerBody,children:[Object(h.jsx)("div",{id:Jt.a.commentSidebarLeft,children:Object(h.jsxs)("div",{id:Jt.a.bundleDiv,children:[Object(h.jsxs)("div",{id:Jt.a.postedData,children:[Object(h.jsx)("div",{children:Object(h.jsx)("i",{class:"fas fa-user",style:{backgroundColor:"rgb(209,213,219)",color:"#fff",padding:"1.2rem",borderRadius:".3rem",fontSize:"1.6rem"}})}),Object(h.jsxs)("div",{id:Jt.a.postedDataTwo,children:[Object(h.jsx)("h3",{children:f.author}),Object(h.jsx)("p",{children:le(f.date)})]})]}),Object(h.jsxs)("div",{id:Jt.a.commentsShare,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:B.current}),Object(h.jsx)("p",{children:"komentara"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:f&&f.shares&&f.shares.constructor===Object?Object.keys(f.shares).length:0}),Object(h.jsx)("p",{children:"dijeljenja"})]})]}),Object(h.jsx)("div",{id:Jt.a.shareArticle,children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)("i",{class:"fab fa-facebook"})}),Object(h.jsx)("li",{children:Object(h.jsx)("i",{class:"fab fa-twitter"})}),Object(h.jsx)("li",{children:Object(h.jsx)("i",{class:"far fa-envelope"})})]})})]})}),Object(h.jsxs)("div",{id:Jt.a.commentBodyContent,children:[Object(h.jsxs)("div",{id:Jt.a.commentBodyContentHeader,children:[Object(h.jsx)("h3",{children:"Komentar"}),Object(h.jsx)("div",{id:Jt.a.povratakNaClanak,children:Object(h.jsxs)(r.b,{to:f.linkPath,children:[Object(h.jsx)("i",{class:"far fa-arrow-alt-circle-left"}),"\xa0Povratak na \u010dlanak"]})})]}),j&&j.map((function(e,t){if(t===v){if(!e.replies)return Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(ge,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,date:le(e.date),path:e.path,setCommentData:u,commentData:j,handleReply:T,handleReport:L}),Object(h.jsx)(ke,{commentIndex:t,commentIndexDB:e.id,setCommentData:u,setReplyIndex:k,path:e.path,ref:B})]},Object(M.a)());if(e.replies)return Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(ge,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,date:le(e.date),path:e.path,setCommentData:u,commentData:j,handleReply:T,handleReport:L}),Object(h.jsx)(ke,{commentIndex:t,commentIndexDB:e.id,setCommentData:u,setReplyIndex:k,path:e.path,ref:B}),e.replies?e.replies.map((function(n,c){return Object(h.jsxs)(a.a.Fragment,{children:[C.length&&c<2?Object(h.jsx)(ge,{commentIndex:[t,c],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,date:le(n.date),path:n.path,setCommentData:u,commentData:j,handleReply:T,handleReport:L},Object(M.a)()):null,C.length?null:Object(h.jsx)(ge,{commentIndex:[t,c],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,date:le(n.date),path:n.path,setCommentData:u,commentData:j,handleReply:T,handleReport:L},Object(M.a)()),C.length&&1===c?Object(h.jsx)(Ce,{onClick:function(){return A()},showReply:e.replies.length-2}):null]})})):null]},Object(M.a)())}else{if(Array.isArray(v))return Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(ge,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,date:le(e.date),path:e.path,setCommentData:u,commentData:j,handleReply:T,handleReport:L}),e.replies&&e.replies.map((function(n,c){return Object(h.jsxs)(a.a.Fragment,{children:[C.length&&c<2?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ge,{commentIndex:[t,c],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,date:le(n.date),path:n.path,setCommentData:u,commentData:j,handleReply:T,handleReport:L}),v[1]===c&&v[0]===t?Object(h.jsx)(ke,{commentIndex:[t,c],commentIndexDB:[e.id,n.id],setCommentData:u,setReplyIndex:k,path:e.path,ref:B}):null]}):null,C.length?null:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ge,{commentIndex:[t,c],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,date:le(n.date),path:n.path,setCommentData:u,commentData:j,handleReply:T,handleReport:L}),v[1]===c&&v[0]===t?Object(h.jsx)(ke,{commentIndex:[t,c],commentIndexDB:[e.id,n.id],setCommentData:u,setReplyIndex:k,path:e.path,ref:B}):null]}),C.length&&1===c?Object(h.jsx)(Ce,{onClick:function(){return A()},showReply:e.replies.length-2}):null]},Object(M.a)())}))]},Object(M.a)());if(!e.replies)return Object(h.jsx)(a.a.Fragment,{children:Object(h.jsx)(ge,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,date:le(e.date),path:e.path,setCommentData:u,commentData:j,handleReply:T,handleReport:L})},Object(M.a)());if(e.replies)return Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(ge,{commentIndex:t,commentIndexDB:e.id,comment:e.comment,displayName:e.userName,commentLikes:e.commentLikes,commentDislikes:e.commentDislikes,avatarColor:e.avatarColor,date:le(e.date),path:e.path,setCommentData:u,commentData:j,handleReply:T,handleReport:L}),e.replies?e.replies.map((function(n,c){return Object(h.jsxs)(a.a.Fragment,{children:[C.length&&c<2?Object(h.jsx)(ge,{commentIndex:[t,c],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,date:le(n.date),path:n.path,setCommentData:u,commentData:j,handleReply:T,handleReport:L}):null,C.length?null:Object(h.jsx)(ge,{commentIndex:[t,c],commentIndexDB:n.id,comment:n.comment,displayName:n.userName,commentLikes:n.commentLikes,commentDislikes:n.commentDislikes,avatarColor:n.avatarColor,date:le(n.date),path:n.path,setCommentData:u,commentData:j,handleReply:T,handleReport:L}),C.length&&1===c?Object(h.jsx)(Ce,{onClick:function(){return A()},showReply:e.replies.length-2}):null]},Object(M.a)())})):null]},Object(M.a)())}})),Object(h.jsx)(r.b,{to:"".concat(f.linkPath,"/komentari"),style:{textDecoration:"none"},children:Object(h.jsx)(Ce,{showAll:B.current})})]}),Object(h.jsx)("div",{})]})]})]})},Kt=function(){return Object(h.jsx)(Ut,{})},Vt=function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(S,{}),Object(h.jsx)(vt,{children:e.children})]})},Yt=n(46),Zt=n.n(Yt),Gt=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(null),n=Object(l.a)(t,2),a=n[0],r=n[1],o=function(){var t=Object(E.a)(R.a.mark((function t(){var n,c;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.current.value.length<3)){t.next=2;break}return t.abrupt("return");case 2:if(n=void 0,e.current.value.includes("@")){t.next=14;break}return t.next=6,fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/userNames/".concat(e.current.value,".json"));case 6:return c=t.sent,t.next=9,c.json();case 9:if(n=t.sent,console.log(n),n){t.next=14;break}return r("Korisnicko ime ne postoji."),t.abrupt("return");case 14:b.sendPasswordResetEmail(n||e.current.value).then((function(e){console.log(e),console.log("pass email sent"),r("Lozinka je resetovana, provjerite vasu email adresu.")})).catch((function(e){console.log(e),e.code.includes("user-not-found")&&r("Email adresa nije odgovaraju\u0107a.")}));case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{id:Zt.a.header,children:"Zaboravljena lozinka"}),Object(h.jsxs)("p",{id:Zt.a.parag,children:["Da biste resetovali va\u0161u lozinku molimo unesite email koji ste ",Object(h.jsx)("br",{}),"koristili prilikom registracije."]}),Object(h.jsxs)("form",{id:Zt.a.form,onSubmit:function(e){return e.preventDefault()},children:[a&&Object(h.jsx)("p",{id:Zt.a.errMsg,children:a}),Object(h.jsxs)("div",{id:Zt.a.inputBundle,children:[Object(h.jsx)("label",{htmlFor:"email",children:"Korisni\u010dko ime ili e-mail adresa"}),Object(h.jsx)("input",{id:"email",ref:e})]}),Object(h.jsx)("button",{onClick:o,children:"Resetuj"})]})]})},Xt=n(37),qt=n.n(Xt),Wt=function(e){var t=e.art;return Object(c.useEffect)((function(){console.log(t)}),[]),Object(h.jsxs)("div",{className:qt.a.tagArticle,children:[Object(h.jsx)("div",{className:qt.a.imageCnt,children:Object(h.jsx)("img",{src:t.imageText[0][0]})}),Object(h.jsxs)("div",{className:qt.a.articleBodyCnt,children:[Object(h.jsx)("div",{className:qt.a.subTitle,children:Object(h.jsx)("h3",{children:t.subTitle})}),Object(h.jsx)("div",{className:qt.a.title,children:Object(h.jsx)("h3",{children:t.title})}),Object(h.jsx)("div",{className:qt.a.txt,children:Object(h.jsx)("p",{children:t.articleText.slice(3)})}),Object(h.jsxs)("div",{className:qt.a.footer,children:[Object(h.jsx)("span",{className:qt.a.date,children:"".concat(t.date.split(" ")[0].split("-").reverse().join(".").concat(".")," u ").concat(t.date.split(" ")[1].split(":").slice(0,2).join(":"))}),Object(h.jsxs)("div",{className:qt.a.bundle,children:[Object(h.jsxs)("span",{children:[Object(h.jsxs)("svg",{class:"inline h-3 w-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[Object(h.jsx)("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),Object(h.jsx)("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]}),Object(h.jsxs)("span",{children:["\xa0",t.comments?Ye(t.comments):0]})]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("svg",{class:"ml-1 inline h-3 w-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(h.jsx)("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"})}),Object(h.jsxs)("span",{children:["\xa0",t.shares.constructor===Object?Object.keys(t.shares).length:0]})]})]})]})]})]})},Qt=n(38),$t=n.n(Qt),en=function(){var e=Object(i.useHistory)(),t=Object(i.useLocation)(),n=Object(c.useState)({}),a=Object(l.a)(n,2),o=a[0],s=a[1],j=Object(c.useState)([]),u=Object(l.a)(j,2),b=u[0],O=u[1],f=Object(c.useState)(!1),p=Object(l.a)(f,2),g=p[0],x=p[1],v=Object(c.useState)([]),k=Object(l.a)(v,2),y=k[0],_=k[1],C=Object(c.useState)([]),I=Object(l.a)(C,2),D=I[0],w=I[1],S=Object(c.useState)(!1),N=Object(l.a)(S,2),B=N[0],T=N[1],A=Object(c.useRef)(void 0),L=Object(c.useRef)(void 0),P=Object(c.useRef)(void 0),R=Object(c.useRef)(void 0);Object(c.useEffect)((function(){window.scrollTo(0,0);var t=e.location.pathname.split("/");console.log(e.location.pathname.split("/")[1]),console.log(e.location.search),console.log(t),t[1].includes("pretraga")||t[1].includes("najnovije")||t[1].includes("naj\u010ditanije")||t[1].includes("popularno")?t[1].includes("pretraga")?O(["pretraga",e.location.search.split("?q=")[1].trim()]):t[1].includes("najnovije")?O(["najnovije",null]):t[1].includes("naj\u010ditanije")?O(["naj\u010ditanije",null]):t[1].includes("popularno")&&O(["popularno",null]):"Magazin"===t[1]&&"Film-TV"===t[2]?O([t[t.length-2],"Film/TV"]):O([t[t.length-2],t[t.length-1]])}),[]),Object(c.useEffect)((function(){console.log(b),b.length&&!A.current&&(A.current="defined",F())}),[b]);var E=function(e){return new Promise((function(t){var n=[];e.forEach((function(e){n.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e.articlePath,".json")).then((function(e){return e.json()}))),console.log("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(e.articlePath,".json"))})),Promise.all(n).then((function(e){t(e)}))}))},F=function(){if("pretraga"!==b[0]&&"najnovije"!==b[0]&&"naj\u010ditanije"!==b[0]&&"popularno"!==b[0]){var t=m.ref("".concat("tagovi"!==e.location.pathname.split("/")[1]?"articles":"related","/").concat(b[0],"/").concat(b[1]));console.log("".concat("tagovi"!==e.location.pathname.split("/")[1]?"articles":"related","/").concat(b[0],"/").concat(b[1])),L.current&&!o[o.current+1]?t.orderByKey().endBefore("".concat(L.current)).limitToLast(2).once("value",(function(t){if(t.val()){console.log(t.val());var n=Object.values(t.val());"tagovi"!==e.location.pathname.split("/")[1]?(s((function(e){var t=Object(d.a)({},e);return t.current=t.current+1,t[t.current]=n,console.log(t),t})),L.current=Object.keys(t.val())[0]):E(n).then((function(e){s((function(t){var n=Object(d.a)({},t);return n.current=n.current+1,n[n.current]=e,console.log(n),n})),L.current=Object.keys(t.val())[0]}))}else s((function(e){var t=Object(d.a)({},e);return t.current=null,t}))})):L.current?s((function(e){return Object(d.a)(Object(d.a)({},e),{},{current:e.current+1})})):L.current||t.orderByKey().limitToLast(2).once("value",(function(t){if(t.val()){var n=Object.values(t.val());console.log(n),"tagovi"!==e.location.pathname.split("/")[1]?(s({0:n,current:0}),L.current=Object.keys(t.val())[0]):E(n).then((function(e){console.log(e),s({0:e,current:0}),L.current=Object.keys(t.val())[0]}))}}))}else if("najnovije"===b[0]||"naj\u010ditanije"===b[0]||"popularno"===b[0])if(D.length)o[o.current+1]?s((function(e){return Object(d.a)(Object(d.a)({},e),{},{current:e.current+1})})):s((function(e){var t=Object(d.a)({},e);return t.current=t.current+1,t[t.current]=D.slice(R.current,R.current+10),R.current+=10,t[t.current].length||(delete t[t.current],t.current=null),t})),window.scrollTo(0,0);else{var n=[fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/dates/2022/3/7.json").then((function(e){return e.json()})),fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/dates/2022/3/8.json").then((function(e){return e.json()}))];Promise.all(n).then((function(e){var t=Object.values(e[0]).concat(Object.values(e[1])),n=t.map((function(e){return{articlePath:"".concat(e.path,"/").concat(e.id)}}));console.log(t),console.log(n),E(n).then((function(e){"najnovije"===b[0]?(e.sort((function(e,t){return new Date(e.date)-new Date(t.date)>0?-1:new Date(e.date)-new Date(t.date)<0?1:0})),console.log(e)):"naj\u010ditanije"===b[0]?e.sort((function(e,t){return(e.visited.constructor===Object?Object.keys(e.visited).length:0)-(t.visited.constructor===Object?Object.keys(t.visited).length:0)>0?-1:(e.visited.constructor===Object?Object.keys(e.visited).length:0)-(t.visited.constructor===Object?Object.keys(t.visited).length:0)<0?1:0})):"popularno"===b[0]&&e.sort((function(e,t){return(e.visited.constructor===Object?Object.keys(e.visited).length:0)+(e.shares.constructor===Object?Object.keys(e.shares).length:0)+(e.comments?Ye(e.comments):0)-((t.visited.constructor===Object?Object.keys(t.visited).length:0)+(t.shares.constructor===Object?Object.keys(t.shares).length:0)+(t.comments?Ye(t.comments):0))>0?-1:(e.visited.constructor===Object?Object.keys(e.visited).length:0)+(e.shares.constructor===Object?Object.keys(e.shares).length:0)+(e.comments?Ye(e.comments):0)-((t.visited.constructor===Object?Object.keys(t.visited).length:0)+(t.shares.constructor===Object?Object.keys(t.shares).length:0)+(t.comments?Ye(t.comments):0))<0?1:0})),console.log(e),w(e),s({0:e.slice(0,10),current:0}),R.current=10}))}))}else if(y.length)y.slice(P.current,P.current+2)[0]||y.slice(P.current,P.current+2)[1]?s((function(e){var t=Object(d.a)({},e);return t.current=t.current+1,t[t.current]=y.slice(P.current,P.current+2),P.current+=2,t})):s((function(e){var t=Object(d.a)({},e);return t.current=null,t}));else{for(var c=[],a=Object.keys(se).map((function(e){return e[0].toUpperCase().concat(e.slice(1))})),r=0;r<a.length;r++)c.push(fetch("https://klix-74c29-default-rtdb.europe-west1.firebasedatabase.app/articles/".concat(a[r],".json")).then((function(e){return e.json()})));Promise.all(c).then((function(e){console.log(e);var t=[];e.forEach((function(e){for(var n in e)for(var c in console.log(n),e[n]){var a=e[n][c].title,r=e[n][c].articleText;if(b[1].includes(" ")){var o=b[1].toLowerCase().split(" ");console.log(o);for(var s=0;s<o.length;s++)(a&&H(a.toLowerCase(),o[s])||r&&H(r.toLowerCase(),o[s]))&&(console.log(a),t.push(e[n][c]))}else(a&&H(a.toLowerCase(),b[1].toLowerCase())||r&&H(r.toLowerCase(),b[1].toLowerCase()))&&t.push(e[n][c])}})),t.length?(t.sort((function(e,t){return new Date(e.date)-new Date(t.date)>0?-1:new Date(e.date)-new Date(t.date)<0?1:0})),console.log(t),_(t),s({0:t.slice(0,2),current:0}),P.current=2):(s({data:[],current:null}),T(!0))}))}};function H(e,t){return null!=e.match(new RegExp("\\b"+t+"\\b"))}return Object(c.useEffect)((function(){console.log(o)}),[o]),Object(c.useEffect)((function(){if(void 0!==A.current){L.current=void 0;var t=e.location.pathname.split("/");t[1].includes("pretraga")||t[1].includes("najnovije")||t[1].includes("naj\u010ditanije")||t[1].includes("popularno")?t[1].includes("pretraga")?O(["pretraga",e.location.search.split("?q=")[1].trim()]):t[1].includes("najnovije")?O(["najnovije",null]):t[1].includes("naj\u010ditanije")?O(["naj\u010ditanije",null]):t[1].includes("popularno")&&O(["popularno",null]):"Magazin"===t[1]&&"Film-TV"===t[2]?O([t[t.length-2],"Film/TV"]):O([t[t.length-2],t[t.length-1]]),x(!0),T(!1),y.length?(s({}),_([])):D.length&&(s({}),w([]))}}),[t]),Object(c.useEffect)((function(){g&&void 0!==A.current&&!B&&(window.scrollTo(0,0),F())}),[t,g,b,B]),Object(h.jsxs)("div",{id:$t.a.tagsCnt,children:[Object(h.jsxs)("div",{id:$t.a.tagsLeft,children:[Object(h.jsx)("div",{id:$t.a.tagsLeftHeader,children:Object(h.jsxs)("h3",{children:[Object(h.jsx)(r.b,{to:"/",children:"Po\u010detna"})," ","tagovi"!==e.location.pathname.split("/")[1]&&"pretraga"!==b[0]&&null!==b[1]?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{children:b[0]})," ",Object(h.jsx)("span",{children:b[1]})]}):Object(h.jsx)("span",{children:b.length?b[1]?b[1]:b[0][0].toUpperCase().concat(b[0].slice(1)):null})]})}),Object(h.jsx)("div",{id:$t.a.tagsLeftBody,children:Object.keys(o).length?null!==o.current?o[o.current].map((function(e){return Object(h.jsx)(Wt,{art:e},Object(M.a)())})):Object(h.jsx)("div",{id:$t.a.nill,children:"Nema vijesti."}):null}),o.data?null:Object(h.jsxs)("div",{id:$t.a.tagsLeftFooter,children:[Object.keys(o).length&&0!==o.current?Object(h.jsx)("button",{onClick:function(){y.length?null!==o.current&&(P.current-=2):D.length&&window.scrollTo(0,0),s((function(e){return Object(d.a)(Object(d.a)({},e),{},{current:null===e.current?Object.keys(e).length-2:e.current-1})}))},children:"Prethodna"}):null,Object.keys(o).length&&null!==o.current?Object(h.jsx)("button",{onClick:F,children:"Sljede\u0107a"}):null]})]}),Object(h.jsx)("div",{id:$t.a.tagsRight})]})},tn=function(){return Object(h.jsx)(en,{})};var nn=function(){var e=Object(c.useContext)(x);return Object(c.useEffect)((function(){b.onAuthStateChanged((function(t){t||t||localStorage.getItem("token")||e.logout()}))}),[]),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(S,{}),Object(h.jsxs)(i.Switch,{children:[Object(h.jsx)(i.Route,{path:"/",exact:!0,children:Object(h.jsx)(ot,{route:"Po\u010detna"})}),Object(h.jsx)(i.Route,{path:"/Vijesti",exact:!0,children:Object(h.jsx)(ot,{route:"Vijesti"})}),Object(h.jsx)(i.Route,{path:"/Biznis",exact:!0,children:Object(h.jsx)(ot,{route:"Biznis"})}),Object(h.jsx)(i.Route,{path:"/Sport",exact:!0,children:Object(h.jsx)(ot,{route:"Sport"})}),Object(h.jsx)(i.Route,{path:"/Magazin",exact:!0,children:Object(h.jsx)(ot,{route:"Magazin"})}),Object(h.jsx)(i.Route,{path:"/Lifestyle",exact:!0,children:Object(h.jsx)(ot,{route:"Lifestyle"})}),Object(h.jsx)(i.Route,{path:"/Scitech",exact:!0,children:Object(h.jsx)(ot,{route:"Scitech"})}),Object(h.jsx)(i.Route,{path:"/Auto",exact:!0,children:Object(h.jsx)(ot,{route:"Auto"})}),Object(h.jsx)(i.Route,{path:"/profil/:user",exact:!0,children:Object(h.jsx)(kt,{children:Object(h.jsx)(mt,{})})}),Object(h.jsx)(i.Route,{path:"/pretraga",children:Object(h.jsx)(tn,{})}),Object(h.jsx)(i.Route,{path:"/najnovije",children:Object(h.jsx)(tn,{})}),Object(h.jsx)(i.Route,{path:"/naj\u010ditanije",children:Object(h.jsx)(tn,{})}),Object(h.jsx)(i.Route,{path:"/popularno",children:Object(h.jsx)(tn,{})}),Object(h.jsx)(i.Route,{path:"/tagovi/:category/:tagLabel",exact:!0,children:Object(h.jsx)(tn,{})}),Object(h.jsx)(i.Route,{path:"/:category/:subcategory",exact:!0,children:Object(h.jsx)(tn,{})}),Object(h.jsx)(i.Route,{path:"/login",children:Object(h.jsx)(kt,{children:Object(h.jsx)(xt,{})})}),Object(h.jsx)(i.Route,{path:"/mojprofil",children:Object(h.jsx)(St,{})}),Object(h.jsx)(i.Route,{path:"/adminpanel",children:Object(h.jsx)(At,{})}),Object(h.jsx)(i.Route,{path:"/editarticles",children:Object(h.jsx)(Pt,{})}),Object(h.jsx)(i.Route,{path:"/:category/:subCategory/:title/:articleId/komentari",children:Object(h.jsx)(Rt,{})}),Object(h.jsx)(i.Route,{path:"/:category/:subCategory/:title/:articleId",children:Object(h.jsx)(Lt,{})}),Object(h.jsx)(i.Route,{path:"/komentar/:commentId",children:Object(h.jsx)(Kt,{})}),Object(h.jsx)(i.Route,{path:"/komentari",children:Object(h.jsx)(Ht,{})}),Object(h.jsx)(i.Route,{path:"/resetpass",children:Object(h.jsx)(Vt,{children:Object(h.jsx)(Gt,{})})})]}),Object(h.jsx)(Ct,{})]})},cn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,113)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};s.a.render(Object(h.jsx)(g,{children:Object(h.jsx)(r.a,{basename:"/klix",children:Object(h.jsx)(nn,{})})}),document.getElementById("root")),cn()}],[[110,1,2]]]);
//# sourceMappingURL=main.05a27bb2.chunk.js.map